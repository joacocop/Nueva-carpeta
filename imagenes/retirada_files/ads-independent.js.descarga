/*! For license information please see ads-independent.js.LICENSE.txt */
!function(){var e,t,n={466:function(e,t,n){"use strict";n.d(t,{Z:function(){return Wp}});var r={};n.r(r),n.d(r,{e4:function(){return ec},assign:function(){return Xs},al:function(){return Js},aT:function(){return tc},Sl:function(){return nc},vU:function(){return rc},o$:function(){return Fs},bf:function(){return zs},OU:function(){return Gs},yC:function(){return oc},lW:function(){return qs},BL:function(){return Ks},sT:function(){return Zs},Q8:function(){return Ws},AE:function(){return Hs},XA:function(){return Ys}});var i=n(661);function o(e){return{render(t){(0,i.render)(t,e)},unmount(){(0,i.unmountComponentAtNode)(e)}}}var a=Symbol.for("openweb-global-object");void 0===window[a]&&(window[a]={flags:{},config:{realTimeNotifications:{}},callbacks:{},services:{},initFunctions:{},safeframe:{}});var s=window[a],c=n(414),u="ats-envelope-id-caching-error",d="ats-integration-error",l="aniview-invalid-code-settings",f="dfp-invalid-code-settings",p="ads-config-fetching-error",h="aniview-script-fetching-error",v="ads-script-runtime-error",m="ad-unit-base-runtime-error",_="ad-unit-iframe-styles-change-guarded-error",g="ad-unit-video-runtime-error",y="render-in-iframe-error",b="ab-test-variant",w="data-source",S="device",A="product",E="timestamp";let C=function(e){return e.AssetsConfig="assets_config",e.InpageSkin="init_data.config.inpage_skin",e.Ltr="init_data.config.ltr",e.PostId="postId",e.SpotId="spotId",e}({});var x,k="tenant_config.ads.independent_ads_custom_selector_enabled",O="tenant_config.ads.independent_ads_custom_selectors",I="tenant_config.pitc.compact",P="tenant_config.pitc.disableUgc",N="tenant_config.pitc.forceDesktopAd",R="tenant_config.pitc.showAdBeforeContent",D="tenant_config.spotlight.isSidebar",T=Array.isArray,M="object"==typeof global&&global&&global.Object===Object&&global,j="object"==typeof self&&self&&self.Object===Object&&self,U=M||j||Function("return this")(),$=U.Symbol,B=Object.prototype,V=B.hasOwnProperty,L=B.toString,z=$?$.toStringTag:void 0,F=Object.prototype.toString,W=$?$.toStringTag:void 0,H=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":W&&W in Object(e)?function(e){var t=V.call(e,z),n=e[z];try{e[z]=void 0;var r=!0}catch(e){}var i=L.call(e);return r&&(t?e[z]=n:delete e[z]),i}(e):function(e){return F.call(e)}(e)},Y=function(e){return null!=e&&"object"==typeof e},G=function(e){return"symbol"==typeof e||Y(e)&&"[object Symbol]"==H(e)},q=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Q=/^\w*$/,J=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},K=function(e){if(!J(e))return!1;var t=H(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},Z=U["__core-js_shared__"],X=(x=/[^.]+$/.exec(Z&&Z.keys&&Z.keys.IE_PROTO||""))?"Symbol(src)_1."+x:"",ee=Function.prototype.toString,te=function(e){if(null!=e){try{return ee.call(e)}catch(e){}try{return e+""}catch(e){}}return""},ne=/^\[object .+?Constructor\]$/,re=Function.prototype,ie=Object.prototype,oe=re.toString,ae=ie.hasOwnProperty,se=RegExp("^"+oe.call(ae).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ce=function(e){return!(!J(e)||(t=e,X&&X in t))&&(K(e)?se:ne).test(te(e));var t},ue=function(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return ce(n)?n:void 0},de=ue(Object,"create"),le=Object.prototype.hasOwnProperty,fe=Object.prototype.hasOwnProperty;function pe(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}pe.prototype.clear=function(){this.__data__=de?de(null):{},this.size=0},pe.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},pe.prototype.get=function(e){var t=this.__data__;if(de){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return le.call(t,e)?t[e]:void 0},pe.prototype.has=function(e){var t=this.__data__;return de?void 0!==t[e]:fe.call(t,e)},pe.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=de&&void 0===t?"__lodash_hash_undefined__":t,this};var he=pe,ve=function(e,t){return e===t||e!=e&&t!=t},me=function(e,t){for(var n=e.length;n--;)if(ve(e[n][0],t))return n;return-1},_e=Array.prototype.splice;function ge(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ge.prototype.clear=function(){this.__data__=[],this.size=0},ge.prototype.delete=function(e){var t=this.__data__,n=me(t,e);return!(n<0||(n==t.length-1?t.pop():_e.call(t,n,1),--this.size,0))},ge.prototype.get=function(e){var t=this.__data__,n=me(t,e);return n<0?void 0:t[n][1]},ge.prototype.has=function(e){return me(this.__data__,e)>-1},ge.prototype.set=function(e,t){var n=this.__data__,r=me(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};var ye=ge,be=ue(U,"Map"),we=function(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map};function Se(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Se.prototype.clear=function(){this.size=0,this.__data__={hash:new he,map:new(be||ye),string:new he}},Se.prototype.delete=function(e){var t=we(this,e).delete(e);return this.size-=t?1:0,t},Se.prototype.get=function(e){return we(this,e).get(e)},Se.prototype.has=function(e){return we(this,e).has(e)},Se.prototype.set=function(e,t){var n=we(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};var Ae=Se;function Ee(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Ee.Cache||Ae),n}Ee.Cache=Ae;var Ce,xe,ke=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Oe=/\\(\\)?/g,Ie=(Ce=Ee((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ke,(function(e,n,r,i){t.push(r?i.replace(Oe,"$1"):n||e)})),t}),(function(e){return 500===xe.size&&xe.clear(),e})),xe=Ce.cache,Ce),Pe=$?$.prototype:void 0,Ne=Pe?Pe.toString:void 0,Re=function e(t){if("string"==typeof t)return t;if(T(t))return function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}(t,e)+"";if(G(t))return Ne?Ne.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n},De=function(e,t){return T(e)?e:function(e,t){if(T(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!G(e))||Q.test(e)||!q.test(e)||null!=t&&e in Object(t)}(e,t)?[e]:Ie(function(e){return null==e?"":Re(e)}(e))},Te=function(e){if("string"==typeof e||G(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t},Me=function(e,t,n){var r=null==e?void 0:function(e,t){for(var n=0,r=(t=De(t,e)).length;null!=e&&n<r;)e=e[Te(t[n++])];return n&&n==r?e:void 0}(e,t);return void 0===r?n:r},je=window.__SPOTIM__.libSlimLauncher.configProvider,Ue=n.n(je);const $e=new Map;var Be=n(890),Ve="Opera";const Le={type:"other",version:"unknown"},ze=[{markerRegex:/(Edg|EdgA|EdgiOS)/,typeAndVersionRegex:/(?<type>(Edg|EdgA|EdgiOS))\/(?<version>\d+)(.|\s)/,replacements:{EdgA:"Edge Android",EdgiOS:"Edge iOS",Edg:"Edge"}},{markerRegex:/DuckDuckGo/,typeAndVersionRegex:/(?<type>(DuckDuckGo))\/(?<version>\d+)(.|\s)/,replacements:{}},{markerRegex:/(OPR|Opera|Opera Mini)/,typeAndVersionRegex:/(?<type>(OPR|Opera Mini|Version))\/(?<version>\d+)(.|\s)/,replacements:{OPR:Ve,Version:Ve}},{markerRegex:/SamsungBrowser/,typeAndVersionRegex:/(?<type>(SamsungBrowser))\/(?<version>\d+)(.|\s)/,replacements:{}},{markerRegex:/Focus/,typeAndVersionRegex:/(?<type>(Focus))\/(?<version>\d+)(.|\s)/,replacements:{Focus:"Firefox Focus"}},{markerRegex:/Chrome/,typeAndVersionRegex:/(?<type>(Chrome))\/(?<version>\d+)(.|\s)/,replacements:{}},{markerRegex:/(Firefox|Version|CriOS|FxiOS)/,typeAndVersionRegex:/(?<type>(Firefox|Version|CriOS|FxiOS))\/(?<version>\d+)(.|\s)/,replacements:{CriOS:"Chrome iOS",FxiOS:"Firefox iOS",Version:"Safari"}}],Fe=(e,t)=>({type:(t?.type&&Object.keys(e).includes(t?.type)?e[t.type]:t?.type)??Le.type,version:t?.version??Le.version}),We=/(mobile|iemobile|android|webos|iphone|ipod|blackberry|windows phone)/,He=/ipad/;var Ye=function(){const e=window?.navigator?.userAgent?.toLowerCase()??"";return Boolean(e.match(We))&&!e.match(He)}(),Ge=n(134);function qe(e){var t;return null!=(t=Qe(e.name))?t:e}function Qe(e){var t,n;return null==(t=window.__OPEN_WEB__)||null==(n=t.duplicated_functions_support)?void 0:n[e]}var Je=function(){var e;return null!=(e=Qe("isInSafeframe"))?e:window.top!==window&&!!window.$sf},Ke=0,Ze=!1,Xe=function(e){var t,n,r;return e?null==(t=100!==(null==(n=window.$sf)||null==(r=n.ext)||null==r.inViewPercentage?void 0:r.inViewPercentage()))||t:(document.documentElement.scrollHeight||document.body.scrollHeight)>window.innerHeight+20},et=function(){return document.documentElement.scrollTop||document.body.scrollTop||window.pageYOffset},tt=function(e){var t,n;return!!e&&(null==(t=window.$sf)||null==(n=t.ext)||null==n.inViewPercentage?void 0:n.inViewPercentage())>0},nt=function(e){var t,n,r,i,o;return e?null!=(t=null==(n=Qe("getBrowserScrollPositionSafeFrame"))?void 0:n())?t:(i=(r=window.$sf.ext.geom()).par,o=r.win,i.t||i.b-o.h):qe(et)()},rt=function(e,t){var n=function n(){e(t),window.removeEventListener("resize",n),window.removeEventListener("scroll",r)},r=function r(){!function(e,t,n,r){Ke=et(),Ze||(window.requestAnimationFrame((function(){!function(e,t,n,r,i){e>=20&&(window.removeEventListener("resize",r),window.removeEventListener("scroll",n),t(i))}(Ke,e,t,n,r),Ze=!1})),Ze=!0)}(e,r,n,t)};window.addEventListener("scroll",r,{passive:!0}),window.addEventListener("resize",n)},it=function(e,t){document.addEventListener("geom-update",(function n(){nt(!0)>=20&&(document.removeEventListener("geom-update",n),e(t))}))},ot=window.location,at=function(e){void 0===e&&(e=document.referrer);try{return new URL(e)}catch(e){return ot}},st=function(){return Je()?at(s.safeframe.hostUrl):(null!=(e=Qe("isInIframe"))?e:window.top!==window.self)?at(s.config.hostUrl):ot;var e};const ct=()=>qe(st)().href,ut=()=>new URLSearchParams(window.location.search),dt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.href;const t=new URL(e);return t.origin+t.pathname},lt="ads-independent"===c.F0.AdsIndependent?c.F0.AdsIndependent:c.F0.Ads,ft=ut(),pt=Boolean(localStorage.getItem(c.BU.AdUnitDebugApi)||ft.get(c.Rc.OpenWebAdsDebug)),ht="*"===localStorage.getItem(c.BU.SpotimDebugApi),vt=Boolean(localStorage.getItem(c.BU.AdUnitVerboseLogging)||ft.get(c.Rc.OpenWebAdsVerboseLogging)),mt=window.__SPOTIMENV__??c.CQ.Production,_t="production",gt={adsAssetType:lt,isVerboseLoggingEnabled:vt,browser:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent;try{for(const t of ze)if(t.markerRegex.test(e)){const n=t.typeAndVersionRegex.exec(e)?.groups;return Fe(t.replacements,n)}return Le}catch{return Le}}(),device:Ye?Be.t4.Mobile:Be.t4.Desktop,endpoints:{apiAdsConfig:{production:"https://api-2-0.spot.im/v1.0.0/owa-gw/spot",staging:"https://api.staging-spot.im/owa-gw/spot"}},isDebugMode:ht||pt,launcherEnv:{isDevelopment:mt===c.CQ.Development,isProduction:mt===c.CQ.Production,isStaging:mt===c.CQ.Staging,type:mt},nodeEnv:{isDevelopment:_t===c.CQ.Development,isProduction:_t===c.CQ.Production,isTest:mt===c.CQ.Test,type:_t},platform:window.navigator?.userAgentData?.platform??window.navigator?.platform,version:"v22.18.0"};var yt=gt;const{isDebugMode:bt,isVerboseLoggingEnabled:wt}=yt,St=function(e,t){if(bt&&Et(e)){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];console.log(`%cOpenWeb Ads%c\n\n%c${t}:%c (${Number(performance.now().toFixed(2))} ms)`,"background: #424242; color: #81d4fa","background: transparent; color: unset","color: #a5d6a7","color: unset",...r)}},At=function(e,t){if(bt&&Et(e)){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];console.error(`%cOpenWeb Ads%c\n\n%c${t}%c\n`,"color: #81d4fa","color: unset","color: #ffcc80","color: unset",...r)}},Et=e=>!e||wt,Ct=window.__OW_CONFIG__,xt=function(e,t){if((!(arguments.length>2&&void 0!==arguments[2])||arguments[2])&&$e?.has(e)){const t=$e.get(e);return St(!0,`Get configuration "${e}" from cache`,t),t}const n=Ue().get(e)??Me(Ct,e,t);return $e?.set(e,n),St(!0,`Add configuration "${e}" to cache`,n),n};const kt=()=>xt(C.PostId,void 0,!1)??Array.from(document.querySelectorAll("script[data-spotim-module]"))?.[0]?.dataset.postId??c.yq,Ot=function(){const e=(t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],xt(C.SpotId,void 0,t)??window.__OW_CONFIG__?.init_data?.config?.id);var t;if(!e)throw new Error("Spot id is not provided");return e};var It="NETWORK_ONLY";const Pt=432e5,Nt=It,Rt=()=>{const e=xt("tenant_config.ads.ads_config_fetch_settings",{cache_expiration_interval:Pt,cache_version:"v1",fetch_strategy:Nt,request_retry_count:3,request_retry_timeout:500,response_delay_timeout:1e3});return e.cache_expiration_interval??=Pt,e.cache_version??="v1",e.fetch_strategy??=Nt,e.request_retry_count??=3,e.request_retry_timeout??=500,e.response_delay_timeout??=1e3,e},Dt={is_enabled:!0},Tt=()=>{const{is_enabled:e=Dt.is_enabled}=xt("tenant_config.ads.conversation",Dt);return{is_enabled:e}},Mt={is_iframe_body_centering_enabled:!0,is_dfp_container_centering_enabled:!0,dfp_container_selector:'body div[data-google-query-id]:first-of-type, body div[id^="div-gpt-ad"]:first-of-type, body div[id^="gpt-passback"]:first-of-type'},jt={is_enabled:!0,max_count:100,frequency:null},Ut={is_enabled:!0},$t={max_scrolling_speed:5,max_device_memory:16,max_internet_connection_speed:"4g",internet_connection_speed_map:{"1g":.1,"2g":.3,"3g":7.2,"4g":100}},Bt=()=>xt("tenant_config.ads.monitoring",{}),Vt={is_enabled:!1,top:30,z_index:20},Lt=()=>{const{is_enabled:e=Vt.is_enabled,top:t=Vt.top,z_index:n=Vt.z_index}=xt("tenant_config.ads.sliding",Vt)??{};return{is_enabled:e,top:t,z_index:n}},zt={is_enabled:!1,is_animation_enabled:!1,is_stay_sticky_after_timeout:!1,sticky_area_css_selector:[c.aN.ConversationDefaultArea,c.aN.ConversationSpecificArea],timeout:3e3,z_index:20},Ft=()=>{const{is_enabled:e=zt.is_enabled,is_animation_enabled:t=zt.is_animation_enabled,is_stay_sticky_after_timeout:n=zt.is_stay_sticky_after_timeout,sticky_area_css_selector:r=zt.sticky_area_css_selector,timeout:i=zt.timeout,z_index:o=zt.z_index}=xt("tenant_config.ads.sticky_desktop",zt);return{is_enabled:e,is_animation_enabled:t,is_stay_sticky_after_timeout:n,sticky_area_css_selector:r,timeout:i,z_index:o}},Wt={is_enabled:!1,is_stay_sticky_after_timeout:!1,sticky_area_css_selector:[c.aN.ConversationDefaultArea,c.aN.ConversationSpecificArea],timeout:3e3,top:0,z_index:20},Ht=()=>{const{is_enabled:e=Wt.is_enabled,is_stay_sticky_after_timeout:t=Wt.is_stay_sticky_after_timeout,sticky_area_css_selector:n=Wt.sticky_area_css_selector,timeout:r=Wt.timeout,top:i=Wt.top,z_index:o=Wt.z_index}=xt("tenant_config.ads.sticky_mobile",Wt);return{is_enabled:e,is_stay_sticky_after_timeout:t,sticky_area_css_selector:n,timeout:r,top:i,z_index:o}},Yt={is_disabled_by_default:[]},Gt={is_enabled:!1,active_products:[],products_heights:{}},qt=()=>{const{is_enabled:e=Gt.is_enabled,active_products:t=Gt.active_products,products_heights:n=Gt.products_heights}=xt("tenant_config.ads.video_takeover",Gt);return{is_enabled:e,active_products:t,products_heights:n}},Qt="DETAILED",Jt=(e,t)=>{const{metrics:n={}}=Bt();return n.error?.[t]===Qt?e.message:"Error placeholder"};var Kt,Zt,Xt=()=>s.config.pageViewId??"",en=Object.prototype,tn=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||en)},nn=(Kt=Object.keys,Zt=Object,function(e){return Kt(Zt(e))}),rn=Object.prototype.hasOwnProperty,on=function(e){if(!tn(e))return nn(e);var t=[];for(var n in Object(e))rn.call(e,n)&&"constructor"!=n&&t.push(n);return t},an=ue(U,"DataView"),sn=ue(U,"Promise"),cn=ue(U,"Set"),un=ue(U,"WeakMap"),dn="[object Map]",ln="[object Promise]",fn="[object Set]",pn="[object WeakMap]",hn="[object DataView]",vn=te(an),mn=te(be),_n=te(sn),gn=te(cn),yn=te(un),bn=H;(an&&bn(new an(new ArrayBuffer(1)))!=hn||be&&bn(new be)!=dn||sn&&bn(sn.resolve())!=ln||cn&&bn(new cn)!=fn||un&&bn(new un)!=pn)&&(bn=function(e){var t=H(e),n="[object Object]"==t?e.constructor:void 0,r=n?te(n):"";if(r)switch(r){case vn:return hn;case mn:return dn;case _n:return ln;case gn:return fn;case yn:return pn}return t});var wn=bn,Sn=function(e){return Y(e)&&"[object Arguments]"==H(e)},An=Object.prototype,En=An.hasOwnProperty,Cn=An.propertyIsEnumerable,xn=Sn(function(){return arguments}())?Sn:function(e){return Y(e)&&En.call(e,"callee")&&!Cn.call(e,"callee")},kn=xn,On=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},In=function(e){return null!=e&&On(e.length)&&!K(e)},Pn="object"==typeof exports&&exports&&!exports.nodeType&&exports,Nn=Pn&&"object"==typeof module&&module&&!module.nodeType&&module,Rn=Nn&&Nn.exports===Pn?U.Buffer:void 0,Dn=(Rn?Rn.isBuffer:void 0)||function(){return!1},Tn={};Tn["[object Float32Array]"]=Tn["[object Float64Array]"]=Tn["[object Int8Array]"]=Tn["[object Int16Array]"]=Tn["[object Int32Array]"]=Tn["[object Uint8Array]"]=Tn["[object Uint8ClampedArray]"]=Tn["[object Uint16Array]"]=Tn["[object Uint32Array]"]=!0,Tn["[object Arguments]"]=Tn["[object Array]"]=Tn["[object ArrayBuffer]"]=Tn["[object Boolean]"]=Tn["[object DataView]"]=Tn["[object Date]"]=Tn["[object Error]"]=Tn["[object Function]"]=Tn["[object Map]"]=Tn["[object Number]"]=Tn["[object Object]"]=Tn["[object RegExp]"]=Tn["[object Set]"]=Tn["[object String]"]=Tn["[object WeakMap]"]=!1;var Mn="object"==typeof exports&&exports&&!exports.nodeType&&exports,jn=Mn&&"object"==typeof module&&module&&!module.nodeType&&module,Un=jn&&jn.exports===Mn&&M.process,$n=function(){try{return jn&&jn.require&&jn.require("util").types||Un&&Un.binding&&Un.binding("util")}catch(e){}}(),Bn=$n&&$n.isTypedArray,Vn=Bn?function(e){return function(t){return e(t)}}(Bn):function(e){return Y(e)&&On(e.length)&&!!Tn[H(e)]},Ln=Object.prototype.hasOwnProperty,zn=function(e){if(null==e)return!0;if(In(e)&&(T(e)||"string"==typeof e||"function"==typeof e.splice||Dn(e)||Vn(e)||kn(e)))return!e.length;var t=wn(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(tn(e))return!on(e).length;for(var n in e)if(Ln.call(e,n))return!1;return!0},Fn=window.__SPOTIM__.libSlimLauncher.metricsReporter;const Wn=n.n(Fn)()(Ot(),yt.adsAssetType,{version:yt.version}),Hn=e=>Boolean(e)&&!zn(e);let Yn={};const Gn=e=>{const{metrics:t={}}=Bt();return[!0,Qt].some((n=>t.error?.[e]===n))},qn=e=>{const{metrics:t={}}=Bt();return!0===t.general?.[e]},Qn=e=>{let{error:t,isMetricEnabled:n,metric:r,options:i={},tags:o={},sendMetric:a}=e;return Promise.resolve().then((()=>{if(!n)return void St(!0,"Sending metric is disabled",r);const{isDisposable:e}=i;if(e){if((e=>{const t=Xt();return Boolean(Yn[t]?.[e])})(r))return;(e=>{const t=Xt();Yn[t]||(Yn={[t]:{}}),Yn[t][e]=!0})(r)}const s=[],c=(e=>{const{tags:t={}}=Bt();return Object.entries(e).reduce(((e,n)=>{let[r,i]=n;return!0===t[r]&&(e[r]=i),e}),{})})(o);a(c),t&&s.push("\nError:",t),i&&s.push("\nOptions:",i),c&&s.push("\nTags:",c),St(!0,"Sending metric",r,...s)})).catch((e=>{At(!0,"Sending metric error",e,"\nMetric:",r)}))},Jn=e=>{let{error:t,metric:n,options:r,tags:i}=e;return Qn({error:t,metric:n,options:r,tags:i,isMetricEnabled:Gn(n),sendMetric:e=>(e=>{let{error:t,metric:n,tags:r}=e;return Wn.error(n,t,Hn(r)?r:void 0)})({error:t,metric:n,tags:e})})},Kn=e=>{let{metric:t,options:n,tags:r}=e;return Qn({metric:t,options:n,tags:r,isMetricEnabled:qn(t),sendMetric:e=>(e=>{let{metric:t,tags:n}=e;return Wn.send(t,Hn(n)?{tags:n}:void 0)})({metric:t,tags:e})})};const Zn=e=>(0,Ge.dispatch)(c.Fl.AdUnitEvent,e),Xn=(e,t,n)=>{const r=`${e}-${t}`;St(!0,"Dispatching event",r,"\nParameters:",n),(0,Ge.dispatch)(r,n)},er=(e,t,n)=>{const r=`${e}-${t}`;return St(!0,"Subscribing to event",r),(0,Ge.subscribe)(r,n)},tr=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>{},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;Xn(arguments.length>1?arguments[1]:void 0,Be.Vq.OnDimensionsChange,{width:t,height:n}),e({width:t,height:n})};var nr=async()=>{if("complete"!==document.readyState)return new Promise((e=>window.addEventListener("load",(()=>e(!0)),{once:!0})))},rr=e=>Boolean(window.__tcfapi&&e&&xt("tenant_config.ads.is_cookie_consent_observed_by_aniview",!1));const ir=/<script[^>]*meow\.spot\.im[^>]*><\/script>/;var or=e=>xt("tenant_config.ads.tags_awaiting_for_load_event",[]).includes(e);const ar=e=>e*c.Ix*c.oG*c.ks*c.Zv;var sr=(e,t,n)=>{navigator.cookieEnabled&&(document.cookie=`${e}=${t}${(e=>{if(null==e)return"";const t=new Date;return t.setTime(t.getTime()+ar(e)),`; expires=${t.toUTCString()}`})(n)}; path=/`)},cr=e=>`${Xt()}-${e}-${Date.now()}`,ur=window.__SPOTIM__.libSlimLauncher.ab,dr=n.n(ur),lr=window.__SPOTIM__.libSlimLauncher.analytics;const fr=e=>{const t=(e=>{const{ad_call_ids:t,...n}=e,{engine_vendor_name:r}=n;return{...n,...r&&t?{ad_call_id:t[r]}:{}}})(e);return St(!0,"Sending BI event",t),(0,lr.trackEvent)(t)},pr=dr().getAllExperiments(),hr=(e,t,n,r)=>({type:"engine_status",source_version:yt.version,spot_id:Ot(),post_id:kt(),source:t,test_field:pr,campaign_id:n,page_view_id:Xt(),...r?{ad_call_ids:r}:{},...e});var vr=n(293);function mr(e,t){return(0,vr.rS)(e,t)}var _r="start";const gr=e=>{let{reportingModuleName:t,campaignId:n}=e;const r=hr({engine_status:"ads-script-started"},t,n);fr(r)},yr=e=>{let{reportingModuleName:t,campaignId:n}=e;const r=hr({engine_status:"engine-killed-by-request"},t,n);fr(r)};window.googletag=window.googletag||{cmd:[]};var br=e=>{let{reportingModuleName:t,campaignId:n,adCallIds:r}=e;var i;xt("tenant_config.ads.enable_dfp_analytics",!0)&&(i=()=>{window.googletag.pubads().isInitialLoadDisabled()&&(e=>{let{reportingModuleName:t,adCallIds:n,campaignId:r}=e;const i=hr({type:"dfp-initial-load-disabled"},t,r,n);fr(i)})({reportingModuleName:t,adCallIds:r,campaignId:n})},window.googletag.cmd.push(i))},wr="impressionViewable",Sr="slotOnload",Ar="slotRenderEnded",Er="slotRequested",Cr="slotResponseReceived";var xr=e=>{let{adUnitIdFormatted:t,code:n,codeSettings:r,isRenderAdsInIframeEnabled:i,mcmNetworkId:o="",reportingModuleName:a,sellerId:u,slot:d,spotId:l,userGroups:f,isSliding:p=!1,isStickyEnabled:h=!1}=e;const v=xt("tenant_config.ads.adtelligent_account_id","wrapper_hb_270443"),m=xt("tenant_config.ads.supply_chain_enabled",!0),_=(e=>ir.test(e))(n),g=Vo(d),y={userGroups:f,[(S=a,`${A=S,{conversation_header_siderail:"convHeadSR",conversation_header:"convHeader",discover:"discover",in_comment_add_on:"inComAddOn",independent_ad_hp:"iauHP",independent_ad:"independent",reaction_siderail:"reactionsSR",side_rail:"pitcSR",topic_tracker_siderail:"topicTrkSR",topic_tracker:"topicTrk"}[A]??A}SpotId`)]:l,abTestVersion:oo()??"",abTestConfig:ao()??"",assetGroupId:so(),isSliding:`${p}`,isStickyAdUnit:`${h}`,pageViewId:s.config.pageViewId,slot:Vo(d),source_version:yt.version,topSpotId:l,source:a,InCommentAddOn:a===Be.NR.InCommentAddOn?c.QU[g]:""},{googletag_slot_id:b=""}=r??{},w=b.replace("{{MCM_NETWORK_ID}}",o?`,${o}`:"");var S,A;St(!0,"DFP configuration",{...y,code:n},"\nAd Unit Id Formatted:",t);const E=_?(e=>Object.entries(e).map((e=>{let[t,n]=e;return n?`googletag.pubads().setTargeting(${JSON.stringify(t)},${JSON.stringify(n)});`:""})).join(""))(y):(e=>Object.keys(e).map((t=>{const n=e[t];return n?`.setTargeting(${JSON.stringify(t)},${JSON.stringify(n)})`:""})).join(""))(y),C=i?"window.parent":"window",x=ct(),k=[Ar,Sr,Er,Cr,wr].map((e=>(e=>`\n    googletag.pubads().addEventListener('${e}', function(event) {\n      if (event.slot.getAdUnitPath() === '${w}' || ${_}) {\n        ${C}.dispatchEvent(new CustomEvent("dfpEvent-${t}", {\n            detail: {\n             type: '${e}'\n             ${e===Ar?",isEmpty: event.isEmpty":""}\n             ${e===Ar?",size: event.size":""}\n            }\n        }));\n      }\n    });\n  `)(e))).join("\n"),O=n.replace("{{MCM_NETWORK_ID}}",o?`,${o}`:"").replace(_?"googletag.addService(googletag.pubads());":".addService(googletag.pubads());",`${E}${_?"":`.addService(googletag.pubads().set('page_url','${x}'));`} ${k}`);if(m&&O.includes(v)){const e=((e,t)=>`<script>vpb.cmd=vpb.cmd||[];vpb.cmd.push(function(){vpb.setClientSchain({asi:'${e}',sid:'${t}'})})<\/script>`)(c.v2.asi,u);return`${O}${e}`}return O},kr=e=>e?{engine_vendor_name:e.type.toLowerCase(),engine_tag_id:e.id,in_view:`${e.size.width}*${e.size.height}`,variant:e.variant}:{engine_vendor_name:"",engine_tag_id:"",in_view:"",variant:""};const Or=["gdpr","ccpa","ats"],Ir={gdpr:"__tcfapi",ccpa:"__uspapi",ats:"ats"},Pr=e=>`\n  Object.defineProperty(window, '${e}', {\n    get() {\n      return window.parent['${e}'];\n    },\n    configurable: true,\n    enumerable: true\n  });\n  `;var Nr=(e,t)=>{const n=document.createRange().createContextualFragment(e);t.appendChild(n)};const Rr=e=>e,Dr=e=>e,Tr=(e,t)=>{const n={[c.CT.Adtelligent]:Rr,[c.CT.Meow]:Mr,[c.CT.Rise]:jr,[c.CT.Custom]:Dr}[e];return n?n(t):(St(!0,"Failed to format HB code, unknown provider: ",e),t)},Mr=e=>e,jr=e=>e,Ur={width:"100%",height:"100%",border:"none"},$r=async e=>{let{adUnitId:t,content:n,iframe:r,reportingModuleName:i,onContentRendered:o,tagType:a,HBCodeSettings:s}=e;if(!r.contentWindow)return;let c=!1,u=0;const d=()=>{if(u+=1,!r.contentWindow||c)return;r.contentWindow.document.open();const e=Br({adUnitId:t,tagType:a,content:n,HBCodeSettings:s});r.contentWindow.document.write(e),r.contentWindow.document.close(),c=!0,u>1&&Xo(),o&&o()};try{await Mo(d,5,0)}catch(e){At(!0,"Render in iframe error",e,"\nProduct:",i),Zo(ho(e))}c||document.addEventListener("mousedown",d,{once:!0})},Br=e=>{let{adUnitId:t,tagType:n,content:r,HBCodeSettings:i}=e;const o=xt("tenant_config.ads.enable_iframe_local_storage_polyfill",!0),a=xt("tenant_config.ads.enable_iframe_proxies",!1),s=n.toLowerCase()===c.Qy.Dfp,{is_iframe_body_centering_enabled:u,is_dfp_container_centering_enabled:d,dfp_container_selector:l}=(()=>{const{is_iframe_body_centering_enabled:e=Mt.is_iframe_body_centering_enabled,is_dfp_container_centering_enabled:t=Mt.is_dfp_container_centering_enabled,dfp_container_selector:n=Mt.dfp_container_selector}=xt("tenant_config.ads.force_display_ads_centering",Mt);return{is_iframe_body_centering_enabled:e,is_dfp_container_centering_enabled:t,dfp_container_selector:n}})(),f=`\n    ${l} {\n      display: flex; justify-content: center; align-items: center;\n    }\n  `;return`\n  <html lang=${window.document.documentElement.lang}>\n  <style>\n    \n    body {\n      margin: 0;\n      padding: 0;\n      overflow: hidden;\n      background: transparent;\n    }\n  \n    ${s&&u?"\n    body {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n    }\n  ":""}\n    ${s&&d?f:""}\n  </style>\n  <script>\n    window.addEventListener('error', (event) => {\n      window.parent.postMessage({\n        adUnitId: '${t}',\n        error: event.error,\n        isGoogleDfpScript: document.currentScript?.innerHTML.includes('${c.ru}'),\n        type: '${c.YZ.DisplayAdError}',\n      }, window.parent.origin);\n    });\n  <\/script>\n  ${i?Tr(i.provider,i.code):""}\n  <body>\n    ${a?`<script>${(()=>{const e=xt("tenant_config.ads.iframe_proxies",Or);return(t=e,n=Or,t.filter((e=>n.includes(e)))).map((e=>Ir[e])).filter((e=>void 0!==e)).map(Pr).join("\n");var t,n})()}<\/script>`:""}\n    ${o?`<script>${Oo()}<\/script>`:""}\n    ${r}\n  </body>\n</html>\n`};var Vr=async e=>{let{adUnitId:t,content:n,reportingModuleName:r,target:i,tagType:o,HBCodeSettings:a}=e;const s=(e=>{const t=xt("tenant_config.ads.enable_iframe_allow_same_origin",!0),n=xt("tenant_config.ads.iframe_styles_guard_enabled",!0),r=document.createElement("iframe");return n&&(r.onload=()=>{((e,t)=>{const n={attributes:!0,subtree:!1,attributeFilter:["style"]},r=new MutationObserver((i=>{i.forEach((()=>{r.disconnect(),e.style.cssText=_o(Ur),r.observe(e,n);const i=new Error("Iframe styles change guarded");At(!0,"Iframe styles change guarded",i,"\nProduct:",t),Jo(ho(i))}))}));r.observe(e,n)})(r,e)}),Object.assign(r.style,Ur),r.setAttribute("title",c.$b),t&&r.setAttribute("allow-same-origin",""),r})(r);let u=!1;const d=async()=>{u=!0,await $r({adUnitId:t,content:n,iframe:s,reportingModuleName:r,tagType:o,HBCodeSettings:a})};s.addEventListener("load",d,{once:!0}),i.appendChild(s),u||(u=!0,await $r({adUnitId:t,content:n,iframe:s,reportingModuleName:r,onContentRendered:()=>s.removeEventListener("load",d),tagType:o}))},Lr=e=>null!=e,zr=async(e,t)=>{const n=await fetch(e,{method:t?.method??"GET",...t});if(!n.ok)throw new Error(`Fetch error: ${n.status} ${n.statusText}`);return n.json()},Fr=function(e){return e},Wr=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},Hr=Math.max,Yr=function(){try{var e=ue(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),Gr=Yr?function(e,t){return Yr(e,"toString",{configurable:!0,enumerable:!1,value:(n=t,function(){return n}),writable:!0});var n}:Fr,qr=Date.now,Qr=function(e){var t=0,n=0;return function(){var r=qr(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}},Jr=Qr(Gr),Kr=un&&new un,Zr=Kr?function(e,t){return Kr.set(e,t),e}:Fr,Xr=Object.create,ei=function(){function e(){}return function(t){if(!J(t))return{};if(Xr)return Xr(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),ti=function(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=ei(e.prototype),r=e.apply(n,t);return J(r)?r:n}},ni=Math.max,ri=function(e,t,n,r){for(var i=-1,o=e.length,a=n.length,s=-1,c=t.length,u=ni(o-a,0),d=Array(c+u),l=!r;++s<c;)d[s]=t[s];for(;++i<a;)(l||i<o)&&(d[n[i]]=e[i]);for(;u--;)d[s++]=e[i++];return d},ii=Math.max,oi=function(e,t,n,r){for(var i=-1,o=e.length,a=-1,s=n.length,c=-1,u=t.length,d=ii(o-s,0),l=Array(d+u),f=!r;++i<d;)l[i]=e[i];for(var p=i;++c<u;)l[p+c]=t[c];for(;++a<s;)(f||i<o)&&(l[p+n[a]]=e[i++]);return l},ai=function(){};function si(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}si.prototype=ei(ai.prototype),si.prototype.constructor=si;var ci=si,ui=Kr?function(e){return Kr.get(e)}:function(){},di={},li=Object.prototype.hasOwnProperty;function fi(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}fi.prototype=ei(ai.prototype),fi.prototype.constructor=fi;var pi=fi,hi=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t},vi=Object.prototype.hasOwnProperty;function mi(e){if(Y(e)&&!T(e)&&!(e instanceof ci)){if(e instanceof pi)return e;if(vi.call(e,"__wrapped__"))return function(e){if(e instanceof ci)return e.clone();var t=new pi(e.__wrapped__,e.__chain__);return t.__actions__=hi(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}(e)}return new pi(e)}mi.prototype=ai.prototype,mi.prototype.constructor=mi;var _i=mi,gi=function(e){var t=function(e){for(var t=e.name+"",n=di[t],r=li.call(di,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}(e),n=_i[t];if("function"!=typeof n||!(t in ci.prototype))return!1;if(e===n)return!0;var r=ui(n);return!!r&&e===r[0]},yi=Qr(Zr),bi=/\{\n\/\* \[wrapped with (.+)\] \*/,wi=/,? & /,Si=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ai=function(e){return e!=e},Ei=function(e,t){return!(null==e||!e.length)&&function(e,t,n){return t==t?function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}(e,Ai,n)}(e,t,0)>-1},Ci=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],xi=function(e,t,n){var r=t+"";return Jr(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(Si,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););}(Ci,(function(n){var r="_."+n[0];t&n[1]&&!Ei(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(bi);return t?t[1].split(wi):[]}(r),n)))},ki=function(e,t,n,r,i,o,a,s,c,u){var d=8&t;t|=d?32:64,4&(t&=~(d?64:32))||(t&=-4);var l=[e,t,i,d?o:void 0,d?a:void 0,d?void 0:o,d?void 0:a,s,c,u],f=n.apply(void 0,l);return gi(e)&&yi(f,l),f.placeholder=r,xi(f,e,t)},Oi=function(e){return e.placeholder},Ii=/^(?:0|[1-9]\d*)$/,Pi=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&Ii.test(e))&&e>-1&&e%1==0&&e<t},Ni=Math.min,Ri="__lodash_placeholder__",Di=function(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n];a!==t&&a!==Ri||(e[n]=Ri,o[i++]=n)}return o},Ti=function e(t,n,r,i,o,a,s,c,u,d){var l=128&n,f=1&n,p=2&n,h=24&n,v=512&n,m=p?void 0:ti(t);return function _(){for(var g=arguments.length,y=Array(g),b=g;b--;)y[b]=arguments[b];if(h)var w=Oi(_),S=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(y,w);if(i&&(y=ri(y,i,o,h)),a&&(y=oi(y,a,s,h)),g-=S,h&&g<d){var A=Di(y,w);return ki(t,n,e,_.placeholder,r,y,A,c,u,d-g)}var E=f?r:this,C=p?E[t]:t;return g=y.length,c?y=function(e,t){for(var n=e.length,r=Ni(t.length,n),i=hi(e);r--;){var o=t[r];e[r]=Pi(o,n)?i[o]:void 0}return e}(y,c):v&&g>1&&y.reverse(),l&&u<g&&(y.length=u),this&&this!==U&&this instanceof _&&(C=m||ti(C)),C.apply(E,y)}},Mi="__lodash_placeholder__",ji=Math.min,Ui=/\s/,$i=/^\s+/,Bi=function(e){return e?e.slice(0,function(e){for(var t=e.length;t--&&Ui.test(e.charAt(t)););return t}(e)+1).replace($i,""):e},Vi=/^[-+]0x[0-9a-f]+$/i,Li=/^0b[01]+$/i,zi=/^0o[0-7]+$/i,Fi=parseInt,Wi=function(e){if("number"==typeof e)return e;if(G(e))return NaN;if(J(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=J(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Bi(e);var n=Li.test(e);return n||zi.test(e)?Fi(e.slice(2),n?2:8):Vi.test(e)?NaN:+e},Hi=function(e){return e?Infinity===(e=Wi(e))||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0},Yi=function(e){var t=Hi(e),n=t%1;return t==t?n?t-n:t:0},Gi=Math.max,qi=function(e,t,n,r,i,o,a,s){var c=2&t;if(!c&&"function"!=typeof e)throw new TypeError("Expected a function");var u=r?r.length:0;if(u||(t&=-97,r=i=void 0),a=void 0===a?a:Gi(Yi(a),0),s=void 0===s?s:Yi(s),u-=i?i.length:0,64&t){var d=r,l=i;r=i=void 0}var f=c?void 0:ui(e),p=[e,t,n,r,i,d,l,o,a,s];if(f&&function(e,t){var n=e[1],r=t[1],i=n|r,o=i<131,a=128==r&&8==n||128==r&&256==n&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!o&&!a)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var s=t[3];if(s){var c=e[3];e[3]=c?ri(c,s,t[4]):s,e[4]=c?Di(e[3],Mi):t[4]}(s=t[5])&&(c=e[5],e[5]=c?oi(c,s,t[6]):s,e[6]=c?Di(e[5],Mi):t[6]),(s=t[7])&&(e[7]=s),128&r&&(e[8]=null==e[8]?t[8]:ji(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i}(p,f),e=p[0],t=p[1],n=p[2],r=p[3],i=p[4],!(s=p[9]=void 0===p[9]?c?0:e.length:Gi(p[9]-u,0))&&24&t&&(t&=-25),t&&1!=t)h=8==t||16==t?function(e,t,n){var r=ti(e);return function i(){for(var o=arguments.length,a=Array(o),s=o,c=Oi(i);s--;)a[s]=arguments[s];var u=o<3&&a[0]!==c&&a[o-1]!==c?[]:Di(a,c);return(o-=u.length)<n?ki(e,t,Ti,i.placeholder,void 0,a,u,void 0,void 0,n-o):Wr(this&&this!==U&&this instanceof i?r:e,this,a)}}(e,t,s):32!=t&&33!=t||i.length?Ti.apply(void 0,p):function(e,t,n,r){var i=1&t,o=ti(e);return function t(){for(var a=-1,s=arguments.length,c=-1,u=r.length,d=Array(u+s),l=this&&this!==U&&this instanceof t?o:e;++c<u;)d[c]=r[c];for(;s--;)d[c++]=arguments[++a];return Wr(l,i?n:this,d)}}(e,t,n,r);else var h=function(e,t,n){var r=1&t,i=ti(e);return function t(){return(this&&this!==U&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,n);return xi((f?Zr:yi)(h,p),e,t)},Qi=function(e,t){return Jr(function(e,t,n){return t=Hr(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=Hr(r.length-t,0),a=Array(o);++i<o;)a[i]=r[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=r[i];return s[t]=n(a),Wr(e,this,s)}}(e,t,Fr),e+"")}((function(e,t){var n=Di(t,Oi(Qi));return qi(e,32,void 0,t,n)}));Qi.placeholder={};var Ji=Qi;const Ki=e=>e,Zi=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(((e,t)=>function(){return t(e(...arguments))}))},Xi=(e,t)=>e===t,eo=(e,t)=>Zi(t?(e=>t=>t?.[e])(t):Ki,Ji(Xi,e)),to=e=>!e,no=e=>e?e?.split(":"):[],ro=e=>no(e)[1],io=()=>{const e=(t=c.W3.JS,xt(C.AssetsConfig).filter((e=>e.type===t&&e.module===yt.adsAssetType)).find((e=>e.url.split("/").some((e=>e===yt.version)))));var t;if(e)return e.variant},oo=()=>{const e=io();if(e)return ro(e)},ao=()=>{const e=xt("tenant_config.ads.observed_ab_test_experiment_id");if(e)return dr().getVariant(e)};var so=()=>window.__OW_CONFIG__.asset_group_id,co=function(e){return e.Top="top",e.Bottom="bottom",e.Left="left",e.Right="right",e}(co||{});const uo=e=>e.top<0?-e.top:0,lo=e=>e.bottom>window.innerHeight?e.bottom-window.innerHeight:0,fo=e=>e.left<0?-e.left:0,po=e=>e.right>window.innerWidth?e.right-window.innerWidth:0;var ho=e=>e instanceof Error?e:Error(String(e));const vo="_lr_env";var mo=()=>{try{const e=localStorage.getItem("SPOTIM_DEVICE_UUID_V2");return e?JSON.parse(e).uuid:null}catch{return null}},_o=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).flatMap(Object.entries).filter((e=>{let[,t]=e;return null!=t})).reduce(((e,t)=>{let[n,r]=t;return`${e}${n.replace(/([A-Z])/g,"-$1").toLowerCase()}:${r};`}),"")},go={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let yo;const bo=new Uint8Array(16);function wo(){if(!yo&&(yo="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!yo))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return yo(bo)}const So=[];for(let e=0;e<256;++e)So.push((e+256).toString(16).slice(1));var Ao=function(e,t,n){if(go.randomUUID&&!t&&!e)return go.randomUUID();const r=(e=e||{}).random||(e.rng||wo)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=r[e];return t}return function(e,t=0){return(So[e[t+0]]+So[e[t+1]]+So[e[t+2]]+So[e[t+3]]+"-"+So[e[t+4]]+So[e[t+5]]+"-"+So[e[t+6]]+So[e[t+7]]+"-"+So[e[t+8]]+So[e[t+9]]+"-"+So[e[t+10]]+So[e[t+11]]+So[e[t+12]]+So[e[t+13]]+So[e[t+14]]+So[e[t+15]]).toLowerCase()}(r)},Eo=()=>Ao(),Co=async function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=await ko(...n);return or(e)?(await nr(),i):i};const xo=(()=>{let e=[];return t=>{const{async:n=!1,attributes:r={},content:i,areMultipleScriptsPrevented:o=!0,target:a=document.body,url:s}=t,c=a||document.body;return new Promise(((t,u)=>{const d=document.createElement("script");d.type="text/javascript";const l=()=>{a&&a.removeChild(d),u(`Failed to load ${s}`)},f=n=>{t(n),e=e.filter((e=>e!==s))};if(s){const r=document.querySelector(`script[src="${s}"]`);if(r&&o)return e.includes(s)?(r.addEventListener("load",f),void r.addEventListener("error",l)):t(r);e.push(s),d.addEventListener("load",f),d.addEventListener("error",l),d.src=s,d.async=n}if(i&&(d.text=i),r&&Object.entries(r).forEach((e=>{let[t,n]=e;return d.setAttribute(t,n)})),!s&&!i)return u('Failed to loadScript, because "url" and "content" are empty');c.appendChild(d)}))}})();var ko=xo,Oo=()=>'(function(){try{return!!window.localStorage}catch{return!1}})()||Object.defineProperty(window,"localStorage",new function(){var e={};Object.defineProperty(e,"getItem",{value:function(e){return e?this[e]:null},writable:!0,configurable:!1,enumerable:!1}),Object.defineProperty(e,"setItem",{value:function(e,t){if(e)return this[e]=String(t)},writable:!0,configurable:!1,enumerable:!1}),Object.defineProperty(e,"removeItem",{value:function(e){if(e)return delete this[e]},writable:!0,configurable:!1,enumerable:!1}),this.get=function(){return e},this.configurable=!1,this.enumerable=!0});';const Io=e=>{try{return localStorage.getItem(e)}catch(e){return At(!0,"Get data from local storage error:",e),null}},Po=e=>{try{localStorage.removeItem(e)}catch(e){At(!0,"Remove data from local storage error",e)}},No=(e,t)=>{try{localStorage.setItem(e,t)}catch(e){At(!0,"Set data to local storage error",e)}};var Ro=function(e){return e.replace(/[A-Z]/g,(e=>`-${e.toLowerCase()}`))},Do=e=>parseInt(e,10),To=(e,t)=>new Promise(((n,r)=>setTimeout((()=>{try{n(e())}catch(e){r(e)}}),t))),Mo=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;for(let r=0;r<t;r++){const i=r+1;try{return 1===i?e():await To(e,n)}catch(e){if(i===t)throw ho(e)}}},jo=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;for(let r=0;r<t;r++){const i=r+1;try{return 1===i?await e():await To(e,n)}catch(e){if(i===t)throw ho(e)}}};const Uo={row:1,column:1},$o=(e,t)=>e.find((e=>e.slot&&e.slot.row===t.row&&e.slot.column===t.column)),Bo=e=>e.is_default_slot,Vo=e=>`row${e.row}-column${e.column}`,Lo=()=>Ye?window.matchMedia&&window.matchMedia("(min-width: 415px)").matches?Be.t4.Tablet:Be.t4.Mobile:Be.t4.Desktop;function zo(){return zo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zo.apply(this,arguments)}var Fo=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0;return r=>t?i.default.createElement(e,zo({children:r},n||{})):r},Wo=()=>{const e=io(),t=e?ro(e):e,n=(()=>{const e=io();if(!e)return;const[t]=no(e)[0];if(!t)return;const n=dr().getVariant(t);return n?`${t}:${n}`:void 0})(),r=n?ro(n):n;return t&&t!==r?`${t}:${r}`:void 0},Ho=()=>ro(io()??""),Yo=()=>yt.device,Go=()=>{const e=performance.now()/1e3;return e<1?"<1s":e>10?">10s":`${Math.round(e)}s`},qo=e=>{Jn({metric:f,error:Jt(e,f),options:{isDisposable:!0}})},Qo=(e,t)=>{let{product:n}=t;Jn({metric:m,error:Jt(e,m),tags:{[b]:Ho(),[A]:n}})},Jo=e=>{Jn({metric:_,error:Jt(e,_)})},Ko=e=>{Jn({metric:v,error:Jt(e,v),tags:{[b]:Ho()}})},Zo=e=>{Jn({metric:y,error:Jt(e,y)})},Xo=()=>{Kn({metric:"ad-unit-retry-render-in-iframe"})},ea=n(396);const ta={conversationAdContainer:{backgroundColor:"var(--spotim-conversation-background-color)",margin:"25px 0",padding:"0 6px"}};var na=e=>{let{children:t}=e;return i.default.createElement(i.default.Fragment,null,i.default.createElement("slot",null),i.default.createElement("div",{style:ta.conversationAdContainer},t))};const ra={};var ia=()=>(0,i.useCallback)((e=>{ra[e.adUnitId]=!0,Object.keys(ra).length>1||((0,Ge.dispatch)(Be.Lw.AdsReady),St(!0,'Dispatched "ads-ready" global event'))}),[]),oa=()=>Ye&&window.innerWidth<c.jA;const aa=[Be.p9.Conversation,Be.p9.ConversationHeader,Be.p9.ConversationHeaderSiderail,Be.p9.InComment,Be.p9.InCommentAddOn,Be.p9.IndependentAd,Be.p9.IndependentAdHP,Be.p9.Pitc,Be.p9.PitcDD,Be.p9.Reactions,Be.p9.SideRail,Be.p9.TopicTracker,Be.p9.TopicTrackerSiderail],sa=e=>aa.includes(e),ca=e=>e.hasAttribute("disable-ad")||e.hasAttribute("data-disable-ad"),ua=e=>{const t=window.__SPOTIM_ADS_DISABLED__;return"boolean"==typeof t?t:!(!sa(e)||t!==e)&&e},da=(e,t)=>{if(ua(e))return fa(e,t),!0;const n=(e=>{const t=document.querySelector("meta[name=spotim-ads]");return"disable-all"===t?.content||!(!sa(e)||t?.content!==e)&&e})(e);return n?(St(!0,"Ads disabled by meta tag"),ma(n),yr({reportingModuleName:e,campaignId:t}),Kn({metric:"ad-unit-disabled-by-meta-tag",options:{isDisposable:!0}}),!0):void 0},la=e=>{let{campaignId:t,isCampaignMissed:n,isDisabledByFeaturesConfig:r,isDisabledByHtmlAttribute:i,isDisabledByIsOptedOutFlag:o,reportingModuleName:a}=e;return ua(a)?(fa(a,t),!0):o?(St(!0,'Ad unit disabled by "isOptedOut" response flag'),ma(!0),Kn({metric:"ad-unit-disabled-by-is-opted-out-flag",options:{isDisposable:!0}}),!0):n?(St(!0,"Ad unit disabled by empty campaign","\nProduct:",a),(e=>{let{product:t}=e;Kn({metric:"ad-unit-no-campaign",tags:{[A]:t}})})({product:a}),!0):r?(St(!0,"Ad unit disabled by features config"),(e=>{let{product:t}=e;Kn({metric:"ad-unit-disabled-for-product-by-features-config",tags:{[A]:t}})})({product:a}),!0):i?(St(!0,"Ad unit disabled by html attribute","\nProduct:",a),(e=>{let{product:t}=e;Kn({metric:"ad-unit-disabled-for-product-by-html-attribute",tags:{[A]:t}})})({product:a}),(e=>{let{reportingModuleName:t,campaignId:n}=e;const r=hr({engine_status:"content-without-ads"},t,n);fr(r)})({reportingModuleName:a,campaignId:t}),!0):void 0},fa=(e,t)=>{St(!0,"Ad unit disabled by global flag"),yr({reportingModuleName:e,campaignId:t}),Kn({metric:"ad-unit-disabled-by-global-flag",options:{isDisposable:!0}})},pa=(()=>{let e=0;return()=>(e++,e)})();var ha=e=>{let{adIndex:t,moduleName:n,postId:r,slot:i,spotId:o}=e;const a=[n,o,r,i?.row,i?.column,t].filter(Lr).join("-");return`${pa()}-${a}`},va={[Be.xs.Pitc]:{shouldShowHeaderWhenAdNotRendered:!0,slot:c.IJ},[Be.xs.Spotlight]:{moduleName:"conversation_header",slot:c.IJ,shouldShowHeaderWhenAdNotRendered:!0},[Be.xs.PitcDoubleDecker]:{shouldShowHeaderWhenAdNotRendered:!0,slot:c._o,reportingModuleName:"pitc_dd"},[Be.xs.Reactions]:{moduleName:"reactions",center:!0,slot:c.IJ,adPosition:Be.ev.Below},[Be.xs.TopicTracker]:{moduleName:"topic_tracker",slot:c.IJ}},ma=e=>{window.__SPOTIM_ADS_DISABLED__=e};const _a=()=>new Promise((e=>{return t=e,void((r=Qe("initScrollListener"))?r.then(t(n)):function(e,t){var n=Je(),r=nt(n),i=Xe(n),o=tt(n);Ke=0,Ze=!1,r>20||o?e(t):i?n?it(e,t):rt(e,t):setTimeout((function(){e(t)}),0)}(t,n));var t,n,r}));var ga=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;var r;if(r=t,t=Lr(r?.row)&&Lr(r?.column)?r:Uo,!t||!e)return;const i=$o(e,t);if(i)return i;if(!i){const n=e.find(Bo);if(n)return{...n,slot:t}}return i||n?void 0:$o(e,Uo)},ya=e=>{switch(e){case Be.ev.Above:return Be.Nm.Above;case Be.ev.Below:return Be.Nm.Below;case Be.ev.Right:return Be.Nm.Right;case Be.ev.Left:default:return Be.Nm.Left}};const ba=e=>"function"==typeof window.__SPOTIM_IS_LEGACY_VERTICAL_PITC__&&window.__SPOTIM_IS_LEGACY_VERTICAL_PITC__(e),wa=e=>{const t=e.hasAttribute("data-vertical-view")||ba(e),n=e.dataset?.pageType,r=n&&c.bd.hasOwnProperty(n)?c.bd[n]:"";return t?"side_rail":["pitc_hp"].includes(r)?r:"recirculation"};var Sa=e=>({adWrapper:{userSelect:"none",position:"relative",width:"auto",overflow:"hidden",lineHeight:"normal"},takeover:{overflow:"visible"},outerWrapper:{width:e?"100%":"auto"},directionLeft:{flexDirection:"row"},directionRight:{flexDirection:"row-reverse",justifyContent:"flex-end"},directionAbove:{flexDirection:"column"},directionBelow:{flexDirection:"column"},elementWrapper:{width:"100%"},adUnitWrapper:{display:"flex"},pitc:{paddingBottom:"5px"},recirculation:{paddingBottom:"5px"},reactions:{margin:"30px 0"}});const Aa=Sa(Ye),Ea=()=>{const e=document.createElement("div");return e.setAttribute(c.YM,""),e},Ca=e=>{let{adUnitProps:t,headerDiv:n,productContainer:r,productAndTitleContainer:i,stylingWrapper:o,target:a}=e;xa({headerDiv:n,productContainer:r,stylingWrapper:o,target:a,initialProps:t}),ka({headerDiv:n,productContainer:r,productAndTitleContainer:i,initialProps:t})},xa=e=>{let{headerDiv:t,initialProps:n,productContainer:r,stylingWrapper:i,target:o}=e;if(ya(n.adPosition||Be.ev.Left)===Be.Nm.Below){const e=r.querySelector("[data-mini-ad-unit]");r.insertBefore(o,e)}else r.appendChild(o);n.titleBelowAd?r.insertBefore(t,o??null):i.insertBefore(t,i.firstChild)},ka=e=>{let{headerDiv:t,initialProps:n,productContainer:r,productAndTitleContainer:i}=e;const{adUnitId:o,shouldShowHeaderWhenAdNotRendered:a}=n;Xn(o,Be.Vq.OuterAdContainer,{target:i}),Xn(o,Be.Vq.InnerAdContainer,{target:r}),a&&er(o,Be.Vq.OnHeaderSet,(e=>t.innerHTML=e))};var Oa="IntersectionObserver"in window;const Ia=e=>Number.isInteger(e)&&e>0;const Pa=(e,t,n,r,i,o)=>{const a=xt("tenant_config.ads.enable_visibility_observer",!0),{intersection_only_products:s,threshold:c}=xt("tenant_config.ads.visibility_observer_options",{intersection_only_products:[],threshold:.1}),u={threshold:c,rootMargin:"10000px 0px",trackVisibility:!0,delay:100,...o};if(!Oa||!a)return St(!0,"Visibility Observer Disabled",{reportingModuleName:t,target:n}),r(),!0;const d=s.includes(e),l=new IntersectionObserver((e=>{Na(e,t,n,l,d,r,i)}),u),f=d&&n.parentElement?n.parentElement:n;return l.observe(f),l},Na=(e,t,n,r,i,o,a)=>{const[s]=e,c="isVisible"in s,u=c&&s.isVisible,d=!c&&s.isIntersecting||i&&s.isIntersecting;return u||d?(St(!0,"Visibility Observer - Ad visible",{reportingModuleName:t,target:n}),o(),r.unobserve(n),!0):(St(!0,"Visibility Observer - Ad hidden",{reportingModuleName:t,target:n}),a(),!1)},Ra=e=>{const{adsConfig:t,adUnitId:n,center:r,compact:i,isOptedOut:o,moduleName:a,persistentDbv:s,product:u,reportingModuleName:d}=e,{campaign:l,envelope_id:f,s:p,user_groups:h,geo:v}=t,{slot:m}=l??{};return{adsConfig:t,adUnitId:n,campaign:l,center:r,compact:i,envelopeId:f,firstPartyData:p,isOptedOut:o,moduleName:a,persistentDbv:s,product:u,reportingModuleName:d,userGroups:h,slot:m??c.IJ,isGDPRCountry:(_=v,c.rc.includes(_.toUpperCase()))};var _},Da=e=>e&&e.type===Be.mL.Video?{dbvSet:Boolean(e.displayBeforeVideo?.code),passbackInterval:e.video?.interval,passbackSet:Boolean(e.passback?.code),videoCampaign:!0,videoTimeoutEnabled:Boolean(e.passback)&&Boolean(e.video?.interval)}:{dbvSet:!1,passbackSet:!1,videoCampaign:!1,videoTimeoutEnabled:!1},Ta=e=>{let{adUnitProps:t,contextOverrides:n,target:r}=e;const{campaign:i}=t.adsConfig;return{target:r,slidingContainerExtension:null,disableAdForProduct:ca(r),isAdUnitsOverlapDetected:!1,isSlidingEnabled:!1,isStickyEnabled:!1,isStickyDesktopRunning:!1,isTakeoverEnabled:!1,postId:kt(),skipVideo:!1,spotId:Ot(),...Ra(t),...Da(i),...n}};var Ma=(e,t)=>{const{moduleName:n,product:r}=t,i=e.find((e=>e[n]))?.[n];return i?(e=>{let{initialProductConfigs:t,postId:n,productConfigs:r,spotId:i}=e;const{moduleName:o,reportingModuleName:a,slot:s,forceSpecificSlot:c,adIndex:u}=t,{campaigns:d,...l}=r,f={...l,campaign:ga(d,s,c)};return{...t,adsConfig:f,spotId:i,adUnitId:ha({adIndex:u,moduleName:o,postId:n,slot:s,spotId:i}),isOptedOut:Boolean(f.isOptedOut),persistentDbv:xt("tenant_config.ads.persistent_dbv",!0),reportingModuleName:a??o,adIndex:u,slot:s}})({initialProductConfigs:t,postId:kt(),productConfigs:i,spotId:Ot()}):(r&&(0,Ge.dispatch)(`${r}-no-campaign`),void St(!0,`Ads config for ${n} was not found`))};const ja=e=>({engine_status:"engine-will-initialize",row:e.row,column:e.column});var Ua,$a,Ba,Va,La=function(){return La=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},La.apply(this,arguments)};function za(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function Fa(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Wa(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function Ha(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}(Va=Ua||(Ua={})).Start="xstate.start",Va.Stop="xstate.stop",Va.Raise="xstate.raise",Va.Send="xstate.send",Va.Cancel="xstate.cancel",Va.NullEvent="",Va.Assign="xstate.assign",Va.After="xstate.after",Va.DoneState="done.state",Va.DoneInvoke="done.invoke",Va.Log="xstate.log",Va.Init="xstate.init",Va.Invoke="xstate.invoke",Va.ErrorExecution="error.execution",Va.ErrorCommunication="error.communication",Va.ErrorPlatform="error.platform",Va.ErrorCustom="xstate.error",Va.Update="xstate.update",Va.Pure="xstate.pure",Va.Choose="xstate.choose",(Ba=$a||($a={})).Parent="#_parent",Ba.Internal="#_internal";var Ya,Ga=Ua.Start,qa=Ua.Stop,Qa=Ua.Raise,Ja=Ua.Send,Ka=Ua.Cancel,Za=Ua.NullEvent,Xa=Ua.Assign,es=(Ua.After,Ua.DoneState,Ua.Log),ts=Ua.Init,ns=Ua.Invoke,rs=(Ua.ErrorExecution,Ua.ErrorPlatform),is=Ua.ErrorCustom,os=Ua.Update,as=Ua.Choose,ss=Ua.Pure,cs={},us="xstate.guard",ds=!0;function ls(e,t,n){void 0===n&&(n=".");var r=hs(e,n),i=hs(t,n);return Ps(i)?!!Ps(r)&&i===r:Ps(r)?r in i:Object.keys(r).every((function(e){return e in i&&ls(r[e],i[e])}))}function fs(e){try{return Ps(e)||"number"==typeof e?"".concat(e):e.type}catch(e){throw new Error("Events must be strings or objects with a string event.type property.")}}function ps(e,t){try{return Os(e)?e:e.toString().split(t)}catch(t){throw new Error("'".concat(e,"' is not a valid state path."))}}function hs(e,t){return"object"==typeof(n=e)&&"value"in n&&"context"in n&&"event"in n&&"_event"in n?e.value:Os(e)?vs(e):"string"!=typeof e?e:vs(ps(e,t));var n}function vs(e){if(1===e.length)return e[0];for(var t={},n=t,r=0;r<e.length-1;r++)r===e.length-2?n[e[r]]=e[r+1]:(n[e[r]]={},n=n[e[r]]);return t}function ms(e,t){for(var n={},r=Object.keys(e),i=0;i<r.length;i++){var o=r[i];n[o]=t(e[o],o,e,i)}return n}function _s(e,t,n){var r,i,o={};try{for(var a=Fa(Object.keys(e)),s=a.next();!s.done;s=a.next()){var c=s.value,u=e[c];n(u)&&(o[c]=t(u,c,e))}}catch(e){r={error:e}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}return o}var gs=function(e){return function(t){var n,r,i=t;try{for(var o=Fa(e),a=o.next();!a.done;a=o.next())i=i[a.value]}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}};function ys(e){return e?Ps(e)?[[e]]:bs(Object.keys(e).map((function(t){var n=e[t];return"string"==typeof n||n&&Object.keys(n).length?ys(e[t]).map((function(e){return[t].concat(e)})):[[t]]}))):[[]]}function bs(e){var t;return(t=[]).concat.apply(t,Ha([],Wa(e),!1))}function ws(e){return Os(e)?e:[e]}function Ss(e){return void 0===e?[]:ws(e)}function As(e,t,n){var r,i;if(Is(e))return e(t,n.data);var o={};try{for(var a=Fa(Object.keys(e)),s=a.next();!s.done;s=a.next()){var c=s.value,u=e[c];Is(u)?o[c]=u(t,n.data):o[c]=u}}catch(e){r={error:e}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}return o}function Es(e){return e instanceof Promise||!(null===e||!Is(e)&&"object"!=typeof e||!Is(e.then))}function Cs(e,t){return ms(e.states,(function(e,n){if(e){var r=(Ps(t)?void 0:t[n])||(e?e.current:void 0);if(r)return{current:r,states:Cs(e,r)}}}))}function xs(e,t,n,r){ds||ks(!!e,"Attempting to update undefined context");var i=e?n.reduce((function(e,n){var i,o,a=n.assignment,s={state:r,action:n,_event:t},c={};if(Is(a))c=a(e,t.data,s);else try{for(var u=Fa(Object.keys(a)),d=u.next();!d.done;d=u.next()){var l=d.value,f=a[l];c[l]=Is(f)?f(e,t.data,s):f}}catch(e){i={error:e}}finally{try{d&&!d.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}return Object.assign({},e,c)}),e):e;return i}var ks=function(){};function Os(e){return Array.isArray(e)}function Is(e){return"function"==typeof e}function Ps(e){return"string"==typeof e}function Ns(e,t){if(e)return Ps(e)?{type:us,name:e,predicate:t?t[e]:void 0}:Is(e)?{type:us,name:e.name,predicate:e}:e}ds||(ks=function(e,t){var n=e instanceof Error?e:void 0;if((n||!e)&&void 0!==console){var r=["Warning: ".concat(t)];n&&r.push(n),console.warn.apply(console,r)}});var Rs=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}();function Ds(e){return!!e&&"__xstatenode"in e}function Ts(e,t){return Ps(e)||"number"==typeof e?La({type:e},t):e}function Ms(e,t){if(!Ps(e)&&"$$type"in e&&"scxml"===e.$$type)return e;var n=Ts(e);return La({name:n.type,data:n,$$type:"scxml",type:"external"},t)}function js(e,t){return ws(t).map((function(t){return void 0===t||"string"==typeof t||Ds(t)?{target:t,event:e}:La(La({},t),{event:e})}))}function Us(e,t,n,r,i){var o=e.options.guards,a={state:i,cond:t,_event:r};if(t.type===us)return((null==o?void 0:o[t.name])||t.predicate)(n,r.data,a);var s=null==o?void 0:o[t.type];if(!s)throw new Error("Guard '".concat(t.type,"' is not implemented on machine '").concat(e.id,"'."));return s(n,r.data,a)}function $s(e){return"string"==typeof e?{type:e}:e}function Bs(e,t,n){var r=function(){},i="object"==typeof e,o=i?e:null;return{next:((i?e.next:e)||r).bind(o),error:((i?e.error:t)||r).bind(o),complete:((i?e.complete:n)||r).bind(o)}}function Vs(e,t){return"".concat(e,":invocation[").concat(t,"]")}function Ls(e){return(e.type===Qa||e.type===Ja&&e.to===$a.Internal)&&"number"!=typeof e.delay}(Ya={})[Rs]=function(){return this},Ya[Symbol.observable]=function(){return this};var zs=Ms({type:ts});function Fs(e,t){return t&&t[e]||void 0}function Ws(e,t){var n;if(Ps(e)||"number"==typeof e)n=Is(r=Fs(e,t))?{type:e,exec:r}:r||{type:e,exec:void 0};else if(Is(e))n={type:e.name||e.toString(),exec:e};else{var r;if(Is(r=Fs(e.type,t)))n=La(La({},e),{exec:r});else if(r){var i=r.type||e.type;n=La(La(La({},r),e),{type:i})}else n=e}return n}var Hs=function(e,t){return e?(Os(e)?e:[e]).map((function(e){return Ws(e,t)})):[]};function Ys(e){var t=Ws(e);return La(La({id:Ps(e)?e:t.id},t),{type:t.type})}function Gs(e,t){return{type:Qa,event:"function"==typeof e?e:Ts(e),delay:t?t.delay:void 0,id:null==t?void 0:t.id}}function qs(e,t){return{to:t?t.to:void 0,type:Ja,event:Is(e)?e:Ts(e),delay:t?t.delay:void 0,id:t&&void 0!==t.id?t.id:Is(e)?e.name:fs(e)}}var Qs=function(e,t,n){return La(La({},e),{value:Ps(e.expr)?e.expr:e.expr(t,n.data,{_event:n})})},Js=function(e){return{type:Ka,sendId:e}};function Ks(e){var t=Ys(e);return{type:Ua.Start,activity:t,exec:void 0}}function Zs(e){var t=Is(e)?e:Ys(e);return{type:Ua.Stop,activity:t,exec:void 0}}var Xs=function(e){return{type:Xa,assignment:e}};function ec(e,t){var n=t?"#".concat(t):"";return"".concat(Ua.After,"(").concat(e,")").concat(n)}function tc(e,t){var n="".concat(Ua.DoneState,".").concat(e);return{type:n,data:t,toString:function(){return n}}}function nc(e,t){var n="".concat(Ua.DoneInvoke,".").concat(e);return{type:n,data:t,toString:function(){return n}}}function rc(e,t){var n="".concat(Ua.ErrorPlatform,".").concat(e);return{type:n,data:t,toString:function(){return n}}}var ic=function(e){var t,n,r=[];try{for(var i=Fa(e),o=i.next();!o.done;o=i.next())for(var a=o.value,s=0;s<a.actions.length;)a.actions[s].type!==Xa?s++:(r.push(a.actions[s]),a.actions.splice(s,1))}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r};function oc(e,t,n,r,i,o,a){void 0===a&&(a=!1);var s=a?[]:ic(i),c=s.length?xs(n,r,s,t):n,u=a?[n]:void 0,d=[];function l(i,s){var l;switch(s.type){case Qa:var f=function(e,t,n,r){var i,o={_event:n},a=Ms(Is(e.event)?e.event(t,n.data,o):e.event);if(Ps(e.delay)){var s=r&&r[e.delay];i=Is(s)?s(t,n.data,o):s}else i=Is(e.delay)?e.delay(t,n.data,o):e.delay;return La(La({},e),{type:Qa,_event:a,delay:i})}(s,c,r,e.options.delays);return o&&"number"==typeof f.delay&&o(f,c,r),f;case Ja:var p=function(e,t,n,r){var i,o={_event:n},a=Ms(Is(e.event)?e.event(t,n.data,o):e.event);if(Ps(e.delay)){var s=r&&r[e.delay];i=Is(s)?s(t,n.data,o):s}else i=Is(e.delay)?e.delay(t,n.data,o):e.delay;var c=Is(e.to)?e.to(t,n.data,o):e.to;return La(La({},e),{to:c,_event:a,event:a.data,delay:i})}(s,c,r,e.options.delays);if(!ds){var h=s.delay;ks(!Ps(h)||"number"==typeof p.delay,"No delay reference for delay expression '".concat(h,"' was found on machine '").concat(e.id,"'"))}return o&&p.to!==$a.Internal&&("entry"===i?d.push(p):o(p,c,r)),p;case es:var v=Qs(s,c,r);return null==o||o(v,c,r),v;case as:if(!(y=null===(l=s.conds.find((function(n){var i=Ns(n.cond,e.options.guards);return!i||Us(e,i,c,r,o?void 0:t)})))||void 0===l?void 0:l.actions))return[];var m=Wa(oc(e,t,c,r,[{type:i,actions:Hs(Ss(y),e.options.actions)}],o,a),2),_=m[0],g=m[1];return c=g,null==u||u.push(c),_;case ss:var y;if(!(y=s.get(c,r.data)))return[];var b=Wa(oc(e,t,c,r,[{type:i,actions:Hs(Ss(y),e.options.actions)}],o,a),2),w=b[0],S=b[1];return c=S,null==u||u.push(c),w;case qa:return v=function(e,t,n){var r=Is(e.activity)?e.activity(t,n.data):e.activity,i="string"==typeof r?{id:r}:r;return{type:Ua.Stop,activity:i}}(s,c,r),null==o||o(v,n,r),v;case Xa:c=xs(c,r,[s],o?void 0:t),null==u||u.push(c);break;default:var A=Ws(s,e.options.actions),E=A.exec;if(o)o(A,c,r);else if(E&&u){var C=u.length-1,x=La(La({},A),{exec:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];E.apply(void 0,Ha([u[C]],Wa(t),!1))}});A=x}return A}}var f=bs(i.map((function(e){var t,n,i=[];try{for(var a=Fa(e.actions),s=a.next();!s.done;s=a.next()){var u=s.value,f=l(e.type,u);f&&(i=i.concat(f))}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return d.forEach((function(e){o(e,c,r)})),d.length=0,i})));return[f,c]}var ac=function(e){return"atomic"===e.type||"final"===e.type};function sc(e){return Object.keys(e.states).map((function(t){return e.states[t]}))}function cc(e){return sc(e).filter((function(e){return"history"!==e.type}))}function uc(e){var t=[e];return ac(e)?t:t.concat(bs(cc(e).map(uc)))}function dc(e,t){var n,r,i,o,a,s,c,u,d=fc(new Set(e)),l=new Set(t);try{for(var f=Fa(l),p=f.next();!p.done;p=f.next())for(var h=(A=p.value).parent;h&&!l.has(h);)l.add(h),h=h.parent}catch(e){n={error:e}}finally{try{p&&!p.done&&(r=f.return)&&r.call(f)}finally{if(n)throw n.error}}var v=fc(l);try{for(var m=Fa(l),_=m.next();!_.done;_=m.next())if("compound"!==(A=_.value).type||v.get(A)&&v.get(A).length){if("parallel"===A.type)try{for(var g=(a=void 0,Fa(cc(A))),y=g.next();!y.done;y=g.next()){var b=y.value;l.has(b)||(l.add(b),d.get(b)?d.get(b).forEach((function(e){return l.add(e)})):b.initialStateNodes.forEach((function(e){return l.add(e)})))}}catch(e){a={error:e}}finally{try{y&&!y.done&&(s=g.return)&&s.call(g)}finally{if(a)throw a.error}}}else d.get(A)?d.get(A).forEach((function(e){return l.add(e)})):A.initialStateNodes.forEach((function(e){return l.add(e)}))}catch(e){i={error:e}}finally{try{_&&!_.done&&(o=m.return)&&o.call(m)}finally{if(i)throw i.error}}try{for(var w=Fa(l),S=w.next();!S.done;S=w.next()){var A;for(h=(A=S.value).parent;h&&!l.has(h);)l.add(h),h=h.parent}}catch(e){c={error:e}}finally{try{S&&!S.done&&(u=w.return)&&u.call(w)}finally{if(c)throw c.error}}return l}function lc(e,t){var n=t.get(e);if(!n)return{};if("compound"===e.type){var r=n[0];if(!r)return{};if(ac(r))return r.key}var i={};return n.forEach((function(e){i[e.key]=lc(e,t)})),i}function fc(e){var t,n,r=new Map;try{for(var i=Fa(e),o=i.next();!o.done;o=i.next()){var a=o.value;r.has(a)||r.set(a,[]),a.parent&&(r.has(a.parent)||r.set(a.parent,[]),r.get(a.parent).push(a))}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function pc(e,t){return lc(e,fc(dc([e],t)))}function hc(e,t){return Array.isArray(e)?e.some((function(e){return e===t})):e instanceof Set&&e.has(t)}function vc(e,t){return"compound"===t.type?cc(t).some((function(t){return"final"===t.type&&hc(e,t)})):"parallel"===t.type&&cc(t).every((function(t){return vc(e,t)}))}function mc(e){return new Set(bs(e.map((function(e){return e.tags}))))}function _c(e,t){if(e===t)return!0;if(void 0===e||void 0===t)return!1;if(Ps(e)||Ps(t))return e===t;var n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&n.every((function(n){return _c(e[n],t[n])}))}var gc=function(){function e(e){var t,n,r=this;this.actions=[],this.activities=cs,this.meta={},this.events=[],this.value=e.value,this.context=e.context,this._event=e._event,this._sessionid=e._sessionid,this.event=this._event.data,this.historyValue=e.historyValue,this.history=e.history,this.actions=e.actions||[],this.activities=e.activities||cs,this.meta=(void 0===(n=e.configuration)&&(n=[]),n.reduce((function(e,t){return void 0!==t.meta&&(e[t.id]=t.meta),e}),{})),this.events=e.events||[],this.matches=this.matches.bind(this),this.toStrings=this.toStrings.bind(this),this.configuration=e.configuration,this.transitions=e.transitions,this.children=e.children,this.done=!!e.done,this.tags=null!==(t=Array.isArray(e.tags)?new Set(e.tags):e.tags)&&void 0!==t?t:new Set,this.machine=e.machine,Object.defineProperty(this,"nextEvents",{get:function(){return function(e){return Ha([],Wa(new Set(bs(Ha([],Wa(e.map((function(e){return e.ownEvents}))),!1)))),!1)}(r.configuration)}})}return e.from=function(t,n){return t instanceof e?t.context!==n?new e({value:t.value,context:n,_event:t._event,_sessionid:null,historyValue:t.historyValue,history:t.history,actions:[],activities:t.activities,meta:{},events:[],configuration:[],transitions:[],children:{}}):t:new e({value:t,context:n,_event:zs,_sessionid:null,historyValue:void 0,history:void 0,actions:[],activities:void 0,meta:void 0,events:[],configuration:[],transitions:[],children:{}})},e.create=function(t){return new e(t)},e.inert=function(t,n){if(t instanceof e){if(!t.actions.length)return t;var r=zs;return new e({value:t.value,context:n,_event:r,_sessionid:null,historyValue:t.historyValue,history:t.history,activities:t.activities,configuration:t.configuration,transitions:[],children:{}})}return e.from(t,n)},e.prototype.toStrings=function(e,t){var n=this;if(void 0===e&&(e=this.value),void 0===t&&(t="."),Ps(e))return[e];var r=Object.keys(e);return r.concat.apply(r,Ha([],Wa(r.map((function(r){return n.toStrings(e[r],t).map((function(e){return r+t+e}))}))),!1))},e.prototype.toJSON=function(){var e=this;e.configuration,e.transitions;var t=e.tags;e.machine;var n=za(e,["configuration","transitions","tags","machine"]);return La(La({},n),{tags:Array.from(t)})},e.prototype.matches=function(e){return ls(e,this.value)},e.prototype.hasTag=function(e){return this.tags.has(e)},e.prototype.can=function(e){var t;ds&&ks(!!this.machine,"state.can(...) used outside of a machine-created State object; this will always return false.");var n=null===(t=this.machine)||void 0===t?void 0:t.getTransitionData(this,e);return!!(null==n?void 0:n.transitions.length)&&n.transitions.some((function(e){return void 0!==e.target||e.actions.length}))},e}(),yc=[],bc=function(e,t){yc.push(e);var n=t(e);return yc.pop(),n};function wc(e){var t;return(t={id:e,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},getSnapshot:function(){},toJSON:function(){return{id:e}}})[Rs]=function(){return this},t}function Sc(e,t,n){var r=wc(t);if(r.deferred=!0,Ds(e)){var i=r.state=bc(void 0,(function(){return(n?e.withContext(n):e).initialState}));r.getSnapshot=function(){return i}}return r}function Ac(e){return La(La({type:ns},e),{toJSON:function(){e.onDone,e.onError;var t,n=za(e,["onDone","onError"]);return La(La({},n),{type:ns,src:(t=e.src,"string"==typeof t?{type:t,toString:function(){return t}}:t)})}})}var Ec="",Cc="*",xc={},kc=function(e){return"#"===e[0]},Oc=function(){function e(t,n,r,i){void 0===r&&(r="context"in t?t.context:void 0);var o,a=this;this.config=t,this._context=r,this.order=-1,this.__xstatenode=!0,this.__cache={events:void 0,relativeValue:new Map,initialStateValue:void 0,initialState:void 0,on:void 0,transitions:void 0,candidates:{},delayedTransitions:void 0},this.idMap={},this.tags=[],this.options=Object.assign({actions:{},guards:{},services:{},activities:{},delays:{}},n),this.parent=null==i?void 0:i.parent,this.key=this.config.key||(null==i?void 0:i.key)||this.config.id||"(machine)",this.machine=this.parent?this.parent.machine:this,this.path=this.parent?this.parent.path.concat(this.key):[],this.delimiter=this.config.delimiter||(this.parent?this.parent.delimiter:"."),this.id=this.config.id||Ha([this.machine.key],Wa(this.path),!1).join(this.delimiter),this.version=this.parent?this.parent.version:this.config.version,this.type=this.config.type||(this.config.parallel?"parallel":this.config.states&&Object.keys(this.config.states).length?"compound":this.config.history?"history":"atomic"),this.schema=this.parent?this.machine.schema:null!==(o=this.config.schema)&&void 0!==o?o:{},this.description=this.config.description,ds||ks(!("parallel"in this.config),'The "parallel" property is deprecated and will be removed in version 4.1. '.concat(this.config.parallel?"Replace with `type: 'parallel'`":"Use `type: '".concat(this.type,"'`")," in the config for state node '").concat(this.id,"' instead.")),this.initial=this.config.initial,this.states=this.config.states?ms(this.config.states,(function(t,n){var r,i=new e(t,{},void 0,{parent:a,key:n});return Object.assign(a.idMap,La(((r={})[i.id]=i,r),i.idMap)),i})):xc;var s=0;!function e(t){var n,r;t.order=s++;try{for(var i=Fa(sc(t)),o=i.next();!o.done;o=i.next())e(o.value)}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}(this),this.history=!0===this.config.history?"shallow":this.config.history||!1,this._transient=!!this.config.always||!!this.config.on&&(Array.isArray(this.config.on)?this.config.on.some((function(e){return e.event===Ec})):Ec in this.config.on),this.strict=!!this.config.strict,this.onEntry=Ss(this.config.entry||this.config.onEntry).map((function(e){return Ws(e)})),this.onExit=Ss(this.config.exit||this.config.onExit).map((function(e){return Ws(e)})),this.meta=this.config.meta,this.doneData="final"===this.type?this.config.data:void 0,this.invoke=Ss(this.config.invoke).map((function(e,t){var n,r;if(Ds(e)){var i=Vs(a.id,t);return a.machine.options.services=La(((n={})[i]=e,n),a.machine.options.services),Ac({src:i,id:i})}if(Ps(e.src))return i=e.id||Vs(a.id,t),Ac(La(La({},e),{id:i,src:e.src}));if(Ds(e.src)||Is(e.src))return i=e.id||Vs(a.id,t),a.machine.options.services=La(((r={})[i]=e.src,r),a.machine.options.services),Ac(La(La({id:i},e),{src:i}));var o=e.src;return Ac(La(La({id:Vs(a.id,t)},e),{src:o}))})),this.activities=Ss(this.config.activities).concat(this.invoke).map((function(e){return Ys(e)})),this.transition=this.transition.bind(this),this.tags=Ss(this.config.tags)}return e.prototype._init=function(){this.__cache.transitions||uc(this).forEach((function(e){return e.on}))},e.prototype.withConfig=function(t,n){var r=this.options,i=r.actions,o=r.activities,a=r.guards,s=r.services,c=r.delays;return new e(this.config,{actions:La(La({},i),t.actions),activities:La(La({},o),t.activities),guards:La(La({},a),t.guards),services:La(La({},s),t.services),delays:La(La({},c),t.delays)},null!=n?n:this.context)},e.prototype.withContext=function(t){return new e(this.config,this.options,t)},Object.defineProperty(e.prototype,"context",{get:function(){return Is(this._context)?this._context():this._context},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"definition",{get:function(){return{id:this.id,key:this.key,version:this.version,context:this.context,type:this.type,initial:this.initial,history:this.history,states:ms(this.states,(function(e){return e.definition})),on:this.on,transitions:this.transitions,entry:this.onEntry,exit:this.onExit,activities:this.activities||[],meta:this.meta,order:this.order||-1,data:this.doneData,invoke:this.invoke,description:this.description,tags:this.tags}},enumerable:!1,configurable:!0}),e.prototype.toJSON=function(){return this.definition},Object.defineProperty(e.prototype,"on",{get:function(){if(this.__cache.on)return this.__cache.on;var e=this.transitions;return this.__cache.on=e.reduce((function(e,t){return e[t.eventType]=e[t.eventType]||[],e[t.eventType].push(t),e}),{})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"after",{get:function(){return this.__cache.delayedTransitions||(this.__cache.delayedTransitions=this.getDelayedTransitions(),this.__cache.delayedTransitions)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"transitions",{get:function(){return this.__cache.transitions||(this.__cache.transitions=this.formatTransitions(),this.__cache.transitions)},enumerable:!1,configurable:!0}),e.prototype.getCandidates=function(e){if(this.__cache.candidates[e])return this.__cache.candidates[e];var t=e===Ec,n=this.transitions.filter((function(n){var r=n.eventType===e;return t?r:r||n.eventType===Cc}));return this.__cache.candidates[e]=n,n},e.prototype.getDelayedTransitions=function(){var e=this,t=this.config.after;if(!t)return[];var n=function(t,n){var r=ec(Is(t)?"".concat(e.id,":delay[").concat(n,"]"):t,e.id);return e.onEntry.push(qs(r,{delay:t})),e.onExit.push(Js(r)),r};return(Os(t)?t.map((function(e,t){var r=n(e.delay,t);return La(La({},e),{event:r})})):bs(Object.keys(t).map((function(e,r){var i=t[e],o=Ps(i)?{target:i}:i,a=isNaN(+e)?e:+e,s=n(a,r);return Ss(o).map((function(e){return La(La({},e),{event:s,delay:a})}))})))).map((function(t){var n=t.delay;return La(La({},e.formatTransition(t)),{delay:n})}))},e.prototype.getStateNodes=function(e){var t,n=this;if(!e)return[];var r=e instanceof gc?e.value:hs(e,this.delimiter);if(Ps(r)){var i=this.getStateNode(r).initial;return void 0!==i?this.getStateNodes(((t={})[r]=i,t)):[this,this.states[r]]}var o=Object.keys(r),a=[this];return a.push.apply(a,Ha([],Wa(bs(o.map((function(e){return n.getStateNode(e).getStateNodes(r[e])})))),!1)),a},e.prototype.handles=function(e){var t=fs(e);return this.events.includes(t)},e.prototype.resolveState=function(e){var t=e instanceof gc?e:gc.create(e),n=Array.from(dc([],this.getStateNodes(t.value)));return new gc(La(La({},t),{value:this.resolve(t.value),configuration:n,done:vc(n,this),tags:mc(n),machine:this.machine}))},e.prototype.transitionLeafNode=function(e,t,n){var r=this.getStateNode(e).next(t,n);return r&&r.transitions.length?r:this.next(t,n)},e.prototype.transitionCompoundNode=function(e,t,n){var r=Object.keys(e),i=this.getStateNode(r[0])._transition(e[r[0]],t,n);return i&&i.transitions.length?i:this.next(t,n)},e.prototype.transitionParallelNode=function(e,t,n){var r,i,o={};try{for(var a=Fa(Object.keys(e)),s=a.next();!s.done;s=a.next()){var c=s.value,u=e[c];if(u){var d=this.getStateNode(c)._transition(u,t,n);d&&(o[c]=d)}}}catch(e){r={error:e}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}var l=Object.keys(o).map((function(e){return o[e]})),f=bs(l.map((function(e){return e.transitions})));if(!l.some((function(e){return e.transitions.length>0})))return this.next(t,n);var p=bs(Object.keys(o).map((function(e){return o[e].configuration})));return{transitions:f,exitSet:bs(l.map((function(e){return e.exitSet}))),configuration:p,source:t,actions:bs(Object.keys(o).map((function(e){return o[e].actions})))}},e.prototype._transition=function(e,t,n){return Ps(e)?this.transitionLeafNode(e,t,n):1===Object.keys(e).length?this.transitionCompoundNode(e,t,n):this.transitionParallelNode(e,t,n)},e.prototype.getTransitionData=function(e,t){return this._transition(e.value,e,Ms(t))},e.prototype.next=function(e,t){var n,r,i,o=this,a=t.name,s=[],c=[];try{for(var u=Fa(this.getCandidates(a)),d=u.next();!d.done;d=u.next()){var l=d.value,f=l.cond,p=l.in,h=e.context,v=!p||(Ps(p)&&kc(p)?e.matches(hs(this.getStateNodeById(p).path,this.delimiter)):ls(hs(p,this.delimiter),gs(this.path.slice(0,-2))(e.value))),m=!1;try{m=!f||Us(this.machine,f,h,t,e)}catch(e){throw new Error("Unable to evaluate guard '".concat(f.name||f.type,"' in transition for event '").concat(a,"' in state node '").concat(this.id,"':\n").concat(e.message))}if(m&&v){void 0!==l.target&&(c=l.target),s.push.apply(s,Ha([],Wa(l.actions),!1)),i=l;break}}}catch(e){n={error:e}}finally{try{d&&!d.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}if(i){if(!c.length)return{transitions:[i],exitSet:[],configuration:e.value?[this]:[],source:e,actions:s};var _=bs(c.map((function(t){return o.getRelativeStateNodes(t,e.historyValue)})));return{transitions:[i],exitSet:i.internal?[]:bs(c.map((function(e){return o.getPotentiallyReenteringNodes(e)}))),configuration:_,source:e,actions:s}}},e.prototype.getPotentiallyReenteringNodes=function(e){if(this.order<e.order)return[this];for(var t=[],n=this,r=e;n&&n!==r;)t.push(n),n=n.parent;return n!==r?[]:(t.push(r),t)},e.prototype.getActions=function(e,t,n,r,i,o,a){var s,c,u,d,l=this,f=o?dc([],this.getStateNodes(o.value)):[],p=new Set;try{for(var h=Fa(Array.from(e).sort((function(e,t){return e.order-t.order}))),v=h.next();!v.done;v=h.next())(!hc(f,g=v.value)||hc(n.exitSet,g)||g.parent&&p.has(g.parent))&&p.add(g)}catch(e){s={error:e}}finally{try{v&&!v.done&&(c=h.return)&&c.call(h)}finally{if(s)throw s.error}}try{for(var m=Fa(f),_=m.next();!_.done;_=m.next()){var g;hc(e,g=_.value)&&!hc(n.exitSet,g.parent)||n.exitSet.push(g)}}catch(e){u={error:e}}finally{try{_&&!_.done&&(d=m.return)&&d.call(m)}finally{if(u)throw u.error}}n.exitSet.sort((function(e,t){return t.order-e.order}));var y=Array.from(p).sort((function(e,t){return e.order-t.order})),b=new Set(n.exitSet),w=bs(y.map((function(e){var t=[];if("final"!==e.type)return t;var o=e.parent;if(!o.parent)return t;t.push(tc(e.id,e.doneData),tc(o.id,e.doneData?As(e.doneData,r,i):void 0));var a=o.parent;return"parallel"===a.type&&cc(a).every((function(e){return vc(n.configuration,e)}))&&t.push(tc(a.id)),t}))),S=y.map((function(e){var t=e.onEntry,n=e.activities.map((function(e){return Ks(e)}));return{type:"entry",actions:Hs(a?Ha(Ha([],Wa(t),!1),Wa(n),!1):Ha(Ha([],Wa(n),!1),Wa(t),!1),l.machine.options.actions)}})).concat({type:"state_done",actions:w.map((function(e){return Gs(e)}))}),A=Array.from(b).map((function(e){return{type:"exit",actions:Hs(Ha(Ha([],Wa(e.onExit),!1),Wa(e.activities.map((function(e){return Zs(e)}))),!1),l.machine.options.actions)}})).concat({type:"transition",actions:Hs(n.actions,this.machine.options.actions)}).concat(S);if(t){var E=Hs(bs(Ha([],Wa(e),!1).sort((function(e,t){return t.order-e.order})).map((function(e){return e.onExit}))),this.machine.options.actions).filter((function(e){return!Ls(e)}));return A.concat({type:"stop",actions:E})}return A},e.prototype.transition=function(e,t,n,r){void 0===e&&(e=this.initialState);var i,o,a=Ms(t);if(e instanceof gc)i=void 0===n?e:this.resolveState(gc.from(e,n));else{var s=Ps(e)?this.resolve(vs(this.getResolvedPath(e))):this.resolve(e),c=null!=n?n:this.machine.context;i=this.resolveState(gc.from(s,c))}if(!ds&&a.name===Cc)throw new Error("An event cannot have the wildcard type ('".concat(Cc,"')"));if(this.strict&&!this.events.includes(a.name)&&(o=a.name,!/^(done|error)\./.test(o)))throw new Error("Machine '".concat(this.id,"' does not accept event '").concat(a.name,"'"));var u=this._transition(i.value,i,a)||{transitions:[],configuration:[],exitSet:[],source:i,actions:[]},d=dc([],this.getStateNodes(i.value)),l=u.configuration.length?dc(d,u.configuration):d;return u.configuration=Ha([],Wa(l),!1),this.resolveTransition(u,i,i.context,r,a)},e.prototype.resolveRaisedTransition=function(e,t,n,r){var i,o=e.actions;return(e=this.transition(e,t,void 0,r))._event=n,e.event=n.data,(i=e.actions).unshift.apply(i,Ha([],Wa(o),!1)),e},e.prototype.resolveTransition=function(e,t,n,r,i){var o,a,s,c,u=this;void 0===i&&(i=zs);var d=e.configuration,l=!t||e.transitions.length>0,f=l?e.configuration:t?t.configuration:[],p=vc(f,this),h=l?pc(this.machine,d):void 0,v=t?t.historyValue?t.historyValue:e.source?this.machine.historyValue(t.value):void 0:void 0,m=this.getActions(new Set(f),p,e,n,i,t,r),_=t?La({},t.activities):{};try{for(var g=Fa(m),y=g.next();!y.done;y=g.next()){var b=y.value;try{for(var w=(s=void 0,Fa(b.actions)),S=w.next();!S.done;S=w.next()){var A=S.value;A.type===Ga?_[A.activity.id||A.activity.type]=A:A.type===qa&&(_[A.activity.id||A.activity.type]=!1)}}catch(e){s={error:e}}finally{try{S&&!S.done&&(c=w.return)&&c.call(w)}finally{if(s)throw s.error}}}}catch(e){o={error:e}}finally{try{y&&!y.done&&(a=g.return)&&a.call(g)}finally{if(o)throw o.error}}var E,C,x=Wa(oc(this,t,n,i,m,r,this.machine.config.predictableActionArguments||this.machine.config.preserveActionOrder),2),k=x[0],O=x[1],I=Wa(function(e,t){var n,r,i=Wa([[],[]],2),o=i[0],a=i[1];try{for(var s=Fa(e),c=s.next();!c.done;c=s.next()){var u=c.value;t(u)?o.push(u):a.push(u)}}catch(e){n={error:e}}finally{try{c&&!c.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return[o,a]}(k,Ls),2),P=I[0],N=I[1],R=k.filter((function(e){var t;return e.type===Ga&&(null===(t=e.activity)||void 0===t?void 0:t.type)===ns})),D=R.reduce((function(e,t){return e[t.activity.id]=function(e,t,n,r){var i,o=$s(e.src),a=null===(i=null==t?void 0:t.options.services)||void 0===i?void 0:i[o.type],s=e.data?As(e.data,n,r):void 0,c=a?Sc(a,e.id,s):wc(e.id);return c.meta=e,c}(t.activity,u.machine,O,i),e}),t?La({},t.children):{}),T=new gc({value:h||t.value,context:O,_event:i,_sessionid:t?t._sessionid:null,historyValue:h?v?(E=v,C=h,{current:C,states:Cs(E,C)}):void 0:t?t.historyValue:void 0,history:!h||e.source?t:void 0,actions:h?N:[],activities:h?_:t?t.activities:{},events:[],configuration:f,transitions:e.transitions,children:D,done:p,tags:mc(f),machine:this}),M=n!==O;T.changed=i.name===os||M;var j=T.history;j&&delete j.history;var U=!p&&(this._transient||d.some((function(e){return e._transient})));if(!(l||U&&i.name!==Ec))return T;var $=T;if(!p)for(U&&($=this.resolveRaisedTransition($,{type:Za},i,r));P.length;){var B=P.shift();$=this.resolveRaisedTransition($,B._event,i,r)}var V=$.changed||(j?!!$.actions.length||M||typeof j.value!=typeof $.value||!_c($.value,j.value):void 0);return $.changed=V,$.history=j,$},e.prototype.getStateNode=function(e){if(kc(e))return this.machine.getStateNodeById(e);if(!this.states)throw new Error("Unable to retrieve child state '".concat(e,"' from '").concat(this.id,"'; no child states exist."));var t=this.states[e];if(!t)throw new Error("Child state '".concat(e,"' does not exist on '").concat(this.id,"'"));return t},e.prototype.getStateNodeById=function(e){var t=kc(e)?e.slice(1):e;if(t===this.id)return this;var n=this.machine.idMap[t];if(!n)throw new Error("Child state node '#".concat(t,"' does not exist on machine '").concat(this.id,"'"));return n},e.prototype.getStateNodeByPath=function(e){if("string"==typeof e&&kc(e))try{return this.getStateNodeById(e.slice(1))}catch(e){}for(var t=ps(e,this.delimiter).slice(),n=this;t.length;){var r=t.shift();if(!r.length)break;n=n.getStateNode(r)}return n},e.prototype.resolve=function(e){var t,n=this;if(!e)return this.initialStateValue||xc;switch(this.type){case"parallel":return ms(this.initialStateValue,(function(t,r){return t?n.getStateNode(r).resolve(e[r]||t):xc}));case"compound":if(Ps(e)){var r=this.getStateNode(e);return"parallel"===r.type||"compound"===r.type?((t={})[e]=r.initialStateValue,t):e}return Object.keys(e).length?ms(e,(function(e,t){return e?n.getStateNode(t).resolve(e):xc})):this.initialStateValue||{};default:return e||xc}},e.prototype.getResolvedPath=function(e){if(kc(e)){var t=this.machine.idMap[e.slice(1)];if(!t)throw new Error("Unable to find state node '".concat(e,"'"));return t.path}return ps(e,this.delimiter)},Object.defineProperty(e.prototype,"initialStateValue",{get:function(){var e,t;if(this.__cache.initialStateValue)return this.__cache.initialStateValue;if("parallel"===this.type)t=_s(this.states,(function(e){return e.initialStateValue||xc}),(function(e){return!("history"===e.type)}));else if(void 0!==this.initial){if(!this.states[this.initial])throw new Error("Initial state '".concat(this.initial,"' not found on '").concat(this.key,"'"));t=ac(this.states[this.initial])?this.initial:((e={})[this.initial]=this.states[this.initial].initialStateValue,e)}else t={};return this.__cache.initialStateValue=t,this.__cache.initialStateValue},enumerable:!1,configurable:!0}),e.prototype.getInitialState=function(e,t){this._init();var n=this.getStateNodes(e);return this.resolveTransition({configuration:n,exitSet:[],transitions:[],source:void 0,actions:[]},void 0,null!=t?t:this.machine.context,void 0)},Object.defineProperty(e.prototype,"initialState",{get:function(){var e=this.initialStateValue;if(!e)throw new Error("Cannot retrieve initial state from simple state '".concat(this.id,"'."));return this.getInitialState(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"target",{get:function(){var e;if("history"===this.type){var t=this.config;e=Ps(t.target)&&kc(t.target)?vs(this.machine.getStateNodeById(t.target).path.slice(this.path.length-1)):t.target}return e},enumerable:!1,configurable:!0}),e.prototype.getRelativeStateNodes=function(e,t,n){return void 0===n&&(n=!0),n?"history"===e.type?e.resolveHistory(t):e.initialStateNodes:[e]},Object.defineProperty(e.prototype,"initialStateNodes",{get:function(){var e=this;return ac(this)?[this]:"compound"!==this.type||this.initial?bs(ys(this.initialStateValue).map((function(t){return e.getFromRelativePath(t)}))):(ds||ks(!1,"Compound state node '".concat(this.id,"' has no initial state.")),[this])},enumerable:!1,configurable:!0}),e.prototype.getFromRelativePath=function(e){if(!e.length)return[this];var t=Wa(e),n=t[0],r=t.slice(1);if(!this.states)throw new Error("Cannot retrieve subPath '".concat(n,"' from node with no states"));var i=this.getStateNode(n);if("history"===i.type)return i.resolveHistory();if(!this.states[n])throw new Error("Child state '".concat(n,"' does not exist on '").concat(this.id,"'"));return this.states[n].getFromRelativePath(r)},e.prototype.historyValue=function(e){if(Object.keys(this.states).length)return{current:e||this.initialStateValue,states:_s(this.states,(function(t,n){if(!e)return t.historyValue();var r=Ps(e)?void 0:e[n];return t.historyValue(r||t.initialStateValue)}),(function(e){return!e.history}))}},e.prototype.resolveHistory=function(e){var t=this;if("history"!==this.type)return[this];var n=this.parent;if(!e){var r=this.target;return r?bs(ys(r).map((function(e){return n.getFromRelativePath(e)}))):n.initialStateNodes}var i,o=(i=n.path,"states",function(e){var t,n,r=e;try{for(var o=Fa(i),a=o.next();!a.done;a=o.next()){var s=a.value;r=r.states[s]}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r})(e).current;return Ps(o)?[n.getStateNode(o)]:bs(ys(o).map((function(e){return"deep"===t.history?n.getFromRelativePath(e):[n.states[e[0]]]})))},Object.defineProperty(e.prototype,"stateIds",{get:function(){var e=this,t=bs(Object.keys(this.states).map((function(t){return e.states[t].stateIds})));return[this.id].concat(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"events",{get:function(){var e,t,n,r;if(this.__cache.events)return this.__cache.events;var i=this.states,o=new Set(this.ownEvents);if(i)try{for(var a=Fa(Object.keys(i)),s=a.next();!s.done;s=a.next()){var c=i[s.value];if(c.states)try{for(var u=(n=void 0,Fa(c.events)),d=u.next();!d.done;d=u.next()){var l=d.value;o.add("".concat(l))}}catch(e){n={error:e}}finally{try{d&&!d.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return this.__cache.events=Array.from(o)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ownEvents",{get:function(){var e=new Set(this.transitions.filter((function(e){return!(!e.target&&!e.actions.length&&e.internal)})).map((function(e){return e.eventType})));return Array.from(e)},enumerable:!1,configurable:!0}),e.prototype.resolveTarget=function(e){var t=this;if(void 0!==e)return e.map((function(e){if(!Ps(e))return e;var n=e[0]===t.delimiter;if(n&&!t.parent)return t.getStateNodeByPath(e.slice(1));var r=n?t.key+e:e;if(!t.parent)return t.getStateNodeByPath(r);try{return t.parent.getStateNodeByPath(r)}catch(e){throw new Error("Invalid transition definition for state node '".concat(t.id,"':\n").concat(e.message))}}))},e.prototype.formatTransition=function(e){var t=this,n=function(e){if(void 0!==e&&""!==e)return Ss(e)}(e.target),r="internal"in e?e.internal:!n||n.some((function(e){return Ps(e)&&e[0]===t.delimiter})),i=this.machine.options.guards,o=this.resolveTarget(n),a=La(La({},e),{actions:Hs(Ss(e.actions)),cond:Ns(e.cond,i),target:o,source:this,internal:r,eventType:e.event,toJSON:function(){return La(La({},a),{target:a.target?a.target.map((function(e){return"#".concat(e.id)})):void 0,source:"#".concat(t.id)})}});return a},e.prototype.formatTransitions=function(){var e,t,n,r=this;if(this.config.on)if(Array.isArray(this.config.on))n=this.config.on;else{var i=this.config.on,o=i[Cc],a=void 0===o?[]:o,s=za(i,["*"]);n=bs(Object.keys(s).map((function(e){ds||e!==Ec||ks(!1,"Empty string transition configs (e.g., `{ on: { '': ... }}`) for transient transitions are deprecated. Specify the transition in the `{ always: ... }` property instead. "+'Please check the `on` configuration for "#'.concat(r.id,'".'));var t=js(e,s[e]);return ds||function(e,t,n){var r=n.slice(0,-1).some((function(e){return!("cond"in e)&&!("in"in e)&&(Ps(e.target)||Ds(e.target))})),i=t===Ec?"the transient event":"event '".concat(t,"'");ks(!r,"One or more transitions for ".concat(i," on state '").concat(e.id,"' are unreachable. ")+"Make sure that the default transition is the last one defined.")}(r,e,t),t})).concat(js(Cc,a)))}else n=[];var c=this.config.always?js("",this.config.always):[],u=this.config.onDone?js(String(tc(this.id)),this.config.onDone):[];ds||ks(!(this.config.onDone&&!this.parent),'Root nodes cannot have an ".onDone" transition. Please check the config of "'.concat(this.id,'".'));var d=bs(this.invoke.map((function(e){var t=[];return e.onDone&&t.push.apply(t,Ha([],Wa(js(String(nc(e.id)),e.onDone)),!1)),e.onError&&t.push.apply(t,Ha([],Wa(js(String(rc(e.id)),e.onError)),!1)),t}))),l=this.after,f=bs(Ha(Ha(Ha(Ha([],Wa(u),!1),Wa(d),!1),Wa(n),!1),Wa(c),!1).map((function(e){return Ss(e).map((function(e){return r.formatTransition(e)}))})));try{for(var p=Fa(l),h=p.next();!h.done;h=p.next()){var v=h.value;f.push(v)}}catch(t){e={error:t}}finally{try{h&&!h.done&&(t=p.return)&&t.call(p)}finally{if(e)throw e.error}}return f},e}(),Ic="AD_UNIT_DISABLED",Pc="AD_UNITS_OVERLAP",Nc="DISPLAY_RESIZE",Rc="VIDEO_CLOSED",Dc="VIDEO_DONE",Tc="VIDEO_ERROR",Mc="VIDEO_READY",jc="SET_IS_STICKY_DESKTOP_RUNNING";const Uc=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>!t.map((t=>t(e))).includes(!1)},$c=(e,t)=>t.map((t=>e.matches(t))).includes(!0),{assign:Bc}=r,Vc=e=>e.videoCampaign,Lc=e=>e.passbackSet,zc=e=>e.persistentDbv,Fc=e=>e.videoTimeoutEnabled;var Wc,Hc,Yc,Gc=(Wc={id:"adUnit",initial:"initial",states:{initial:{always:[{target:"dbv",cond:Uc((e=>e.dbvSet),Vc)},{target:"loader",cond:Vc},{target:"fixedDisplayAd"}]},dbv:{after:{PASSBACK_DELAY:[{actions:"timeoutSkipVideo",cond:Uc(zc,Fc)},{target:"passback",cond:Uc(Lc,Fc)},{target:"allAdsDone",cond:Fc}]},on:{AD_UNITS_OVERLAP:[{actions:"adUnitsOverlap"}],DISPLAY_RESIZE:[{actions:"setDisplayAdSize"}],SET_IS_STICKY_DESKTOP_RUNNING:[{actions:"setIsStickyDesktopRunning"}],VIDEO_READY:"video",VIDEO_ERROR:[{actions:"setSkipVideo",cond:zc},{target:"passback",cond:Lc}],DBV_ERROR:[{target:"loader",cond:(Yc=e=>e.skipVideo,e=>!Yc(e))},{target:"passback",cond:Lc},{target:"allAdsDone"}]}},loader:{on:{AD_UNITS_OVERLAP:[{actions:"adUnitsOverlap"}],DISPLAY_RESIZE:[{actions:"setDisplayAdSize"}],SET_IS_STICKY_DESKTOP_RUNNING:[{actions:"setIsStickyDesktopRunning"}],VIDEO_READY:"video",VIDEO_ERROR:[{target:"passback",cond:Lc},{target:"allAdsDone"}]}},video:{on:{AD_UNITS_OVERLAP:[{actions:"adUnitsOverlap"}],SET_IS_STICKY_DESKTOP_RUNNING:[{actions:"setIsStickyDesktopRunning"}],VIDEO_DONE:[{target:"passback",cond:Lc},{target:"allAdsDone"}],VIDEO_CLOSED:[{target:"passback",cond:Lc},{target:"allAdsDone"}],VIDEO_ERROR:[{target:"passback",cond:Lc},{target:"allAdsDone"}]}},fixedDisplayAd:{on:{AD_UNITS_OVERLAP:[{actions:"adUnitsOverlap"}],DISPLAY_RESIZE:[{actions:"setDisplayAdSize"}],SET_IS_STICKY_DESKTOP_RUNNING:[{actions:"setIsStickyDesktopRunning"}]}},passback:{on:{AD_UNITS_OVERLAP:[{actions:"adUnitsOverlap"}],DISPLAY_RESIZE:[{actions:"setDisplayAdSize"}],SET_IS_STICKY_DESKTOP_RUNNING:[{actions:"setIsStickyDesktopRunning"}]}},allAdsDone:{type:"final"},adUnitDisabled:{type:"final"}},on:{AD_UNIT_DISABLED:"adUnitDisabled"}},void 0===Hc&&(Hc=Wc.context),new Oc(Wc,void 0,Hc)).withConfig({actions:{setSkipVideo:Bc({skipVideo:!0}),timeoutSkipVideo:Bc({skipVideo:!0,videoTimeoutEnabled:!1}),setDisplayAdSize:Bc({displayAdSize:(e,t)=>t.type===Nc?t.payload:e.displayAdSize}),setIsStickyDesktopRunning:Bc({isStickyDesktopRunning:(e,t)=>t.type===jc?t.payload:e.isStickyDesktopRunning}),adUnitsOverlap:Bc({isAdUnitsOverlapDetected:(e,t)=>t.type===Pc||e.isAdUnitsOverlapDetected})},delays:{PASSBACK_DELAY:(e,t)=>e.videoTimeoutEnabled&&e.passbackInterval?Math.max(e.passbackInterval,1)*c.Zv:0}}),qc=n(798),Qc={deferEvents:!1},Jc=function(){function e(e){this.processingEvent=!1,this.queue=[],this.initialized=!1,this.options=La(La({},Qc),e)}return e.prototype.initialize=function(e){if(this.initialized=!0,e){if(!this.options.deferEvents)return void this.schedule(e);this.process(e)}this.flushEvents()},e.prototype.schedule=function(e){if(this.initialized&&!this.processingEvent){if(0!==this.queue.length)throw new Error("Event queue should be empty when it is not processing events");this.process(e),this.flushEvents()}else this.queue.push(e)},e.prototype.clear=function(){this.queue=[]},e.prototype.flushEvents=function(){for(var e=this.queue.shift();e;)this.process(e),e=this.queue.shift()},e.prototype.process=function(e){this.processingEvent=!0;try{e()}catch(e){throw this.clear(),e}finally{this.processingEvent=!1}},e}(),Kc=new Map,Zc=0,Xc=function(e){Kc.delete(e)};function eu(){return"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n.g?n.g:void(ds||console.warn("XState could not find a global object in this environment. Please let the maintainers know and raise an issue here: https://github.com/statelyai/xstate/issues"))}var tu,nu,ru={sync:!1,autoForward:!1};(nu=tu||(tu={}))[nu.NotStarted=0]="NotStarted",nu[nu.Running=1]="Running",nu[nu.Stopped=2]="Stopped";var iu=function(){function e(t,n){void 0===n&&(n=e.defaultOptions);var r=this;this.machine=t,this.delayedEventsMap={},this.listeners=new Set,this.contextListeners=new Set,this.stopListeners=new Set,this.doneListeners=new Set,this.eventListeners=new Set,this.sendListeners=new Set,this.initialized=!1,this.status=tu.NotStarted,this.children=new Map,this.forwardTo=new Set,this._outgoingQueue=[],this.init=this.start,this.send=function(e,t){if(Os(e))return r.batch(e),r.state;var n=Ms(Ts(e,t));if(r.status===tu.Stopped)return ds||ks(!1,'Event "'.concat(n.name,'" was sent to stopped service "').concat(r.machine.id,'". This service has already reached its final state, and will not transition.\nEvent: ').concat(JSON.stringify(n.data))),r.state;if(r.status!==tu.Running&&!r.options.deferEvents)throw new Error('Event "'.concat(n.name,'" was sent to uninitialized service "').concat(r.machine.id,'". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.\nEvent: ').concat(JSON.stringify(n.data)));return r.scheduler.schedule((function(){r.forward(n);var e=r._nextState(n);r.update(e,n)})),r._state},this.sendTo=function(e,t,n){var i,o=r.parent&&(t===$a.Parent||r.parent.id===t),a=o?r.parent:Ps(t)?t===$a.Internal?r:r.children.get(t)||function(e){return Kc.get(e)}(t):(i=t)&&"function"==typeof i.send?t:void 0;if(a)if("machine"in a){if(r.status!==tu.Stopped||r.parent!==a||r.state.done){var s=La(La({},e),{name:e.name===is?"".concat(rc(r.id)):e.name,origin:r.sessionId});!n&&r.machine.config.predictableActionArguments?r._outgoingQueue.push([a,s]):a.send(s)}}else!n&&r.machine.config.predictableActionArguments?r._outgoingQueue.push([a,e.data]):a.send(e.data);else{if(!o)throw new Error("Unable to send event to child '".concat(t,"' from service '").concat(r.id,"'."));ds||ks(!1,"Service '".concat(r.id,"' has no parent: unable to send event ").concat(e.type))}},this._exec=function(e,t,n,i){void 0===i&&(i=r.machine.options.actions);var o=e.exec||Fs(e.type,i),a=Is(o)?o:o?o.exec:e.exec;if(a)try{return a(t,n.data,r.machine.config.predictableActionArguments?{action:e,_event:n}:{action:e,state:r.state,_event:n})}catch(e){throw r.parent&&r.parent.send({type:"xstate.error",data:e}),e}switch(e.type){case Qa:var s=e;r.defer(s);break;case Ja:var c=e;if("number"==typeof c.delay)return void r.defer(c);c.to?r.sendTo(c._event,c.to,n===zs):r.send(c._event);break;case Ka:r.cancel(e.sendId);break;case Ga:if(r.status!==tu.Running)return;var u=e.activity;if(!r.machine.config.predictableActionArguments&&!r.state.activities[u.id||u.type])break;if(u.type===Ua.Invoke){var d=$s(u.src),l=r.machine.options.services?r.machine.options.services[d.type]:void 0,f=u.id,p=u.data;ds||ks(!("forward"in u),"`forward` property is deprecated (found in invocation of '".concat(u.src,"' in in machine '").concat(r.machine.id,"'). ")+"Please use `autoForward` instead.");var h="autoForward"in u?u.autoForward:!!u.forward;if(!l)return void(ds||ks(!1,"No service found for invocation '".concat(u.src,"' in machine '").concat(r.machine.id,"'.")));var v=p?As(p,t,n):void 0;if("string"==typeof l)return;var m=Is(l)?l(t,n.data,{data:v,src:d,meta:u.meta}):l;if(!m)return;var _=void 0;Ds(m)&&(m=v?m.withContext(v):m,_={autoForward:h}),r.spawn(m,f,_)}else r.spawnActivity(u);break;case qa:r.stopChild(e.activity.id);break;case es:var g=e,y=g.label,b=g.value;y?r.logger(y,b):r.logger(b);break;default:ds||ks(!1,"No implementation found for action type '".concat(e.type,"'"))}};var i=La(La({},e.defaultOptions),n),o=i.clock,a=i.logger,s=i.parent,c=i.id,u=void 0!==c?c:t.id;this.id=u,this.logger=a,this.clock=o,this.parent=s,this.options=i,this.scheduler=new Jc({deferEvents:this.options.deferEvents}),this.sessionId="x:".concat(Zc++)}return Object.defineProperty(e.prototype,"initialState",{get:function(){var e=this;return this._initialState?this._initialState:bc(this,(function(){return e._initialState=e.machine.initialState,e._initialState}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return ds||ks(this.status!==tu.NotStarted,"Attempted to read state from uninitialized service '".concat(this.id,"'. Make sure the service is started first.")),this._state},enumerable:!1,configurable:!0}),e.prototype.execute=function(e,t){var n,r;try{for(var i=Fa(e.actions),o=i.next();!o.done;o=i.next()){var a=o.value;this.exec(a,e,t)}}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},e.prototype.update=function(e,t){var n,r,i,o,a,s,c,u,d=this;if(e._sessionid=this.sessionId,this._state=e,this.machine.config.predictableActionArguments&&t!==zs||!this.options.execute)for(var l=void 0;l=this._outgoingQueue.shift();)l[0].send(l[1]);else this.execute(this.state);if(this.children.forEach((function(e){d.state.children[e.id]=e})),this.devTools&&this.devTools.send(t.data,e),e.event)try{for(var f=Fa(this.eventListeners),p=f.next();!p.done;p=f.next())(0,p.value)(e.event)}catch(e){n={error:e}}finally{try{p&&!p.done&&(r=f.return)&&r.call(f)}finally{if(n)throw n.error}}try{for(var h=Fa(this.listeners),v=h.next();!v.done;v=h.next())(0,v.value)(e,e.event)}catch(e){i={error:e}}finally{try{v&&!v.done&&(o=h.return)&&o.call(h)}finally{if(i)throw i.error}}try{for(var m=Fa(this.contextListeners),_=m.next();!_.done;_=m.next())(0,_.value)(this.state.context,this.state.history?this.state.history.context:void 0)}catch(e){a={error:e}}finally{try{_&&!_.done&&(s=m.return)&&s.call(m)}finally{if(a)throw a.error}}if(this.state.done){var g=e.configuration.find((function(e){return"final"===e.type&&e.parent===d.machine})),y=g&&g.doneData?As(g.doneData,e.context,t):void 0;this._doneEvent=nc(this.id,y);try{for(var b=Fa(this.doneListeners),w=b.next();!w.done;w=b.next())(0,w.value)(this._doneEvent)}catch(e){c={error:e}}finally{try{w&&!w.done&&(u=b.return)&&u.call(b)}finally{if(c)throw c.error}}this._stop(),this._stopChildren(),Xc(this.sessionId)}},e.prototype.onTransition=function(e){return this.listeners.add(e),this.status===tu.Running&&e(this.state,this.state.event),this},e.prototype.subscribe=function(e,t,n){var r=this,i=Bs(e,t,n);this.listeners.add(i.next),this.status!==tu.NotStarted&&i.next(this.state);var o=function(){r.doneListeners.delete(o),r.stopListeners.delete(o),i.complete()};return this.status===tu.Stopped?i.complete():(this.onDone(o),this.onStop(o)),{unsubscribe:function(){r.listeners.delete(i.next),r.doneListeners.delete(o),r.stopListeners.delete(o)}}},e.prototype.onEvent=function(e){return this.eventListeners.add(e),this},e.prototype.onSend=function(e){return this.sendListeners.add(e),this},e.prototype.onChange=function(e){return this.contextListeners.add(e),this},e.prototype.onStop=function(e){return this.stopListeners.add(e),this},e.prototype.onDone=function(e){return this.status===tu.Stopped&&this._doneEvent?e(this._doneEvent):this.doneListeners.add(e),this},e.prototype.off=function(e){return this.listeners.delete(e),this.eventListeners.delete(e),this.sendListeners.delete(e),this.stopListeners.delete(e),this.doneListeners.delete(e),this.contextListeners.delete(e),this},e.prototype.start=function(e){var t,n,r=this;if(this.status===tu.Running)return this;this.machine._init(),t=this.sessionId,n=this,Kc.set(t,n),this.initialized=!0,this.status=tu.Running;var i=void 0===e?this.initialState:bc(this,(function(){return"object"==typeof(t=e)&&null!==t&&"value"in t&&"_event"in t?r.machine.resolveState(e):r.machine.resolveState(gc.from(e,r.machine.context));var t}));return this.options.devTools&&this.attachDev(),this.scheduler.initialize((function(){r.update(i,zs)})),this},e.prototype._stopChildren=function(){this.children.forEach((function(e){Is(e.stop)&&e.stop()})),this.children.clear()},e.prototype._stop=function(){var e,t,n,r,i,o,a,s,c,u;try{for(var d=Fa(this.listeners),l=d.next();!l.done;l=d.next()){var f=l.value;this.listeners.delete(f)}}catch(t){e={error:t}}finally{try{l&&!l.done&&(t=d.return)&&t.call(d)}finally{if(e)throw e.error}}try{for(var p=Fa(this.stopListeners),h=p.next();!h.done;h=p.next())(f=h.value)(),this.stopListeners.delete(f)}catch(e){n={error:e}}finally{try{h&&!h.done&&(r=p.return)&&r.call(p)}finally{if(n)throw n.error}}try{for(var v=Fa(this.contextListeners),m=v.next();!m.done;m=v.next())f=m.value,this.contextListeners.delete(f)}catch(e){i={error:e}}finally{try{m&&!m.done&&(o=v.return)&&o.call(v)}finally{if(i)throw i.error}}try{for(var _=Fa(this.doneListeners),g=_.next();!g.done;g=_.next())f=g.value,this.doneListeners.delete(f)}catch(e){a={error:e}}finally{try{g&&!g.done&&(s=_.return)&&s.call(_)}finally{if(a)throw a.error}}if(!this.initialized)return this;this.initialized=!1,this.status=tu.Stopped,this._initialState=void 0;try{for(var y=Fa(Object.keys(this.delayedEventsMap)),b=y.next();!b.done;b=y.next()){var w=b.value;this.clock.clearTimeout(this.delayedEventsMap[w])}}catch(e){c={error:e}}finally{try{b&&!b.done&&(u=y.return)&&u.call(y)}finally{if(c)throw c.error}}this.scheduler.clear(),this.scheduler=new Jc({deferEvents:this.options.deferEvents})},e.prototype.stop=function(){var e=this,t=this.scheduler;return this._stop(),t.schedule((function(){var t=Ms({type:"xstate.stop"}),n=bc(e,(function(){var n=bs(Ha([],Wa(e.state.configuration),!1).sort((function(e,t){return t.order-e.order})).map((function(t){return Hs(t.onExit,e.machine.options.actions)}))),r=Wa(oc(e.machine,e.state,e.state.context,t,[{type:"exit",actions:n}],e.machine.config.predictableActionArguments?e._exec:void 0,e.machine.config.predictableActionArguments||e.machine.config.preserveActionOrder),2),i=r[0],o=r[1],a=new gc({value:e.state.value,context:o,_event:t,_sessionid:e.sessionId,historyValue:void 0,history:e.state,actions:i.filter((function(e){return!Ls(e)})),activities:{},events:[],configuration:[],transitions:[],children:{},done:e.state.done,tags:e.state.tags,machine:e.machine});return a.changed=!0,a}));e.update(n,t),e._stopChildren(),Xc(e.sessionId)})),this},e.prototype.batch=function(e){var t=this;if(this.status===tu.NotStarted&&this.options.deferEvents)ds||ks(!1,"".concat(e.length,' event(s) were sent to uninitialized service "').concat(this.machine.id,'" and are deferred. Make sure .start() is called for this service.\nEvent: ').concat(JSON.stringify(event)));else if(this.status!==tu.Running)throw new Error("".concat(e.length,' event(s) were sent to uninitialized service "').concat(this.machine.id,'". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.'));if(e.length){var n=!!this.machine.config.predictableActionArguments&&this._exec;this.scheduler.schedule((function(){var r,i,o=t.state,a=!1,s=[],c=function(e){var r=Ms(e);t.forward(r),o=bc(t,(function(){return t.machine.transition(o,r,void 0,n||void 0)})),s.push.apply(s,Ha([],Wa(t.machine.config.predictableActionArguments?o.actions:o.actions.map((function(e){return function(e,t){var n=e.exec;return La(La({},e),{exec:void 0!==n?function(){return n(t.context,t.event,{action:e,state:t,_event:t._event})}:void 0})}(e,o)}))),!1)),a=a||!!o.changed};try{for(var u=Fa(e),d=u.next();!d.done;d=u.next())c(d.value)}catch(e){r={error:e}}finally{try{d&&!d.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}o.changed=a,o.actions=s,t.update(o,Ms(e[e.length-1]))}))}},e.prototype.sender=function(e){return this.send.bind(this,e)},e.prototype._nextState=function(e,t){var n=this;void 0===t&&(t=!!this.machine.config.predictableActionArguments&&this._exec);var r=Ms(e);if(0===r.name.indexOf(rs)&&!this.state.nextEvents.some((function(e){return 0===e.indexOf(rs)})))throw r.data.data;return bc(this,(function(){return n.machine.transition(n.state,r,void 0,t||void 0)}))},e.prototype.nextState=function(e){return this._nextState(e,!1)},e.prototype.forward=function(e){var t,n;try{for(var r=Fa(this.forwardTo),i=r.next();!i.done;i=r.next()){var o=i.value,a=this.children.get(o);if(!a)throw new Error("Unable to forward event '".concat(e,"' from interpreter '").concat(this.id,"' to nonexistant child '").concat(o,"'."));a.send(e)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}},e.prototype.defer=function(e){var t=this,n=this.clock.setTimeout((function(){"to"in e&&e.to?t.sendTo(e._event,e.to,!0):t.send(e._event)}),e.delay);e.id&&(this.delayedEventsMap[e.id]=n)},e.prototype.cancel=function(e){this.clock.clearTimeout(this.delayedEventsMap[e]),delete this.delayedEventsMap[e]},e.prototype.exec=function(e,t,n){void 0===n&&(n=this.machine.options.actions),this._exec(e,t.context,t._event,n)},e.prototype.removeChild=function(e){var t;this.children.delete(e),this.forwardTo.delete(e),null===(t=this.state)||void 0===t||delete t.children[e]},e.prototype.stopChild=function(e){var t=this.children.get(e);t&&(this.removeChild(e),Is(t.stop)&&t.stop())},e.prototype.spawn=function(e,t,n){if(this.status!==tu.Running)return Sc(e,t);if(Es(e))return this.spawnPromise(Promise.resolve(e),t);if(Is(e))return this.spawnCallback(e,t);if(function(e){try{return"function"==typeof e.send}catch(e){return!1}}(i=e)&&"id"in i)return this.spawnActor(e,t);if(function(e){try{return"subscribe"in e&&Is(e.subscribe)}catch(e){return!1}}(e))return this.spawnObservable(e,t);if(Ds(e))return this.spawnMachine(e,La(La({},n),{id:t}));if(null!==(r=e)&&"object"==typeof r&&"transition"in r&&"function"==typeof r.transition)return this.spawnBehavior(e,t);throw new Error('Unable to spawn entity "'.concat(t,'" of type "').concat(typeof e,'".'));var r,i},e.prototype.spawnMachine=function(t,n){var r=this;void 0===n&&(n={});var i=new e(t,La(La({},this.options),{parent:this,id:n.id||t.id})),o=La(La({},ru),n);o.sync&&i.onTransition((function(e){r.send(os,{state:e,id:i.id})}));var a=i;return this.children.set(i.id,a),o.autoForward&&this.forwardTo.add(i.id),i.onDone((function(e){r.removeChild(i.id),r.send(Ms(e,{origin:i.id}))})).start(),a},e.prototype.spawnBehavior=function(e,t){var n=function(e,t){void 0===t&&(t={});var n=e.initialState,r=new Set,i=[],o=!1,a=function(e){var t;return La(((t={subscribe:function(){return{unsubscribe:function(){}}},id:"anonymous",getSnapshot:function(){}})[Rs]=function(){return this},t),e)}({id:t.id,send:function(t){i.push(t),function(){if(!o){for(o=!0;i.length>0;){var t=i.shift();n=e.transition(n,t,s),r.forEach((function(e){return e.next(n)}))}o=!1}}()},getSnapshot:function(){return n},subscribe:function(e,t,i){var o=Bs(e,t,i);return r.add(o),o.next(n),{unsubscribe:function(){r.delete(o)}}}}),s={parent:t.parent,self:a,id:t.id||"anonymous",observers:r};return n=e.start?e.start(s):n,a}(e,{id:t,parent:this});return this.children.set(t,n),n},e.prototype.spawnPromise=function(e,t){var n,r,i=this,o=!1;e.then((function(e){o||(r=e,i.removeChild(t),i.send(Ms(nc(t,e),{origin:t})))}),(function(e){if(!o){i.removeChild(t);var n=rc(t,e);try{i.send(Ms(n,{origin:t}))}catch(r){!function(e,t,n){if(!ds){var r=e.stack?" Stacktrace was '".concat(e.stack,"'"):"";if(e===t)console.error("Missing onError handler for invocation '".concat(n,"', error was '").concat(e,"'.").concat(r));else{var i=t.stack?" Stacktrace was '".concat(t.stack,"'"):"";console.error("Missing onError handler and/or unhandled exception/promise rejection for invocation '".concat(n,"'. ")+"Original error: '".concat(e,"'. ").concat(r," Current error is '").concat(t,"'.").concat(i))}}}(e,r,t),i.devTools&&i.devTools.send(n,i.state),i.machine.strict&&i.stop()}}}));var a=((n={id:t,send:function(){},subscribe:function(t,n,r){var i=Bs(t,n,r),o=!1;return e.then((function(e){o||(i.next(e),o||i.complete())}),(function(e){o||i.error(e)})),{unsubscribe:function(){return o=!0}}},stop:function(){o=!0},toJSON:function(){return{id:t}},getSnapshot:function(){return r}})[Rs]=function(){return this},n);return this.children.set(t,a),a},e.prototype.spawnCallback=function(e,t){var n,r,i,o=this,a=!1,s=new Set,c=new Set;try{i=e((function(e){r=e,c.forEach((function(t){return t(e)})),a||o.send(Ms(e,{origin:t}))}),(function(e){s.add(e)}))}catch(e){this.send(rc(t,e))}if(Es(i))return this.spawnPromise(i,t);var u=((n={id:t,send:function(e){return s.forEach((function(t){return t(e)}))},subscribe:function(e){var t=Bs(e);return c.add(t.next),{unsubscribe:function(){c.delete(t.next)}}},stop:function(){a=!0,Is(i)&&i()},toJSON:function(){return{id:t}},getSnapshot:function(){return r}})[Rs]=function(){return this},n);return this.children.set(t,u),u},e.prototype.spawnObservable=function(e,t){var n,r,i=this,o=e.subscribe((function(e){r=e,i.send(Ms(e,{origin:t}))}),(function(e){i.removeChild(t),i.send(Ms(rc(t,e),{origin:t}))}),(function(){i.removeChild(t),i.send(Ms(nc(t),{origin:t}))})),a=((n={id:t,send:function(){},subscribe:function(t,n,r){return e.subscribe(t,n,r)},stop:function(){return o.unsubscribe()},getSnapshot:function(){return r},toJSON:function(){return{id:t}}})[Rs]=function(){return this},n);return this.children.set(t,a),a},e.prototype.spawnActor=function(e,t){return this.children.set(t,e),e},e.prototype.spawnActivity=function(e){var t=this.machine.options&&this.machine.options.activities?this.machine.options.activities[e.type]:void 0;if(t){var n=t(this.state.context,e);this.spawnEffect(e.id,n)}else ds||ks(!1,"No implementation found for activity '".concat(e.type,"'"))},e.prototype.spawnEffect=function(e,t){var n;this.children.set(e,((n={id:e,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},stop:t||void 0,getSnapshot:function(){},toJSON:function(){return{id:e}}})[Rs]=function(){return this},n))},e.prototype.attachDev=function(){var e=eu();if(this.options.devTools&&e){if(e.__REDUX_DEVTOOLS_EXTENSION__){var t="object"==typeof this.options.devTools?this.options.devTools:void 0;this.devTools=e.__REDUX_DEVTOOLS_EXTENSION__.connect(La(La({name:this.id,autoPause:!0,stateSanitizer:function(e){return{value:e.value,context:e.context,actions:e.actions}}},t),{features:La({jump:!1,skip:!1},t?t.features:void 0)}),this.machine),this.devTools.init(this.state)}!function(e){if(eu()){var t=function(){var e=eu();if(e&&"__xstate__"in e)return e.__xstate__}();t&&t.register(e)}}(this)}},e.prototype.toJSON=function(){return{id:this.id}},e.prototype[Rs]=function(){return this},e.prototype.getSnapshot=function(){return this.status===tu.NotStarted?this.initialState:this._state},e.defaultOptions={execute:!0,deferEvents:!0,clock:{setTimeout:function(e,t){return setTimeout(e,t)},clearTimeout:function(e){return clearTimeout(e)}},logger:console.log.bind(console),devTools:!1},e.interpret=ou,e}();function ou(e,t){return new iu(e,t)}var au=i.useLayoutEffect;function su(e){var t=i.useRef();return t.current||(t.current={v:e()}),t.current.v}var cu=function(){return cu=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},cu.apply(this,arguments)};function uu(e,t){var n=su((function(){return"function"==typeof e?e():e})),r=t.context,i=t.guards,o=t.actions,a=t.activities,s=t.services,c=t.delays,u=(t.state,function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(t,["context","guards","actions","activities","services","delays","state"])),d=su((function(){var e={context:r,guards:i,actions:o,activities:a,services:s,delays:c};return ou(n.withConfig(e,(function(){return cu(cu({},n.context),r)})),u)}));return au((function(){Object.assign(d.machine.options.actions,o),Object.assign(d.machine.options.guards,i),Object.assign(d.machine.options.activities,a),Object.assign(d.machine.options.services,s),Object.assign(d.machine.options.delays,c)}),[o,i,a,s,c]),d}function du(e){return"state"in e&&"machine"in e}function lu(e,t,n){if(e.status===tu.NotStarted)return!0;var r=void 0===n.changed&&(Object.keys(n.children).length>0||"boolean"==typeof t.changed);return!(n.changed||r)}function fu(e){return e}var pu=(0,i.createContext)(void 0),hu=e=>{let{machine:t,children:n}=e;const[,,r]=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}(t,1)[0],o=void 0===r?{}:r,a=uu(e,o),s=(0,i.useCallback)((function(){return a.status===tu.NotStarted?o.state?gc.create(o.state):a.machine.initialState:a.getSnapshot()}),[a]),c=(0,i.useCallback)((function(e,t){return lu(a,e,t)}),[a]),u=(0,i.useCallback)((function(e){return a.subscribe(e).unsubscribe}),[a]),d=(0,qc.useSyncExternalStoreWithSelector)(u,s,s,fu,c);return(0,i.useEffect)((function(){var e=o.state;return a.start(e?gc.create(e):void 0),function(){a.stop(),a.status=tu.NotStarted}}),[]),[d,a.send,a]}(t),o=r;return(0,i.useEffect)((()=>{yt.isDebugMode&&yt.isVerboseLoggingEnabled&&(e=>{e.subscribe((e=>{St(!0,"XState event",e)}))})(o)}),[]),i.default.createElement(pu.Provider,{value:o},n)};function vu(e){return e}function mu(e){return"getSnapshot"in e?du(e)?0!==(t=e).status?t.getSnapshot():t.machine.initialState:e.getSnapshot():function(e){return"state"in e}(e)?e.state:void 0;var t}var _u=function(){const e=(0,i.useContext)(pu);if(void 0===e)throw new Error("useAdFlow must be used within a FlowContext.Provider");return function(e,t){void 0===t&&(t=mu);var n=(0,i.useRef)(e),r=(0,i.useRef)([]),o=(0,i.useCallback)((function(t){return e.subscribe(t).unsubscribe}),[e]),a=(0,i.useCallback)((function(){return t(e)}),[e,t]),s=(0,i.useCallback)((function(t,n){return du(e)?lu(e,t,n):t===n}),[e]),c=(0,qc.useSyncExternalStoreWithSelector)(o,a,a,vu,s),u=su((function(){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=e[0],o=n.current;(function(e){return"deferred"in e})(o)&&o.deferred?r.current.push(i):o.send(i)}}));return au((function(){for(n.current=e;r.current.length>0;){var t=r.current.shift();e.send(t)}}),[e]),[c,u]}(e)},gu=e=>{const[t]=_u(),{reportingModuleName:n}=t.context,r=Lt(),o=Ht(),a=Ft(),s=qt(),{trackEvent:c}=mr();return{trackMovingAdEvent:(0,i.useCallback)((t=>{const i={engine_status:"moving-ad",segment:JSON.stringify({action_id:cr(n),triggered_by:e,moving_ad_status:t,feature_configurations:{sliding:r,sticky_desktop:a,sticky_mobile:o,video_takeover:s}})};c(i)}),[n,r,a,o,c,e,s])}};const yu={inCommentAdContainer:{paddingTop:"30px",paddingBottom:"30px"},conversationMessageSeparator:{marginTop:"15px"}};var bu=e=>{let{children:t}=e;return i.default.createElement(i.default.Fragment,null,i.default.createElement("slot",null),i.default.createElement(fl,{styles:yu.conversationMessageSeparator}),i.default.createElement("div",{style:yu.inCommentAdContainer},t))};const wu=Symbol();var Su=function(e){return e.PostId="post-id",e}(Su||{});const Au=(e,t,n)=>{let r=0,i=null;class o extends HTMLElement{[wu]=null;reactRoot=null;adContainerElement=null;static get observedAttributes(){return[Su.PostId]}get state(){return{commentIndex:Number(this.getAttribute("range-index")??"0")}}setReactRoot(e){this.reactRoot??=e}renderInCommentAd(){const t=r%10+1,i=Math.floor(r/10)+1;if(r+1>n)return void At(!0,"In comment ads: reached the limit of 100 ads per page");this[wu]??=this.attachShadow({mode:"closed"});const o=document.createElement("div");this.adContainerElement=o,this[wu].appendChild(o),e({target:o,moduleName:Be.NR.InComment,slot:{row:t,column:i},options:{forceSpecificSlot:!0},setReactRoot:this.setReactRoot.bind(this)}),r++}checkIfCommentIsValidForAd(){const{commentIndex:e}=this.state,n=e>0?-1:1;return(Math.abs(e)-n)%t==0}cleanupInCommentAd(){this.reactRoot&&(this.reactRoot.unmount(),this.reactRoot=null),this.adContainerElement&&(this.adContainerElement.remove(),this.adContainerElement=null)}connectedCallback(){this.checkIfCommentIsValidForAd()&&this.renderInCommentAd()}disconnectedCallback(){this.cleanupInCommentAd()}handlePostIdChange(e,t){((e,t)=>{i!==t&&(r=0,i=t)})(0,t),this.cleanupInCommentAd(),this.renderInCommentAd()}attributeChangedCallback(e,t,n){if(null===t||t===n)return;const r={[Su.PostId]:this.handlePostIdChange.bind(this)}[e];r?.(t,n)}}customElements.define(c.aU.OWAdsConversationComment,o)},Eu={inCommentAddOnAdContainer:{padding:"30px 0"}};var Cu=e=>{let{children:t}=e;const[n]=_u(),{slot:r}=n.context,o=r.row===c.N7.fixed_above.row&&r.column===c.N7.fixed_above.column;return i.default.createElement(i.default.Fragment,null,i.default.createElement("div",{style:Eu.inCommentAddOnAdContainer},t),o&&i.default.createElement(fl,null))};const xu=Symbol(),ku="ow_add_on";var Ou=function(e){return e.ListSize="list-size",e.PostId="post-id",e}(Ou||{});const Iu=(e,t)=>{class n extends HTMLElement{[xu]=null;reactRoots={};static get observedAttributes(){return[Ou.ListSize,Ou.PostId]}get state(){return{isCommentListEmpty:Number(this.getAttribute(Ou.ListSize)??"0")<1}}setReactRoot(e,t){this.reactRoots={...this.reactRoots,[e]:t}}createAddOnElement(e){const t=document.createElement("div");return t.id=`${ku}_${e}`,t}renderInCommentEmptyAddOnAds(){this[xu]??=this.attachShadow({mode:"closed"});const[n,r]=[c.$V.EmptyAbove,c.$V.EmptyBelow].map(this.createAddOnElement.bind(this)),i=t.find((e=>{const{add_on_type:t}=e;return[c.$V.EmptyAbove,c.$V.EmptyBelow].some(eo(t))})),o=i?.add_on_type===c.$V.EmptyAbove,a=o?n:r,s=o?c.N7[c.$V.EmptyAbove]:c.N7[c.$V.EmptyBelow];let u=this[xu].querySelector("slot");u||(u=document.createElement("slot"),this[xu].appendChild(u)),u.insertAdjacentElement("beforebegin",n),u.insertAdjacentElement("afterend",r),e({target:a,moduleName:Be.NR.InCommentAddOn,slot:s,options:{forceSpecificSlot:!0},setReactRoot:e=>this.setReactRoot(c.$V.EmptyAbove,e)})}renderInCommentFixedAddOnAds(){this[xu]??=this.attachShadow({mode:"closed"});const[t,n]=[c.$V.FixedAbove,c.$V.FixedBelow].map(this.createAddOnElement.bind(this));let r=this[xu].querySelector("slot");r||(r=document.createElement("slot"),this[xu].appendChild(r)),r.insertAdjacentElement("beforebegin",t),r.insertAdjacentElement("afterend",n),e({target:t,moduleName:Be.NR.InCommentAddOn,slot:c.N7[c.$V.FixedAbove],options:{forceSpecificSlot:!0},setReactRoot:e=>this.setReactRoot(c.$V.FixedAbove,e)}),e({target:n,moduleName:Be.NR.InCommentAddOn,slot:c.N7[c.$V.FixedBelow],options:{forceSpecificSlot:!0},setReactRoot:e=>this.setReactRoot(c.$V.FixedBelow,e)})}removeAddOnElementByType(e){const t=this[xu]?.getElementById(`${ku}_${e}`);t&&t.remove()}unmountAddOnAdByType(e){const{[e]:t,...n}=this.reactRoots??{};t&&(t.unmount(),this.reactRoots=n)}cleanupAddOnAds(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach((e=>{this.unmountAddOnAdByType(e),this.removeAddOnElementByType(e)}))}cleanupEmptyAddOnAds(){this.cleanupAddOnAds(c.$V.EmptyAbove,c.$V.EmptyBelow)}cleanupAllAddOnAds(){this.cleanupAddOnAds(c.$V.EmptyAbove,c.$V.EmptyBelow,c.$V.FixedAbove,c.$V.FixedBelow)}renderInCommentAddOnAds(){this.state.isCommentListEmpty?this.renderInCommentEmptyAddOnAds():this.renderInCommentFixedAddOnAds()}handlePostIdChange(){this.cleanupAllAddOnAds(),this.renderInCommentAddOnAds()}handleListSizeChange(e,t){0===Number(e)&&Number(t)>0&&(this.cleanupEmptyAddOnAds(),this.renderInCommentFixedAddOnAds())}connectedCallback(){this.renderInCommentAddOnAds()}disconnectedCallback(){this.cleanupAllAddOnAds()}attributeChangedCallback(e,t,n){if(null===t||t===n)return;const r={[Ou.PostId]:this.handlePostIdChange.bind(this),[Ou.ListSize]:this.handleListSizeChange.bind(this)}[e];r?.(t,n)}}customElements.define(c.aU.OWAdsConversationCommentList,n)},Pu={circularProgress:{position:"relative",display:"flex"},circularProgressSvg:{transform:"rotate(-90deg)"},circularProgressIndicator:{transition:"0.1s"},circularProgressLabel:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",textAlign:"center",fontSize:"15px",fontWeight:600,color:"#070707"}},Nu=e=>{const{size:t,progress:n,thickness:r=2,color:o="#BF1314",backgroundColor:a="#F6F6F6",children:s,style:c={}}=e,u=t/2,d=u-r,l=Math.round(2*Math.PI*d),f=Math.round(l*((100-n)/100));return i.default.createElement("div",{style:{...Pu.circularProgress,...c}},i.default.createElement("svg",{width:t,height:t,style:Pu.circularProgressSvg},i.default.createElement("circle",{cx:u,cy:u,fill:a,r:d,stroke:"#FFFFFF",strokeWidth:r}),n&&i.default.createElement("circle",{cx:u,cy:u,fill:a,r:d,stroke:o,strokeWidth:r,strokeDasharray:l,strokeDashoffset:f,strokeLinecap:"round",style:{...Pu.circularProgressIndicator,transition:".1s"}})),s&&i.default.createElement("span",{style:Pu.circularProgressLabel},s))};var Ru=i.default.memo(Nu),Du=n(184),Tu=n.n(Du),Mu=e=>{let{fill:t,size:n}=e;return i.default.createElement("svg",{"aria-hidden":"true",fill:"none",style:{width:n,height:n},viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},i.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.55177 3.55192C3.26054 3.84315 3.26054 4.31533 3.55177 4.60656L6.94579 7.99974L3.55177 11.3938C3.26054 11.685 3.26054 12.1572 3.55177 12.4484C3.843 12.7396 4.31518 12.7396 4.60641 12.4484L8.00001 9.0548L11.3936 12.4484C11.6848 12.7396 12.157 12.7396 12.4483 12.4484C12.7395 12.1572 12.7395 11.685 12.4483 11.3938L9.05465 8.00016L12.4483 4.60656C12.7395 4.31533 12.7395 3.84315 12.4483 3.55192C12.157 3.26069 11.6848 3.26069 11.3936 3.55192L8.00043 6.9451L4.60641 3.55192C4.31518 3.26069 3.843 3.26069 3.55177 3.55192Z",fill:t}))};const ju={closeButton:{display:"flex",justifyContent:"center",alignItems:"center",padding:"5px",width:"32px",height:"32px",opacity:.5,background:"#f6f6f6",border:"1px solid #d5d5d5",borderRadius:"50%",color:"inherit",cursor:"pointer",font:"inherit",outline:"inherit"}};var Uu=e=>{let{className:t,color:n="#B1B2BF",onClick:r,style:o={}}=e;return i.default.createElement("button",{"aria-label":"Close button",className:Tu()(t),style:{...ju.closeButton,...o},onClick:r},i.default.createElement(Mu,{fill:n,size:"16px"}))};const $u={closeButton:{border:"none",width:"auto",height:"auto",opacity:1}};var Bu=e=>{let{isStickyAfterTimeout:t,remainingTime:n,timeout:r,onClick:o,style:a={}}=e;const s=Math.ceil(n/1e3),c=100-n/r*100;return i.default.createElement(Ru,{style:a,size:35,progress:c},t&&(n?s:i.default.createElement(Uu,{style:$u.closeButton,color:"#070707",onClick:o})),!t&&s)},Vu=(e,t)=>{(0,i.useEffect)((()=>{const t=e();return()=>{t.then((e=>null!=e&&e()))}}),t)};function Lu(e){var t=this.__data__=new ye(e);this.size=t.size}Lu.prototype.clear=function(){this.__data__=new ye,this.size=0},Lu.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Lu.prototype.get=function(e){return this.__data__.get(e)},Lu.prototype.has=function(e){return this.__data__.has(e)},Lu.prototype.set=function(e,t){var n=this.__data__;if(n instanceof ye){var r=n.__data__;if(!be||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Ae(r)}return n.set(e,t),this.size=n.size,this};var zu=Lu;function Fu(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Ae;++t<n;)this.add(e[t])}Fu.prototype.add=Fu.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Fu.prototype.has=function(e){return this.__data__.has(e)};var Wu=Fu,Hu=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1},Yu=function(e,t){return e.has(t)},Gu=function(e,t,n,r,i,o){var a=1&n,s=e.length,c=t.length;if(s!=c&&!(a&&c>s))return!1;var u=o.get(e),d=o.get(t);if(u&&d)return u==t&&d==e;var l=-1,f=!0,p=2&n?new Wu:void 0;for(o.set(e,t),o.set(t,e);++l<s;){var h=e[l],v=t[l];if(r)var m=a?r(v,h,l,t,e,o):r(h,v,l,e,t,o);if(void 0!==m){if(m)continue;f=!1;break}if(p){if(!Hu(t,(function(e,t){if(!Yu(p,t)&&(h===e||i(h,e,n,r,o)))return p.push(t)}))){f=!1;break}}else if(h!==v&&!i(h,v,n,r,o)){f=!1;break}}return o.delete(e),o.delete(t),f},qu=U.Uint8Array,Qu=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n},Ju=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n},Ku=$?$.prototype:void 0,Zu=Ku?Ku.valueOf:void 0,Xu=Object.prototype.propertyIsEnumerable,ed=Object.getOwnPropertySymbols,td=ed?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}(ed(e),(function(t){return Xu.call(e,t)})))}:function(){return[]},nd=Object.prototype.hasOwnProperty,rd=function(e,t){var n=T(e),r=!n&&kn(e),i=!n&&!r&&Dn(e),o=!n&&!r&&!i&&Vn(e),a=n||r||i||o,s=a?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],c=s.length;for(var u in e)!t&&!nd.call(e,u)||a&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Pi(u,c))||s.push(u);return s},id=function(e){return In(e)?rd(e):on(e)},od=function(e){return function(e,t,n){var r=t(e);return T(e)?r:function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}(r,n(e))}(e,id,td)},ad=Object.prototype.hasOwnProperty,sd="[object Arguments]",cd="[object Array]",ud="[object Object]",dd=Object.prototype.hasOwnProperty,ld=function(e,t,n,r,i,o){var a=T(e),s=T(t),c=a?cd:wn(e),u=s?cd:wn(t),d=(c=c==sd?ud:c)==ud,l=(u=u==sd?ud:u)==ud,f=c==u;if(f&&Dn(e)){if(!Dn(t))return!1;a=!0,d=!1}if(f&&!d)return o||(o=new zu),a||Vn(e)?Gu(e,t,n,r,i,o):function(e,t,n,r,i,o,a){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!o(new qu(e),new qu(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return ve(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=Qu;case"[object Set]":var c=1&r;if(s||(s=Ju),e.size!=t.size&&!c)return!1;var u=a.get(e);if(u)return u==t;r|=2,a.set(e,t);var d=Gu(s(e),s(t),r,i,o,a);return a.delete(e),d;case"[object Symbol]":if(Zu)return Zu.call(e)==Zu.call(t)}return!1}(e,t,c,n,r,i,o);if(!(1&n)){var p=d&&dd.call(e,"__wrapped__"),h=l&&dd.call(t,"__wrapped__");if(p||h){var v=p?e.value():e,m=h?t.value():t;return o||(o=new zu),i(v,m,n,r,o)}}return!!f&&(o||(o=new zu),function(e,t,n,r,i,o){var a=1&n,s=od(e),c=s.length;if(c!=od(t).length&&!a)return!1;for(var u=c;u--;){var d=s[u];if(!(a?d in t:ad.call(t,d)))return!1}var l=o.get(e),f=o.get(t);if(l&&f)return l==t&&f==e;var p=!0;o.set(e,t),o.set(t,e);for(var h=a;++u<c;){var v=e[d=s[u]],m=t[d];if(r)var _=a?r(m,v,d,t,e,o):r(v,m,d,e,t,o);if(!(void 0===_?v===m||i(v,m,n,r,o):_)){p=!1;break}h||(h="constructor"==d)}if(p&&!h){var g=e.constructor,y=t.constructor;g==y||!("constructor"in e)||!("constructor"in t)||"function"==typeof g&&g instanceof g&&"function"==typeof y&&y instanceof y||(p=!1)}return o.delete(e),o.delete(t),p}(e,t,n,r,i,o))},fd=function e(t,n,r,i,o){return t===n||(null==t||null==n||!Y(t)&&!Y(n)?t!=t&&n!=n:ld(t,n,r,i,e,o))},pd=function(e,t){return fd(e,t)};const hd=(0,i.createContext)({adCallIds:{[c.Qy.Dfp]:"",[c.Qy.Aniview]:"",[c.Qy.Browsi]:"",[c.Qy.AniviewAC]:""},regenerateAdCallId:()=>{}});var vd=e=>{let{tag:t,adType:n,campaignId:r,adUnitIdFormatted:o}=e;const[a,s]=_u(),u=(0,i.useRef)(!0),{regenerateAdCallId:d}=(0,i.useContext)(hd),{trackEvent:l}=mr({layout:"display",campaign_id:r,...kr(t)}),{adsConfig:f,reportingModuleName:p}=a.context,{size:{width:h,height:v}}=t,m=n===c.t6.Passback?c.Qx.Passback:c.Qx.Dbv,_=(0,i.useCallback)((e=>{const{isEmpty:t}=e,[n,r]=((e,t,n)=>{if(Array.isArray(e.size)&&e.size.every((e=>e>0))){const[t,n]=e.size;if(((e,t)=>e>10&&t>10)(t,n))return[`${t}px`,`${n}px`]}return[t,n]})(e,h,v);if(s({type:Nc,payload:[n,r]}),t){Kn({metric:"dfp-empty-slot-rendered"});const e=(e=>({engine_status:"dfp-empty",reportingAdType:e}))(m);return void l(e)}(e=>{let{dataSource:t,product:n}=e;Kn({metric:"dfp-ad-slot-rendered",tags:{[b]:Ho(),[w]:t,[S]:Yo(),[A]:n}})})({dataSource:f.dataSource,product:p});const i=(e=>({engine_status:"dfp-slot-render-ended",reportingAdType:e}))(m);l(i)}),[f.dataSource,m,p,s,v,h,l]),g=(0,i.useCallback)((()=>{const e=(e=>({engine_status:"dfp-slot-on-load",reportingAdType:e}))(m);l(e)}),[m,l]),y=(0,i.useCallback)((()=>{const e=(e=>({engine_status:"dfp-slot-requested",reportingAdType:e}))(m);l(e),u.current?u.current=!1:d(c.Qy.Dfp)}),[d,m,l]),E=(0,i.useCallback)((()=>{const e=(e=>({engine_status:"dfp-slot-response-received",reportingAdType:e}))(m);l(e)}),[m,l]),C=(0,i.useCallback)((()=>{(e=>{let{product:t}=e;Kn({metric:"dfp-impression-viewable",tags:{[b]:Ho(),[S]:Yo(),[A]:t}})})({product:p});const e=(e=>({engine_status:"dfp-impression-viewable",reportingAdType:e}))(m);l(e)}),[m,p,l]);(0,i.useEffect)((()=>{const e=((e,t)=>{let{slotRenderEnded:n,slotOnLoad:r,slotRequested:i,slotResponseReceived:o,impressionViewable:a}=t;const s=`dfpEvent-${e}`;return c=s,u=e=>{switch(St(!0,s,e),e.detail.type){case Er:return i?.(e.detail);case Cr:return o?.(e.detail);case Ar:return n?.(e.detail);case wr:return a?.(e.detail);case Sr:return r?.(e.detail)}},window.addEventListener(c,u),()=>window.removeEventListener(c,u);var c,u})(o,{slotRenderEnded:_,slotOnLoad:g,slotRequested:y,slotResponseReceived:E,impressionViewable:C});if(e)return()=>e()}),[o,C,g,_,y,E,p])},md={InView:"IN_VIEW",OutOfViewBottom:"OUT_OF_VIEW_BOTTOM",OutOfViewTop:"OUT_OF_VIEW_TOP"},_d=function(e){let{intersectionObserverOptions:t,isEnabled:n,target:r,callback:o}=e;return function(e){let{intersectionObserverOptions:t,isEnabled:n,target:r,callback:o}=e,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const s=(0,i.useCallback)((()=>{if(!r)return;const e=new IntersectionObserver(o,t);return e.observe(r),()=>e.disconnect()}),[r,...a]);(0,i.useEffect)((()=>{if(!n)return;const e=s();return()=>{e&&e()}}),[n,s])}({intersectionObserverOptions:t,isEnabled:n,target:r,callback:e=>{const t=e.sort(((e,t)=>e.time-t.time)),n=t[t.length-1];n&&(n.isIntersecting?o(md.InView,n):n.boundingClientRect.top<0?o(md.OutOfViewBottom,n):o(md.OutOfViewTop,n))}},arguments.length>1&&void 0!==arguments[1]?arguments[1]:[])},gd=e=>(0,i.useMemo)((()=>(e=>e.getRootNode()instanceof ShadowRoot)(e)),[e]),yd=(e,t,n)=>{const r=(0,i.useRef)(null);return(0,i.useEffect)((()=>{if(!e)return;const i=new MutationObserver(t);return i.observe(e,n),r.current=i,()=>{r.current&&(r.current.disconnect(),r.current=null)}}),[e,t,n]),r.current},bd=function(){return U.Date.now()},wd=Math.max,Sd=Math.min,Ad=function(e,t,n){var r,i,o,a,s,c,u=0,d=!1,l=!1,f=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function p(t){var n=r,o=i;return r=i=void 0,u=t,a=e.apply(o,n)}function h(e){var n=e-c;return void 0===c||n>=t||n<0||l&&e-u>=o}function v(){var e=bd();if(h(e))return m(e);s=setTimeout(v,function(e){var n=t-(e-c);return l?Sd(n,o-(e-u)):n}(e))}function m(e){return s=void 0,f&&r?p(e):(r=i=void 0,a)}function _(){var e=bd(),n=h(e);if(r=arguments,i=this,c=e,n){if(void 0===s)return function(e){return u=e,s=setTimeout(v,t),d?p(e):a}(c);if(l)return clearTimeout(s),s=setTimeout(v,t),p(c)}return void 0===s&&(s=setTimeout(v,t)),a}return t=Wi(t)||0,J(n)&&(d=!!n.leading,o=(l="maxWait"in n)?wd(Wi(n.maxWait)||0,t):o,f="trailing"in n?!!n.trailing:f),_.cancel=function(){void 0!==s&&clearTimeout(s),u=0,r=c=i=s=void 0},_.flush=function(){return void 0===s?a:m(bd())},_},Ed=e=>{let{isEnabled:t,callback:n,throttleTimeout:r=500}=e;const o=(0,i.useCallback)((()=>{const e=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return J(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Ad(e,t,{leading:r,maxWait:t,trailing:i})}(n,r);return n(),window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)}),[n,r]);(0,i.useEffect)((()=>{if(!t)return;const e=o();return()=>{e&&e()}}),[t,o])};const Cd=(e,t)=>e===t;function xd(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Cd;const n=(0,i.useRef)(),r=(0,i.useRef)(e);return t(r.current,e)||(n.current=r.current,r.current=e),n.current}var kd=function(e){return!0===e||!1===e||Y(e)&&"[object Boolean]"==H(e)},Od=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e3;const[o,a]=(0,i.useState)(!1),s=(0,i.useRef)(null),c=(0,i.useRef)(null),u=(0,i.useRef)(),d=(0,i.useRef)(t),l=(()=>{const[,e]=(0,i.useReducer)((e=>e+1),0);return e})();(0,i.useEffect)((()=>{d.current=t}),[t]);!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=(0,i.useRef)(null);(0,i.useEffect)((()=>{n.current=e}),[e]),(0,i.useEffect)((()=>{if(null!==t){const e=setInterval((()=>{n.current&&n.current(t)}),t);return()=>{clearInterval(e)}}}),[t])}((0,i.useCallback)((e=>{e&&c.current&&(c.current=c.current-e,l())}),[l]),o?r:null);const f=(0,i.useCallback)((()=>{a(!0);const t=c.current??e;s.current=Date.now(),c.current=t,u.current&&clearTimeout(u.current),t&&(u.current=setTimeout((()=>{a(!1),s.current=null,c.current=null,d.current()}),t))}),[e]),p=(0,i.useCallback)((()=>{a(!1),u.current&&clearTimeout(u.current)}),[]),h=(0,i.useCallback)((()=>{a(!1),c.current=null,s.current=null,u.current&&clearTimeout(u.current)}),[]);return(0,i.useEffect)((()=>{n&&f()}),[n,f]),{startTimer:f,pauseTimer:p,stopTimer:h,remainingTime:c.current??0}};const Id=e=>{const{name:t,animationProps:n}=e,r=(o=()=>(e=>Object.entries(e).map((e=>{let[t,n]=e;return`${t}{${(e=>Object.entries(e).reduce(((e,t)=>{let[n,r]=t;return`${e}${Ro(n)}:${r};`}),""))(n)}}`})).join(""))(n),a=[n],(0,i.useMemo)(o,function(e){const t=(0,i.useRef)(e),n=(0,i.useRef)(0);return pd(e,t.current)||(t.current=e,n.current+=1),(0,i.useMemo)((()=>t.current),[n.current])}(a)));var o,a;return i.default.createElement("style",null,["@keyframes","@-webkit-keyframes"].map((e=>`${e} ${t} {${r}} \n`)))};var Pd=i.default.memo(Id);const Nd={position:"fixed",top:"auto",bottom:"0",padding:"0 25px 5px 25px",background:"#fff",boxShadow:"0px 2px 20px rgba(0, 0, 0, 0.07)",borderRadius:"10px 10px 0px 0px",border:"1px solid rgba(7, 7, 7, 0.05)"},Rd={position:"absolute",top:"0",padding:"0",background:"transparent",boxShadow:"unset",borderRadius:"unset",border:"unset"},Dd=`\n  ${c.sg.SlideInDown} ease-out ${c.I8}s 0s 1 reverse forwards,\n  ${c.sg.SlideInvisiblyDown} linear ${c.ly}s ${c.I8}s 1 normal forwards,\n  ${c.sg.SlideInUp} ease-out ${c.I8}s ${c.OF}s 1 normal forwards\n`,Td=`\n  ${c.sg.SlideInUp} ease-out ${c.I8}s 0s 1 reverse forwards,\n  ${c.sg.SlideInvisiblyDown} linear ${c.ly}s ${c.I8}s 1 reverse forwards,\n  ${c.sg.SlideInDown} ease-out ${c.I8}s ${c.OF}s 1 normal forwards\n`;var Md=e=>{let{isAnimationEnabled:t,isSticky:n,stickyAreaSelector:r,stickyContainerRef:o,children:a}=e;const[s,u]=_u(),d=(0,i.useMemo)((()=>Qd(r)),[r]),l=o.current,{isStickyDesktopRunning:f}=s.context,{right:p=0}=d?d.getBoundingClientRect():{},h=(0,i.useMemo)((()=>p?document.documentElement.clientWidth-p+"px":"0"),[p]),v=(0,i.useMemo)((()=>l?.style.cssText??""),[l]),m=(0,i.useMemo)((()=>({...Nd,right:h})),[h]),_=(0,i.useMemo)((()=>({...n?{}:{transition:`\n                opacity ${c.I8}s,\n                height 0.1s ${c.I8}s\n              `,opacity:0,height:0}})),[n]),g=zd({animationsList:c.T6,isAnimationEnabled:t,isSticky:n,stickyContainerElement:l,stickyContainerStyles:m,stickyAnimation:Dd,unstickyAnimation:Td});return(0,i.useEffect)((()=>{const[e,t]=[c.sg.SlideInUp,c.sg.SlideInvisiblyDown].map(eo(g));n&&(t||e)&&u({type:jc,payload:!0}),n||e||t||(f&&l&&(l.style.cssText=v),u({type:jc,payload:!1}))}),[n,f,g,l,v,u]),i.default.createElement(i.default.Fragment,null,a(m,_),i.default.createElement(Pd,{name:c.sg.SlideInDown,animationProps:{from:{...Rd,transform:"translateY(-100%)"},to:{...Rd,transform:"translateY(0)"}}}),i.default.createElement(Pd,{name:c.sg.SlideInUp,animationProps:{from:{...m,transform:"translateY(100%)"},to:{...m,transform:"translateY(0)"}}}),i.default.createElement(Pd,{name:c.sg.SlideInvisiblyDown,animationProps:{"0%":{...Rd,display:"block",right:"auto",transform:"translateY(-100%)"},"14%":{...Rd,display:"none",right:"auto",transform:"translateY(-100%)"},"28%":{...Rd,display:"none",opacity:0,right:"auto",transform:"translateY(-100%)"},"42%":{...Rd,display:"none",opacity:0,right:"100vw",transform:"translateY(-100%)"},"56%":{...m,display:"none",opacity:0,right:"100vw",transform:"translateY(100%)"},"70%":{...m,display:"none",opacity:0,right:h,transform:"translateY(100%)"},"84%":{...m,display:"none",right:h,transform:"translateY(100%)"},"100%":{...m,display:"block",right:h,transform:"translateY(100%)"}}}))};const jd={stickyPlaceholder:{position:"relative",height:"100%",margin:"0 auto"},stickyContainer:{position:"absolute",top:0},topBar:{display:"flex",justifyContent:"flex-end",alignItems:"center",width:"100%",height:"25px"},closeButton:{position:"absolute",top:"-17px",right:"-17px"},content:{width:"100%",height:"100%"}},Ud=e=>{let{children:t}=e;const[n,r]=(0,i.useState)(!1),o=(0,i.useRef)(null),a=(0,i.useRef)(null),{is_animation_enabled:s,is_stay_sticky_after_timeout:u,sticky_area_css_selector:d,timeout:l,z_index:f}=Ft(),[p]=_u(),{campaign:h,compact:v,displayAdSize:m,isStickyDesktopRunning:_}=p.context,g=(e=>{let{campaign:t,compact:n,displayAdSize:r=[],isVideoAd:i}=e;const[o,a]=r,s=i?t.video.size:{width:o,height:a};return{height:`${Do(s.height)+Tl()}px`,width:n?`${Do(s.width)+Do(c.Tb)}px`:s.width}})({campaign:h,compact:v,displayAdSize:m,isVideoAd:p.value===Be.mL.Video}),{isSticky:y,remainingStickyTime:b,stickyPlaceholderRef:w,closeStickyContainer:S}=Wd(a.current,d,l,u);Fd(y,Be.t4.Desktop),Ld(y,n);const A=(0,i.useCallback)((()=>{r(!0),S()}),[S]);return i.default.createElement(Md,{isAnimationEnabled:s,isSticky:y,stickyAreaSelector:d,stickyContainerRef:o},((e,n)=>{const r=s?(e=>{let{isStickyDesktopRunning:t,zIndex:n}=e;return t?{zIndex:n}:{}})({isStickyDesktopRunning:_,zIndex:f}):(e=>{let{isSticky:t,stickyContainerStyles:n,zIndex:r}=e;return t?{...n,zIndex:r}:{}})({isSticky:y,stickyContainerStyles:e,zIndex:f});return i.default.createElement("div",{ref:w,style:{...jd.stickyPlaceholder,...g}},i.default.createElement("div",{ref:o,style:{...jd.stickyContainer,...r}},i.default.createElement("div",{style:{...jd.topBar,...n}},i.default.createElement(Bu,{style:jd.closeButton,isStickyAfterTimeout:u,remainingTime:b,timeout:l,onClick:A})),i.default.createElement("div",{style:jd.content,ref:a},t)))}))};var $d=i.default.memo(Ud);const Bd={stickyContainerMobile:{width:"100%"},stickyContainerMobileSticky:{width:"100vw",position:"fixed",top:0,left:0,paddingBottom:"5px",background:"#fff",boxShadow:"0 10px 10px -10px rgba(0, 0, 0, 0.25)"},topBar:{display:"flex",justifyContent:"flex-end",alignItems:"center",width:"100%",height:"40px"},topBarHidden:{display:"none"},closeButton:{marginRight:"3px"},content:{width:"100%"}};var Vd=e=>{let{children:t}=e;const[n,r]=(0,i.useState)(!1),o=(0,i.useRef)(null),{is_stay_sticky_after_timeout:a,sticky_area_css_selector:s,timeout:c,top:u,z_index:d}=Ht(),{isSticky:l,remainingStickyTime:f,stickyPlaceholderRef:p,closeStickyContainer:h}=Wd(o.current,s,c,a),v=p.current,m=v&&l?{width:v.offsetWidth,height:v.offsetHeight}:void 0,_=l?{top:`${u}px`,zIndex:d}:{};Ld(l,n),Fd(l,Be.t4.Mobile);const g=(0,i.useCallback)((()=>{r(!0),h()}),[h]);return i.default.createElement("div",{ref:p,style:m},i.default.createElement("div",{style:{...Bd.stickyContainerMobile,...l?Bd.stickyContainerMobileSticky:{},..._}},i.default.createElement("div",{style:{...Bd.topBar,...l?{}:Bd.topBarHidden}},i.default.createElement(Bu,{style:Bd.closeButton,isStickyAfterTimeout:a,remainingTime:f,timeout:c,onClick:g})),i.default.createElement("div",{ref:o,style:{...Bd.content,...l?{width:"fit-content",margin:"0 auto"}:{}}},t)))};const Ld=(e,t)=>{const{trackMovingAdEvent:n}=gu("sticky"),r=xd(e);(0,i.useEffect)((()=>{t?n("end_manually"):!e||r?e||!r||t||n("end"):n(_r)}),[t,e,r,n])},zd=e=>{let{animationsList:t,isAnimationEnabled:n,isSticky:r,stickyAnimation:o,stickyContainerElement:a,stickyContainerStyles:s,unstickyAnimation:c}=e;const[u,d]=(0,i.useState)(null),l=xd(r);return(0,i.useEffect)((()=>{if(!a||!n)return;const e=e=>{const{animationName:n}=e;t.some(eo(n))&&d(n)},i=l&&!r;return a.addEventListener("animationstart",e),a.style.animation="",i&&Object.entries(s).forEach((e=>{let[t,n]=e;return a.style[Ro(t)]=n})),requestAnimationFrame((()=>requestAnimationFrame((()=>{r?a.style.animation=o:i&&(a.style.animation=c)})))),()=>{a.removeEventListener("animationstart",e)}}),[t,n,r,l,o,a,s,c]),u},Fd=(e,t)=>{const[n]=_u(),r=xd(e),{reportingModuleName:o}=n.context;(0,i.useEffect)((()=>{e&&(e=>{let{product:t,device:n}=e;Kn({metric:"sticky-ad-unit-attached",tags:{[b]:Ho(),[S]:n,[A]:t}})})({product:o,device:t}),!e&&r&&(e=>{let{product:t,device:n}=e;Kn({metric:"sticky-ad-unit-detached",tags:{[b]:Ho(),[S]:n,[A]:t}})})({product:o,device:t})}),[t,e,r,o])},Wd=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const[o,a]=(0,i.useState)(!1),[s,c]=(0,i.useState)(null),[u,d]=(0,i.useState)(null),[l,f]=(0,i.useState)(!1),[p,h]=(0,i.useState)(!1),[v,m]=(0,i.useState)(!1),_=xd(o),g=(0,i.useRef)(null),y=(0,i.useMemo)((()=>Qd(t)),[t]),[b]=_u(),{isAdUnitsOverlapDetected:w}=b.context,S=g.current,A=S?.offsetHeight??0,E=v&&!w&&!p&&!(_&&!o)&&Boolean(y&&S)&&(!l||o&&l&&r),C=(0,i.useCallback)((()=>{const e=!!Ye||Boolean(y&&((e,t)=>{const n=e.getBoundingClientRect();return{[co.Top]:uo,[co.Bottom]:lo,[co.Left]:fo,[co.Right]:po}[t](n)})(y,"bottom")>2*A);m(e)}),[y,A]);(0,i.useEffect)((()=>{if(!y)return;const e=new ResizeObserver(C);return e.observe(y),()=>e.disconnect()}),[C,y]);const x=(0,i.useCallback)((()=>{a(!1)}),[]),k=(0,i.useCallback)((()=>{r||a(!1),f(!0)}),[r]),O=(0,i.useCallback)((()=>{h(!0)}),[]),{startTimer:I,pauseTimer:P,stopTimer:N,remainingTime:R}=Od(n,k,!1,1e3),{startTimer:D,pauseTimer:T,stopTimer:M}=Od(n,O,!1);(0,i.useEffect)((()=>{w&&a(!1)}),[w]),(0,i.useEffect)((()=>{o?(M(),I()):P()}),[o,P,I,N,M]);const j=(0,i.useCallback)((()=>{if(!S||!y||!e)return;const{bottom:t,top:n}=y.getBoundingClientRect()??{},r=e.offsetHeight+(Ye?40:25);if(Ye?n>0:n>r)c(md.OutOfViewTop);else{const e=Ye?t>r:t>window.innerHeight;c(e?md.InView:md.OutOfViewBottom)}}),[y,e,S]);Ed({isEnabled:E,callback:j,throttleTimeout:100});const U=(0,i.useCallback)(((e,t)=>{const{intersectionRatio:n}=t??{},r=1===n;return d(e),r?D():T()}),[T,D]);return _d({intersectionObserverOptions:{threshold:Ye?1:[.5,1]},isEnabled:E,target:S,callback:U},[U]),(0,i.useEffect)((()=>{if(!E)return c(null),void d(null);const e=s===md.InView&&u===md.OutOfViewBottom;o?e||(St(!0,"Sticky container is out of position"),a(!1)):e&&(St(!0,"Sticky container is on position"),a(!0))}),[o,E,s,u]),{isSticky:o,stickyPlaceholderRef:g,closeStickyContainer:x,remainingStickyTime:R}},Hd=[Be.NR.Pitc],{is_enabled:Yd}=Ft(),{is_enabled:Gd}=Ht(),qd=(e,t)=>{const n=oa()?Gd:Yd;return e&&n&&Hd.some(eo(t))},Qd=e=>{if(Array.isArray(e)){const[t]=e.map((e=>document.querySelector(e))).filter(Boolean);return t??null}return document.querySelector(e)};var Jd=e=>{let{children:t,isStickyDesktopRunning:n,isVideoAd:r,adSize:o,className:a}=e;return i.default.createElement("div",{className:a,style:{...r?{width:n?"100%":o.width,height:n?"100%":o.height}:{}}},t)},Kd=e=>{let{children:t}=e;const[n]=_u(),{isStickyDesktopRunning:r,displayAdSize:o=[],campaign:a}=n.context,[s,c]=o,u=n.value===Be.mL.Video,d=u?a.video.size:{width:s,height:c};return i.default.createElement($d,null,i.default.createElement(Jd,{isStickyDesktopRunning:r,isVideoAd:u,adSize:d},t))};const{products_heights:Zd}=qt();var Xd=e=>{let{children:t}=e;const[n]=_u(),{product:r,campaign:o}=n.context,a=n.matches(Be.mL.Video),s=o.video.size,c=Zd[r],u=s.width??"auto",d=c??"auto";return i.default.createElement("div",{className:"takeover-container",style:a?{width:u,height:d,maxWidth:"300px"}:void 0},t)},el=e=>{let{isStickyDesktopRunning:t,takeoverSize:n,children:r}=e;const{width:o,height:a}=n,s=(0,i.useMemo)((()=>((e,t,n)=>{const r={position:"absolute",top:`-${c.lh}`,zIndex:2},i={height:"100%",transform:`scale(${c.nx})`,margin:`${(n*c.nx-n)/2}px ${(t*c.nx-t)/2}px`};return{width:t,height:n,...e?i:r}})(t,o,a)),[t,o,a]);return i.default.createElement("div",{style:s},r)};const{active_products:tl,is_enabled:nl}=qt(),rl=(e,t)=>e&&nl&&!oa()&&tl.some(eo(t)),{products_heights:il}=qt(),ol=e=>e?parseInt(e,10):0,al=(e,t)=>{if(il[e])return{height:ol(il[e])+ol(c.lh),width:t.clientWidth}};var sl=e=>{let{children:t}=e;const[n]=_u(),{isTakeoverEnabled:r,isStickyEnabled:i,isSlidingEnabled:o,moduleName:a}=n.context,s=r||i,c=oa(),u=a===Be.NR.InComment,d=a===Be.NR.InCommentAddOn,l=a===Be.NR.Conversation;return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Zi(...t.reverse())}(Fo(Xd,r&&!i),Fo(Kd,i&&r&&!c),Fo($d,i&&!r&&!c),Fo(Vd,i&&c),Fo(Ul,o&&!s),Fo(bu,u),Fo(Cu,d),Fo(na,l))(t)};const cl={container:{display:"flex",flexDirection:"row",justifyContent:"center",width:(ul=Ye)?"100%":"auto",height:ul?"auto":"initial"}};var ul,dl=e=>{let{width:t,height:n,children:r,isCentered:o,overflow:a="hidden"}=e;return i.default.createElement("div",{style:{...cl.container,overflow:a,position:"relative",display:"flex",flexDirection:"column",width:o?"100%":t,height:n}},r)};const ll={height:"1px",width:"100%",backgroundColor:"var(--spotim-message-separator-color, transparent)"};var fl=e=>i.default.createElement("div",{style:{...ll,...e.styles}}),pl=e=>function(t){return n=>(e=>{const t=xt("tenant_config.ads.tags_guard",Yt),n=t[dt(ct())],r=t.is_disabled_by_default;return(Array.isArray(n)?n:r??[]).includes(e)})(e)?null:i.default.createElement(t,n)};const hl={container:{width:"100%",height:"100%"}};var vl=(0,i.memo)(pl(c.Qy.Dfp)((e=>{let{userGeo:t,tag:n,spotId:r,adType:o,adUnitId:a,size:s,userGroups:u,mcmNetworkId:d,campaignId:l}=e;const[f,p]=_u(),{adCallIds:h}=(0,i.useContext)(hd),{trackEvent:v}=mr({layout:"display",campaign_id:l,...kr(n)}),m=(0,i.useRef)(h),{adsConfig:_,slot:g,reportingModuleName:y,isSlidingEnabled:b,isStickyEnabled:w}=f.context,{spot:S}=_,E=S.hb_code_enabled&&S.hb_code_per_ad_unit_enabled&&S.hb_code,C=n.hb_code_enabled&&n.hb_code_provider&&n.hb_code,x=(0,i.useMemo)((()=>C?{code:n.hb_code,provider:n.hb_code_provider}:E?{code:S.hb_code,provider:S.hb_code_provider}:void 0),[C,E,n.hb_code,n.hb_code_provider,S.hb_code,S.hb_code_provider]),k=`${a}-${o}`,O=n.code.includes("/tag/js/gpt.js"),I=((e,t,n)=>{const{is_enabled_by_default:r,enabled_for_modules:i={},enabled_for_devices:o={},enabled_for_geo_locations:a={},enabled_for_slots:s={}}=xt("tenant_config.ads.render_display_ads_in_iframe_config",{is_enabled_by_default:!0,enabled_for_modules:{},enabled_for_devices:{},enabled_for_geo_locations:{},enabled_for_slots:{}}),c=Lo().toLowerCase(),u=`row-${n.row}:column-${n.column}`,d=a[t],l=o[c],f=i[e],p=s?.[e]?.[u];return[d,l,f,p].every(Zi(kd,to))?r:to([d,l,f,p].some(eo(!1)))})(y,t,g),P=(o===c.t6.Passback?c.Qx.Passback:c.Qx.Dbv)===c.Qx.Dbv;(0,i.useEffect)((()=>{const e=ja(g);if(v(e),n.code)return O?void(P&&br({reportingModuleName:y,adCallIds:m.current,campaignId:l})):(p({type:Nc,payload:[n.size.width,n.size.height]}),void(e=>{let{product:t}=e;Kn({metric:"inline-display-ad-rendered",tags:{[A]:t}})})({product:y}));(e=>{let{product:t}=e;Kn({metric:"display-ad-no-code-settings",tags:{[A]:t}})})({product:y})}),[]),vd({tag:n,adType:o,campaignId:l,adUnitIdFormatted:k});const N=(0,i.useCallback)((async(e,t,r)=>(or(c.Qy.Dfp)&&await nr(),I||E?Vr({adUnitId:a,content:e,reportingModuleName:t,target:r,tagType:n.type,HBCodeSettings:x}):Nr(e,r))),[x,a,E,I,n.type]),R=(0,i.useCallback)((e=>{if(e)if(O){const t=xr({adUnitIdFormatted:k,isRenderAdsInIframeEnabled:I,mcmNetworkId:d,reportingModuleName:y,slot:g,spotId:r,userGroups:u,code:n.code,codeSettings:n.code_settings,sellerId:_.spot.seller_id,isSliding:b,isStickyEnabled:w});N(t,y,e)}else N(n.code,y,e)}),[O,I,N]),{displayAdSize:D}=f.context,T=D?D[0]:void 0,M=D?D[1]:s?.height,j=T??hl.container.width,U=M??hl.container.height;return i.default.createElement("div",{ref:R,style:{...hl.container,height:U,width:j}})})),(()=>!0));const ml={displaySlot:{display:"flex",top:0,left:0,flexDirection:"row",justifyContent:"center",position:"absolute"},isNativeAd:{width:"100%"}};var _l=e=>{let{tag:t,position:n,children:r,height:o="auto",width:a="auto",isNativeAd:s}=e;const[c]=_u(),{displayAdSize:u,isSlidingEnabled:d}=c.context,{code_settings:l}=t??{},f=l?.googletag_sizes??[],[p,h]=f.length>1&&u?u:[a,o];return i.default.createElement("div",{"ow-ad-unit-display":!0,style:{...ml.displaySlot,...s?ml.isNativeAd:{},display:"flex",flexDirection:"row",position:n,width:p,height:h,margin:d?"auto 0":"auto",alignItems:"center"}},r)};const gl="load8",yl={loaderContainer:{alignSelf:"center",backgroundColor:"rgba(0, 0, 0, 0)",fontFamily:"'Open Sans', sans-serif"},loaderContent:{position:"relative",height:"100%",width:"100%"},loaderSpinner:{position:"absolute",height:"100%",width:"100%",display:"flex",alignItems:"center",justifyContent:"center",left:0,right:0,top:0,bottom:0},loaderSpinnerAfter:{userSelect:"none",fontSize:"12px",fontWeight:500,opacity:.4,borderRadius:"2px",paddingLeft:"3px",paddingRight:"3px",color:"rgb(104, 103, 103)",border:"1px solid rgb(104, 103, 103)",textAlign:"center"},loaderSpinnerBefore:{animation:`${gl} 1.5s infinite linear`,fontSize:"10px",position:"absolute",borderTop:"2px solid rgba(0, 0, 0, 0.4)",borderRight:"2px solid rgba(0, 0, 0, 0)",borderBottom:"2px solid rgba(0, 0, 0, 0)",borderLeft:"2px solid rgba(0, 0, 0, 0)",textAlign:"center",borderRadius:"50%",width:"50px",height:"50px",marginTop:"-27px",marginLeft:"-27px",left:"50%",top:"50%"}};var bl=e=>{let{adHeight:t,adWidth:n}=e;return i.default.createElement(i.default.Fragment,null,i.default.createElement("div",{style:{width:n,height:t,maxHeight:t,...yl.loaderContainer}},i.default.createElement("div",{style:yl.loaderContent},i.default.createElement("span",{style:yl.loaderSpinnerBefore}),i.default.createElement("div",{style:yl.loaderSpinner}),i.default.createElement("span",{style:yl.loaderSpinnerAfter},"Ad"))),i.default.createElement(Pd,{name:gl,animationProps:{"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}}))},wl=e=>{let{adUnitId:t,adWidth:n,campaignId:r,mcmNetworkId:o,spotId:a,tag:s,userGeo:u,userGroups:d}=e;const[l]=_u(),{reportingModuleName:f,isSlidingEnabled:p}=l.context;return(0,ea.cO)((e=>{At(!0,"Ad unit display runtime error",e,"\nProduct:",f),Qo(e,{product:f})})),i.default.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",height:"100%"}},i.default.createElement(_l,{width:s.size.width,height:s.size.height,position:"relative",tag:s},i.default.createElement(vl,{adType:c.t6.Passback,adUnitId:t,campaignId:r,mcmNetworkId:o,size:s.size,spotId:a,tag:s,userGeo:u,userGroups:d})),!p&&i.default.createElement(Ml,{width:n}))},Sl=e=>{let{children:t,target:n}=e;const[r,o]=(0,i.useState)(null),a=(0,i.useRef)(null),s=gd(n);return(0,i.useEffect)((()=>{const{current:e}=a;e&&o(e.attachShadow({mode:"open"}))}),[a]),s?i.default.createElement(i.default.Fragment,null,t):i.default.createElement("div",{ref:a},r?(0,i.createPortal)(t,r):null)};const Al=!0,El=!0,Cl="Sponsored",xl={display:"flex",justifyContent:"center",width:"100%"},kl={display:"flex",alignItems:"flex-end",justifyContent:"space-between",color:"var(--spotim-ads-footer-color, #373e44)",fontFamily:'"Open Sans", sans-serif',fontSize:"14px",letterSpacing:"-0.23px"},Ol={margin:"0",height:"12px",width:"12px"},Il={marginRight:"5px"},Pl={display:"flex",alignItems:"center",justifyContent:"center",color:"inherit",textDecoration:"none"},{is_ad_choices_enabled:Nl=Al,is_label_enabled:Rl=El,label:Dl=Cl}=xt("tenant_config.ads.footer",{is_ad_choices_enabled:Al,is_label_enabled:El,label:Cl}),Tl=()=>Nl||Rl?20:0,Ml=e=>{let{width:t}=e;const[n]=_u(),{isStickyEnabled:r,target:o}=n.context;if(!Nl&&!Rl)return null;const a=Tl();return i.default.createElement(Sl,{target:o},i.default.createElement("div",{style:xl},i.default.createElement("div",{style:{width:t,margin:r?"0 5px":0,height:a,...kl}},Nl&&i.default.createElement("a",{href:"https://dynamic-cdn.openweb.com/yad/adchoice.html",style:Pl,rel:"noopener noreferrer",target:"_blank"},i.default.createElement("span",{style:Il},"AdChoices"),i.default.createElement("img",{src:"https://publisher-assets.spot.im/yad/ad-choises.png",style:Ol,alt:"Ad Choices Icon"})),Rl&&i.default.createElement("span",null,Dl))))};var jl=(e,t)=>{const{displayAdSize:n}=e.context,r=((e,t)=>(0,i.useMemo)((()=>{if(!t)return;if(t.type===Be.mL.Display)switch(e.value){case"initial":case"fixedDisplayAd":return t.display;default:return}const n=Boolean(t.displayBeforeVideo?.code);switch(e.value){case"initial":return n?t.displayBeforeVideo:void 0;case"dbv":return t.displayBeforeVideo;case"video":return t.video;case"passback":return t.passback;default:return}}),[e.value,t?.id]))(e,t);return t?n&&!e.matches("video")?n[0]:(o=r?.size.width,o?o===c.PH?"100%":o:c.w_):"0px";var o},Ul=e=>{let{children:t}=e;const[n]=_u(),{trackMovingAdEvent:r}=gu("sliding"),{slidingContainerExtension:o,campaign:a}=n.context,s=$c(n,["video"]),{video:u}=a??{},{width:d}=u?.size??{},l=d===c.PH?"100%":d,f=jl(n,a),p=s?l:f,{top:h,z_index:v}=Lt();return(0,i.useEffect)((()=>{r("endless")}),[r]),i.default.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"}},i.default.createElement("div",{style:{position:"relative",width:"fit-content"}},i.default.createElement("div",{style:{position:"sticky",top:`${h}px`,zIndex:v}},t),o&&i.default.createElement("div",{style:{width:"100%",visibility:"hidden",zIndex:-500,height:o}})),i.default.createElement(Ml,{width:p}))};const $l=[Be.NR.IndependentAd,Be.NR.IndependentAdHP],{is_enabled:Bl}=Lt(),Vl=(e,t)=>e&&Bl&&$l.some(eo(t)),Ll=e=>{let{adsConfigData:t,renderAdUnit:n,renderAdUnitPlaceholder:r}=e;return e=>{let{target:i,moduleName:o,slot:a,options:s,setReactRoot:c}=e;const{...u}=s??{},d=Ma(t,{moduleName:o,slot:a,reportingModuleName:o,...u});if(!d)return;const{adsConfig:{campaign:l},reportingModuleName:f}=d,{is_sliding:p,sliding_container_size:h}=l??{},v=Ta({adUnitProps:d,target:i,contextOverrides:{isSlidingEnabled:Vl(Boolean(p),o),slidingContainerExtension:h,slot:a}});gr({reportingModuleName:f,campaignId:l?.id}),Pa(o,f,i,(()=>{n({target:i,context:v,props:d,setReactRoot:c})}),(()=>r({target:i})))}},zl=(e,t)=>(e-20*(t-1))/t,Fl=xt("tenant_config.ads.supported_preload_products",[Be.xs.Pitc,Be.xs.PitcDoubleDecker,Be.xs.Reactions,Be.xs.Spotlight,Be.xs.TopicTracker]).reduce(((e,t)=>(e[t]=!0,e)),{}),Wl={};var Hl=()=>{const[e,t]=(0,i.useState)([]),n=(0,i.useRef)(e),r=e.length>1;(0,i.useEffect)((()=>{n.current=e}),[e]);const o=(0,i.useCallback)((e=>{t((t=>[...t,{id:e.adUnitId,element:e.adUnitElement}]))}),[]),a=(0,i.useCallback)((e=>{t((t=>t.filter((t=>{let{id:n}=t;return n!==e.adUnitId}))))}),[]),s=(0,i.useCallback)((()=>{const e=(r=n.current).map(((e,t)=>t===r.length-1?[]:r.slice(t+1).map((t=>((e,t)=>{const n=e.getBoundingClientRect(),r=t.getBoundingClientRect();return!(n.right<=r.left||n.left>=r.right||n.bottom<=r.top||n.top>=r.bottom)})(e.element,t.element)?[e,t]:null)).filter(Boolean))).flat();var r;zn(e)||e.flat().forEach((e=>{var n;n={adUnitId:e.id,eventType:c.BE.AdUnitsOverlap},(0,Ge.dispatch)(c.Fl.AdUnitsManagerEvent,n),t((t=>t.filter((t=>{let{id:n}=t;return n!==e.id}))))}))}),[]);return Ed({isEnabled:r,callback:s,throttleTimeout:c.un}),{handleAdUnitInView:o,handleAdUnitOutOfView:a}};const Yl=e=>{let{adsConfigData:t,renderAdUnit:n,renderAdUnitPlaceholder:r}=e;return(0,i.useMemo)((()=>(e=>{let{adsConfigData:t,renderAdUnit:n,renderAdUnitPlaceholder:r}=e;const i=Ll({adsConfigData:t,renderAdUnit:n,renderAdUnitPlaceholder:r});return(e,t,n,r)=>{if(!r?.containerWidth||!r.maxCards)return void St(!0,"Missed required options for rendering multiple ad slots",r);const{containerWidth:o,maxCards:a}=r,s=((e,t)=>{let n=1;return Ye||(t<620?n=1:t>=620&&t<1024?n=2:t>=1024&&(n=3)),Math.min(n,e)})(a,o),c={display:"flex","flex-direction":"column","justify-content":"flex-start","margin-top":"30px","margin-bottom":"30px","margin-right":"20px","max-width":zl(o,s)};e.style.display="flex";for(let o=0;o<s;o++){const a=document.createElement("div"),s={...n,column:o+1};Object.assign(a.style,c),e.appendChild(a),i({target:a,moduleName:t,slot:s,options:r})}}})({adsConfigData:t,renderAdUnit:n,renderAdUnitPlaceholder:r})),[t,n,r])},Gl=e=>{let{adsConfigData:t,renderAdUnit:n,renderAdUnitPlaceholder:r}=e;return(0,i.useMemo)((()=>Ll({adsConfigData:t,renderAdUnit:n,renderAdUnitPlaceholder:r})),[t,n,r])};var ql=()=>{const e=(0,i.useCallback)((e=>{(e=>{if(!(e.error instanceof SyntaxError&&document.currentScript))return;const t=document.currentScript.innerHTML,n=(e=>{const t=`${yt.adsAssetType}.js`,n=yt.nodeEnv.isProduction?`${yt.version}/${yt.adsAssetType}/${t}`:`/${t}`;return Boolean(e.stack?.includes(n))})(e.error),r=t.includes(c.ru),i=t.includes(Ot());n&&r&&i&&qo(e.error)})(e)}),[]);(0,i.useEffect)((()=>(window.addEventListener("error",e),()=>{window.removeEventListener("error",e)})),[e])};function Ql(e){var t=e.element,n=e.onAttributesChanged;t&&MutationObserver&&new MutationObserver((function(e){var t=e.filter((function(e){return"attributes"===e.type&&e.attributeName}));if(t.length>0){var r,i=null==(r=t.find((function(e){return e.target})))?void 0:r.target;null==n||n(i,t)}})).observe(t,{attributes:!0})}function Jl(e){var t=e.element,n=e.onRemoved;t&&MutationObserver&&t.parentNode&&new MutationObserver((function(e,r){e.some((function(e){return Array.from(e.removedNodes).indexOf(t)>-1}))&&(n(e[0].removedNodes[0]),r.disconnect())})).observe(t.parentNode,{childList:!0})}const Kl=xt(O,{}),Zl=xt(k,!1),Xl=xt("tenant_config.ads.independent_ads_enabled",!0),ef=(e,t)=>{const n=t??c.E2;Xl?function(e){var t=e.selector,n=e.onAdded,r=e.onAttributesChanged,i=void 0===r?function(){}:r,o=e.onRemoved,a=void 0===o?function(){}:o,s="spotim-detector-animation-"+function(e){if(!e)return 0;for(var t=0,n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t&=t;return t+Math.floor(1e5+9e5*Math.random())||0}(t);Je()?function(e){var t=e.selector,n=e.onItemFound,r=document.querySelector(t);if(r)n(r);else var i=setInterval((function(){var e=document.querySelector(t);e&&(n(e),clearInterval(i))}),1e3)}({selector:t,onItemFound:function(e){n(e),Jl({element:e,onRemoved:a}),Ql({element:e,onAttributesChanged:i})}}):(function(e){var t=e.selector,n=e.animationName;requestAnimationFrame((function(){var e,r=document.createElement("style");r.setAttribute("data-spot-im-style-module","*"),r.setAttribute("data-spot-im-style","true"),r.innerText=("\n  "+t+" {\n    animation: "+n+" 1ms !important;\n  }\n  \n  @keyframes "+n+" {\n    from {\n    } to {\n    }\n  }\n  ").replace(/\n/g,""),document.head.appendChild(r),(null==(e=window.__SPOTIM__)?void 0:e.stylesheetElementAdded)&&window.__SPOTIM__.stylesheetElementAdded({module:"*",stylesheetElement:r});var i=document.querySelectorAll("data-spot-im-shadow-host");Array.from(i).forEach((function(e){e.shadowRoot&&e.shadowRoot.appendChild(r.cloneNode())}))}))}({animationName:s,selector:t}),function(e){var t=e.animationName,n=e.onItemFound,r=function(e){var r;e.animationName!==t&&(null==e||null==(r=e.detail)?void 0:r.animationName)!==t||!e.target||n&&n(e.composedPath()[0])};document.addEventListener("animationstart",r),document.addEventListener("MSAnimationStart",r),document.addEventListener("webkitAnimationStart",r)}({animationName:s,onItemFound:function(e){n(e),Jl({element:e,onRemoved:a}),Ql({element:e,onAttributesChanged:i})}}))}({selector:n,onAdded:t=>tf(n,t,e)}):St(!0,"Independent Ads Disabled")},tf=(e,t,n)=>{const r="data-rendered";if(t.hasAttribute(r))return;const i=Zl&&Boolean(Kl[e]),o=!i&&(e=>{const t=e.getAttribute("data-row"),n=e.getAttribute("data-column");if([t,n].includes(null))return!1;const r=Number(t),i=Number(n),o=Ia(r),a=Ia(i);return o&&a})(t)?{row:Number(t.getAttribute("data-row")),column:Number(t.getAttribute("data-column"))}:Uo,a=i?Kl[e]:o,s=t.dataset?.pageType??"",u=Object.values(c.B5).includes(s)?s:"independent_ad";n({target:t,moduleName:u,slot:a,options:{forceSpecificSlot:!1}}),t.setAttribute(r,"true"),(e=>{const t=hr({type:"loaded"},e);fr(t)})(u)},nf=xt(O,{}),rf=xt(k,!1),of=e=>{let{adsConfigData:t,renderAdUnit:n,renderAdUnitPlaceholder:r}=e;(0,i.useEffect)((()=>{if(yt.adsAssetType!==c.F0.Ads)return;const e=(i=(e,i)=>{const o=(e=>{let{target:t,product:n}=e,r={...va[n]};switch(n){case Be.xs.Spotlight:{const e=t.hasAttribute("data-spotlight-sidebar")||xt(D);r={...r,center:Boolean(e),adPosition:e||Ye?Be.ev.Below:Be.ev.Right,moduleName:e?"conversation_header_siderail":"conversation_header"};break}case Be.xs.Pitc:{const e=t.dataset?.pageType,n=t.hasAttribute("data-vertical-view")||ba(t),i=xt("tenant_config.pitc.bottomVerticalAd",!1),o=Ye||n,a=xt(R,!0),s=(()=>{const e=xt("tenant_config.pitc.mobileAdPosition",Be.ev.Below);return e===Be.ev.Below||e===Be.ev.Above?e:Be.ev.Below})(),u=xt(N,!1),d=xt(P,!1)&&xt(I,!1)||xt("tenant_config.pitc.layoutVariant")===c.K9.Compact,l=Ye&&s===Be.ev.Above,f=n?i?Be.ev.Below:Be.ev.Above:Ye&&!u?s:a?Be.ev.Left:Be.ev.Right,p=wa(t),h=n?"side_rail":e&&c.bd.hasOwnProperty(e)?c.bd[e]:"pitc";r={...r,adPosition:f,titleBelowAd:l,moduleName:p,center:o,compact:d,reportingModuleName:h};break}case Be.xs.PitcDoubleDecker:{const e=xt(N,!1),n=xt(C.Ltr,!0),i=xt(R,!0),o=Ye&&!e?Be.ev.Below:n===i?Be.ev.Left:Be.ev.Right,a=wa(t);r={...r,adPosition:o,moduleName:a};break}case Be.xs.Reactions:{const e=(e=>{const t=xt("tenant_config.reactions.shouldRenderAdBelow",!1)||"true"===e.getAttribute("data-vertical-view"),{width:n}=e.getBoundingClientRect(),r=document.documentElement.clientWidth,i=n||r;return t?Be.ev.Below:i>=720?Be.ev.Right:Be.ev.Below})(t),n=t.hasAttribute("data-vertical-view");r={...r,adPosition:e,moduleName:n?"reactions_siderail":"reactions"};break}case Be.xs.TopicTracker:{const e=xt("tenant_config.topic-tracker.shouldRenderAdBelow",!1),n=xt("tenant_config.topic-tracker.override_spotlight")&&(t.hasAttribute("data-spotlight-sidebar")||xt(D))||t.hasAttribute("data-topic-tracker-sidebar")||"true"===t.getAttribute("data-vertical-view")||xt("tenant_config.topic-tracker.isSidebar"),i=n?"topic_tracker_siderail":"topic_tracker";r={...r,center:!0,adPosition:n||Ye||e?Be.ev.Below:Be.ev.Right,moduleName:i};break}}return{...r,product:n,reportingModuleName:r.reportingModuleName??r.moduleName}})({product:e,target:i}),a=Ma(t,o);if(!a)return;const{adsConfig:{campaign:s},moduleName:u,reportingModuleName:d}=a,{is_sliding:l,is_sticky:f,is_video_takeover:p,sliding_container_size:h}=s??{},{headerDiv:v,productContainer:m,productAndTitleContainer:_,stylingWrapper:g}=((e,t)=>{const n=(()=>{const e=xt(C.Ltr,!0),t=document.createElement("div");return t.setAttribute("data-spot-im-direction",e?"ltr":"rtl"),t})(),r=(e=>{const t=document.createElement("div"),n=e.moduleName,r=e.adPosition||Be.ev.Left,i=_o(Aa.adUnitWrapper,Aa[ya(r)],Aa[n]);return t.setAttribute("style",i),t.setAttribute(`${n}-ad-wrapper`,""),t})(t),i=((e,t,n,r)=>{const i=document.createElement("div");return i.id="spotim-specific",i.className=e.className,i.setAttribute("data-openweb-style-wrapper","true"),i.setAttribute(`${r}-ad-container`,""),i.appendChild(n),n.appendChild(t),i})(e,r,n,t.moduleName);return((e,t,n)=>{e.insertAdjacentElement("beforebegin",t),e.setAttribute("style",_o(Aa.elementWrapper)),e.setAttribute("data-ad-unit-id",n.adUnitId)})(e,i,t),{productContainer:r,headerDiv:Ea(),productAndTitleContainer:i,stylingWrapper:n}})(i,a),y=Ta({adUnitProps:a,target:i,contextOverrides:{isSlidingEnabled:Vl(Boolean(l),u),isStickyEnabled:qd(Boolean(f),u),isTakeoverEnabled:rl(Boolean(p),e),slidingContainerExtension:h,takeoverSize:al(e,m)}}),b=()=>Ca({adUnitProps:a,headerDiv:v,productContainer:m,productAndTitleContainer:_,stylingWrapper:g,target:i});gr({reportingModuleName:d,campaignId:s?.id}),Pa(u,d,i,(()=>{n({context:y,props:a,target:m}),b()}),(()=>{r({target:m}),b()}))},(0,Ge.subscribe)(Be.Lw.ProductsToLoad,(e=>e.map((e=>(0,Ge.subscribe)(`${e}-bootstrap`,(t=>{Boolean(Fl[e]&&(!Wl[e]||Wl[e]!==t))&&(Wl[e]=t,i(e,t))})))))));var i;return()=>{e&&e()}}),[t,n,r])},af=Symbol(),sf={row:1,column:1},cf=e=>{class t extends HTMLElement{static postIdKey="post-id";[af]=null;reactRoot=null;_postId=null;static get observedAttributes(){return[t.postIdKey]}get postId(){return this._postId}set postId(e){e!==this._postId&&(this._postId=e,this.unmountConversationAd(),this.renderConversationAd())}setReactRoot(e){this.reactRoot??=e}unmountConversationAd(){this.reactRoot?.unmount(),this[af]?.appendChild(document.createElement("slot"))}renderConversationAd(){this[af]??=this.attachShadow({mode:"closed"});const t=document.createElement("div");this[af].appendChild(t),e({target:t,moduleName:Be.NR.Conversation,slot:sf,setReactRoot:this.setReactRoot.bind(this)})}attributeChangedCallback(e,n,r){e===t.postIdKey&&n!==r&&(this.postId=r)}connectedCallback(){this.postId=this.getAttribute(t.postIdKey)}disconnectedCallback(){this.reactRoot&&this.reactRoot.unmount()}}customElements.get(c.aU.OWAdsConversation)||customElements.define(c.aU.OWAdsConversation,t)};var uf=e=>{const[t,n]=(0,i.useState)(!1);return Vu((async()=>{try{await(e=>{const{featherModeBehavior:t,delayType:n,delayTime:r}={featherModeBehavior:xt("tenant_config.ads.feather_mode_behavior",Be.KM.Aggressive),delayType:xt("tenant_config.ads.feather_mode_delay_type",Be.bH.Scroll),delayTime:xt("tenant_config.ads.feather_mode_delay_time")};return t!==e?Promise.resolve():n===Be.bH.Time&&null!=r?Promise.race([(i=r,new Promise((e=>setTimeout(e,i)))),_a()]):n===Be.bH.Scroll?_a():Promise.resolve();var i})(e)}catch(e){At(!0,"Feather mode runtime error",e)}n(!0)}),[]),t},df=Object.prototype.hasOwnProperty,lf=function(e,t,n){var r=e[t];df.call(e,t)&&ve(r,n)&&(void 0!==n||t in e)||function(e,t,n){"__proto__"==t&&Yr?Yr(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}(e,t,n)},ff=function(e,t,n){return null==e?e:function(e,t,n,r){if(!J(e))return e;for(var i=-1,o=(t=De(t,e)).length,a=o-1,s=e;null!=s&&++i<o;){var c=Te(t[i]),u=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(i!=a){var d=s[c];void 0===(u=r?r(d,c,s):void 0)&&(u=J(d)?d:Pi(t[i+1])?[]:{})}lf(s,c,u),s=s[c]}return e}(e,t,n)};const pf=xt("tenant_config.ads.ads_config_mock_endpoint",c.d$),hf=async e=>{let[t,n]=e;try{const e=await zr(`${pf}/${n}`);if(!e)return;return[t,e]}catch(e){At(!0,"Fetch ads config mock error",e)}},vf=()=>{const e=Io(c.BU.AdsConfigCached);if(e)if((()=>{const e=Io(c.BU.AdsConfigCacheExpirationTimeout);try{const t=Number(e);return!t||t<=Date.now()}catch(e){return!0}})()||(()=>{const e=Rt()?.cache_version;return Io(c.BU.AdsConfigCacheVersion)!==e})())mf();else try{const t=JSON.parse(e);return St(!0,"Ads config is taken from cache"),t}catch(e){At(!0,"Ads config from cache parse error",e)}},mf=()=>{Po(c.BU.AdsConfigCached),Po(c.BU.AdsConfigCacheExpirationTimeout),Po(c.BU.AdsConfigCacheVersion)},_f=e=>{let{adsConfig:t,cacheExpirationInterval:n,cacheVersion:r}=e;const i=Date.now()+n;No(c.BU.AdsConfigCached,JSON.stringify(t)),No(c.BU.AdsConfigCacheExpirationTimeout,String(i)),No(c.BU.AdsConfigCacheVersion,r)},gf=e=>{const t=c.o2.Cache;return(e=>{let{dataSource:t}=e;Kn({metric:"ads-config-fetched",tags:{[w]:t}})})({dataSource:t}),{adsConfig:e,dataSource:t}},yf=e=>({adsConfig:e,dataSource:c.o2.Network}),bf=async e=>{let{fetchSettings:t,postId:n,spotId:r}=e;const i=(e=>{const{endpoints:t,launcherEnv:n}=yt,r=n.isProduction?t.apiAdsConfig.production:t.apiAdsConfig.staging,i=new URL(`${r}/${e}/v3`);return"true"===ut().get(c.Rc.BotBypassDisabled)&&i.searchParams.append(c.Rc.BotBypassDisabled,"true"),i.href})(r),o=((e,t)=>({"x-access-token":localStorage.getItem("SPOTIM_ACCESS_TOKEN"),"x-guid":mo(),"x-post-id":e,"x-spot-id":t,"x-spotim-page-view-id":s.config.pageViewId}))(n,r);try{const e=await jo((()=>zr(i,{headers:o,credentials:"include"})),t.request_retry_count,t.request_retry_timeout);return St(!0,"Fetch ads config success",e),e}catch(e){const t=ho(e);At(!0,"Fetch ads config error",t),(e=>{Jn({metric:p,error:Jt(e,p)})})(t)}},wf=async e=>{let{fetchSettings:t,postId:n,spotId:r}=e;const i=vf(),o=bf({fetchSettings:t,postId:n,spotId:r}).then((e=>{if(e?.success)return _f({adsConfig:e,cacheExpirationInterval:t.cache_expiration_interval,cacheVersion:t.cache_version}),yf(e)}));return i?gf(i):o},Sf=async e=>{let{fetchSettings:t,postId:n,spotId:r}=e;const i=vf();if(i)return gf(i);const o=await bf({fetchSettings:t,postId:n,spotId:r});return o&&_f({adsConfig:o,cacheExpirationInterval:t.cache_expiration_interval,cacheVersion:t.cache_version}),yf(o)},Af=async e=>{let{fetchSettings:t,postId:n,spotId:r}=e;return new Promise((async e=>{const i=vf();let o,a=!1;const s=()=>{a||(a=!0,e(gf(i)))};i&&(o=setTimeout(s,t.response_delay_timeout));const c=await bf({fetchSettings:t,postId:n,spotId:r}),u=c?.success;clearTimeout(o),u&&_f({adsConfig:c,cacheExpirationInterval:t.cache_expiration_interval,cacheVersion:t.cache_version}),a||(u||!i?e(yf(c)):s())}))},Ef=async e=>{let{fetchSettings:t,postId:n,spotId:r}=e;const i=await bf({fetchSettings:t,postId:n,spotId:r});return mf(),yf(i)},Cf=(e,t)=>{const{campaigns:n,...r}=e,i=[],o=Object.keys(n);return o.length?o.forEach((e=>{n[e]&&i.push({[e]:{...r,dataSource:t,campaigns:n[e]}})})):Kn({metric:"ads-config-no-campaigns"}),i},xf=async(e,t)=>{const{envelope_id:n,platform:r,geo:i,spot:o}=e,a=(()=>{const e=[...ut().entries()].map((e=>{let[t,n]=e;if(t.startsWith(c.Rc.OverrideAdsConfig))return[t===c.Rc.OverrideAdsConfig?"*":t.split(`${c.Rc.OverrideAdsConfig}.`)[1],n]})).filter(Boolean);return e.length?e:(()=>{const e=Io(c.BU.OverrideAdsConfig);if(!e)return[];if(e.match(/^[a-zA-Z0-9_-]+\.json$/))return[["*",e]];try{const t=JSON.parse(e);if(!Array.isArray(t))throw new Error("Ads config override params should be an array");return t}catch(e){return At(!0,"Failed to parse local storage ads config override params",e),[]}})()})()??[],s=a.length>0?await(async e=>(await Promise.all(e.map(hf))).filter(Boolean))(a):[],u=s.length>0?((e,t)=>{const n=t.find((e=>{let[t]=e;return"*"===t}));if(n){const[,e]=n;return St(!0,"Successfully overridden entirely ads config with value",e),e}return t.reduce(((e,t)=>{let[n,r]=t;return ff(e,n,r),St(!0,`Successfully overridden ads config at path "${n}" with value`,r),e}),e)})(e,s):e;return{data:Cf(u,t),geo:i,platform:r,success:!0,thirdPartyData:{ats:{envelopeId:n}},spot:o}};var kf=e=>{const[t,n]=(0,i.useState)(),r=xt("tenant_config.shared.enable_single_gw",!1)||Boolean(window.__OW_CONFIG__?.tenant_config?.shared?.enable_single_gw);return(0,i.useEffect)((()=>{r&&(async e=>{if(!e)return;const t=await xf(e,c.o2.Network);n(t)})(e?.adsConfig)}),[r,e]),Vu((async()=>{if(!r)try{const e=await(async()=>{const e=await(async()=>{const e={CACHE_FIRST:wf,CACHE_ONLY:Sf,NETWORK_FIRST:Af,[It]:Ef},t=Rt(),n=kt(),r=Ot(),i=e[t.fetch_strategy],o=e[It];return i?.({fetchSettings:t,postId:n,spotId:r})??o({fetchSettings:t,postId:n,spotId:r})})();if(!e?.adsConfig)return;const{adsConfig:t,dataSource:n}=e;return t?.success&&!zn(t?.campaigns)?await xf(t,n):void 0})();if(!e)return void St(!0,"No ads config");n(e)}catch(e){At(!0,"Get ads config error",e)}}),[r]),t},Of="localStorage",If="cookie";const Pf=(e,t)=>{(t||null==localStorage.getItem(vo))&&localStorage.setItem(vo,e)},Nf=(e,t)=>{var n;(t||null==(n=vo,document.cookie.split("; ").find((e=>e.startsWith(`${n}=`)))?.split("=")[1]))&&sr(vo,e,365)},Rf=()=>"localStorage"===window.ats?.outputCurrentConfiguration?.().storageType?Of:If,Df=e=>window.btoa(Tf(e)),Tf=e=>{const t={envelope:e,timestamp:Date.now(),version:"0.0.0"};return JSON.stringify(t)};var Mf=e=>{if(!xt("tenant_config.ads.enable_ats_integration",!1)||!e.envelopeId)return;if(St(!0,"Running integration","ATS"),xt("tenant_config.ads.use_ats_external_integration",!0)){try{t=e.envelopeId,window.ats={retrieveEnvelope:e=>{const n=Tf(t);return e&&e(n),Promise.resolve(n)}}}catch(e){At(!0,"ATS integration error",e),(e=>{Jn({metric:d,error:Jt(e,d)})})(ho(e))}return}var t;if(!window.ats)return;const n=xt("tenant_config.ads.always_override_publisher_ats_envelope",!1);try{((e,t)=>{const n=Rf(),r=Df(e);switch(n){case Of:return Pf(r,t);case If:Nf(r,t)}})(e.envelopeId,n)}catch(e){At(!0,"ATS envelope id caching error",e),(e=>{Jn({metric:u,error:Jt(e,u)})})(ho(e))}};const jf=(Uf=ct(),new URL(Uf).hostname);var Uf,$f=Math.floor,Bf=Math.random,Vf=parseFloat,Lf=Math.min,zf=Math.random,Ff=function(e,t,n){if(n&&"boolean"!=typeof n&&function(e,t,n){if(!J(n))return!1;var r=typeof t;return!!("number"==r?In(n)&&Pi(t,n.length):"string"==r&&t in n)&&ve(n[t],e)}(e,t,n)&&(t=n=void 0),void 0===n&&("boolean"==typeof t?(n=t,t=void 0):"boolean"==typeof e&&(n=e,e=void 0)),void 0===e&&void 0===t?(e=0,t=1):(e=Hi(e),void 0===t?(t=e,e=0):t=Hi(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=zf();return Lf(e+i*(t-e+Vf("1e-"+((i+"").length-1))),t)}return function(e,t){return e+$f(Bf()*(t-e+1))}(e,t)};const Wf=(e,t)=>{const n="player"===t?e.moat_player_percent:e.moat_widget_percent;return null!=n&&((e,t,n)=>{const r=Ff(1,100);return!!("number"==typeof(i=n)||Y(i)&&"[object Number]"==H(i))&&n>=r;var i})(0,0,n)};const Hf={player:{margin:"auto",minWidth:"303px"}},Yf="hidePlayer";var Gf=(0,i.forwardRef)(((e,t)=>{const{id:n,className:r,disableAnimation:o=!1,isHidden:a,width:s="100%",height:u="auto",style:d={}}=e;return i.default.createElement(i.default.Fragment,null,i.default.createElement("div",{ref:t,className:Tu()(r),id:n,style:{width:s,height:u,...a&&!o?{animation:`${Yf} ease-in ${l=c.xs,l/c.Zv}s 0s 1 normal forwards`}:{},...Hf.player,...d}}),i.default.createElement(Pd,{name:Yf,animationProps:{"0%":{position:"absolute",opacity:1,zIndex:500},"99%":{position:"absolute",opacity:0,zIndex:500},"100%":{position:"absolute",opacity:0,zIndex:-500,display:"none"}}}));var l}));const qf=e=>{let{id:t,source:n}=e;return{source:n,uids:[{id:t}]}};var Qf=e=>{if(e&&0!==e.length)return{user:{ext:{eids:e.map(qf)}}}},Jf=e=>`${c.v2.version},${c.v2.complete}!${c.v2.asi},${e},${c.v2.hp},,,`;const Kf=e=>Object.entries(e).filter((e=>{let[t,n]=e;return Boolean(n)})).map((e=>{let[t,n]=e;return`${t}=${encodeURIComponent(n)}`})).join("&"),Zf=(e,t)=>{const{firstPartyData:n,isSliding:r=!1,isSticky:i=!1,isTakeover:o=!1,mcmNetworkId:a,monetizationId:c,platform:u,reportingModuleName:d,sellerId:l,slot:f,spotId:p}=t;return{[`${e}1`]:p,[`${e}2`]:u??"",[`${e}3`]:d,[`${e}4`]:s.config.pageViewId??"",[`${e}5`]:c??"",[`${e}6`]:so(),[`${e}7`]:Vo(f),[`${e}8`]:`sliding:${r};sticky:${i};takeover:${o}`,[`${e}9`]:a??"",[`${e}10`]:yt.version,[`${e}11`]:oo()??"",[`${e}12`]:ao()??"",[`${e}13`]:"boolean"==typeof n?.ir?`${n.ir}`:"",[`${e}14`]:l,[`${e}15`]:yt.adsAssetType,[`${e}16`]:dt()}};var Xf=e=>{const{sellerId:t,isCookieConsentObservedByAniview:n,reportingModuleName:r,externalCustomParams:i=""}=e;let o={};try{o=JSON.parse(i)}catch(e){At(!0,"Failed to parse external custom params",e,"\nProduct:",r)}const a=Zf("AV_CDIM",e),s={...o,...a,...n?{AV_DNTCHECK:"1"}:{AV_DNTCHECK:"0"},AV_SCHAIN:Jf(t)};return St(!0,"Aniview custom params",s,"\nProduct:",r),Kf(s)};const ep=xt("tenant_config.ads.aniview_content_bidders",{}),tp=xt("tenant_config.ads.aniview_ad_video_complete_event_enabled",!1),np=Object.keys(ep);var rp=pl(c.Qy.Aniview)((e=>{let{spotId:t,adUnitId:n,tag:r,adWidth:o,adHeight:a,show:s,campaignId:u}=e;const[d,f]=_u(),p=`${n}-aniview`,v=(0,i.useRef)(null),m=(0,i.useRef)(null),{regenerateAdCallId:_}=(0,i.useContext)(hd),{trackEvent:g}=mr({engine_vendor_name:c.Qy.Aniview,engine_tag_id:r?.id,campaign_id:u,variant:r.variant}),{trackMovingAdEvent:y}=gu("video_takeover"),{adsConfig:E,firstPartyData:C,reportingModuleName:x,envelopeId:k,slot:O,isGDPRCountry:I,isSlidingEnabled:P,isStickyEnabled:N,isTakeoverEnabled:R}=d.context,D=rr(I);Vu((async()=>{const e=ja(O);g(e);const n=(e=>{let{code:t,reportingModuleName:n}=e;try{const e=JSON.parse(t);return St(!0,"Aniview parsed settings",e,"\nProduct:",n),e}catch(e){const t=ho(e);At(!0,"Aniview parse settings error",t,"\nProduct:",n),((e,t)=>{let{product:n}=t;Jn({metric:l,error:Jt(e,l),tags:{[S]:Yo(),[A]:n}})})(t,{product:n})}})({code:r?.code,reportingModuleName:x});if(!n){f(Tc);return void g({engine_status:"engine-initialize-error"})}const{ref1:i}=n,o=v.current,a=m.current,s=Xf({firstPartyData:C,reportingModuleName:x,slot:O,spotId:t,mcmNetworkId:E.spot.mcm_network_id,monetizationId:E.monetization_id,platform:E.platform,sellerId:E.spot.seller_id,isCookieConsentObservedByAniview:D,isSliding:P,isSticky:N,isTakeover:R,externalCustomParams:i}),u={positionDiv:o},d=[k&&{source:"liveramp.com",id:k}].filter(Boolean),I={openRtb:Qf(d)},T={...n,...u,...I,position:p,ref1:s,logo:!1,...D?{waitforconsent:!0}:{}};let M;St(!0,"Aniview config",T,"\nProduct:",x);try{M=await jo((()=>(async e=>{const{publisherId:t,channelId:n}=e,r=(e=>`https://player.aniview.com/script/6.1/player.js?v=1&type=s&pid=${e}`)(t);((e,t)=>{(new Image).src=`https://track1.aniview.com/track?pid=${e}&cid=${t}&e=playerLoaded&cb=${Date.now()}&r=${ct()}`})(t,n);try{return await Co(c.Qy.Aniview,{url:r,target:document.head,areMultipleScriptsPrevented:!1}),new window.avPlayer(e)}catch(e){throw new Error("Failed to load Aniview player")}})(T)),3,2e3)}catch(e){const t=ho(e);At(!0,"Aniview script fetching failed",t,"\nProduct:",x),(e=>{Jn({metric:h,error:Jt(e,h)})})(t)}if(M)return M.on("InventoryRequest",(()=>{_(c.Qy.Aniview)})),M.on("Inventory",(()=>{g({engine_status:"ad-inventory-video"})})),M.on("AdImpression",(e=>{f(Mc),(e=>{let{dataSource:t,product:n}=e;Kn({metric:"aniview-impression",tags:{[b]:Ho(),[w]:t,[S]:Yo(),[A]:n}})})({dataSource:E.dataSource,product:x});if(g({engine_status:"engine-impression"}),R&&y(_r),!T.preloader?.link||!e)return;const{tagInfo:t}=e;if(!np.includes(t.bidder))return;const n=ep[t.bidder];let r=!1;if(kd(n))r=n;else{const e=n?.["advertiser-ids"];Array.isArray(e)&&(r=e.includes(t.papi.aid))}r&&M?.resumeContent()})),M.on("AdViewableImpression",(()=>{(e=>{let{product:t}=e;Kn({metric:"aniview-impression-viewable",tags:{[b]:Ho(),[S]:Yo(),[A]:t}})})({product:x});g({engine_status:"impression-viewable"})})),M.on("AdClickThru",(()=>{g({engine_status:"ad-clickthrough-video"})})),M.on("ContentImpression",(()=>{g({engine_status:"content-impression"})})),M.on("ContentClick",(()=>{g({engine_status:"content-clicked"})})),M.on("AdVideoComplete",(()=>{if(tp){g({engine_status:"content-completed"}),f(Dc)}})),M.on("ContentComplete",(()=>{if(!tp){g({engine_status:"content-completed"}),f(Dc)}})),M.on("AdClosed",(()=>{f(Rc),R&&y("end");g({engine_status:"engine-closed"})})),M.on("AdError",(e=>{if(e&&"errorlimit"in e&&e.errorlimit){if("errorlimit"===e?.reason){St(!0,"Aniview no ad error limit",e,"\nProduct:",x),Kn({metric:"aniview-no-ad-error-limit"});return g({engine_status:"engine-error"}),void f(Tc)}f(Dc);g({engine_status:"engine-done"})}})),(T.startOnView||T.floating)&&M.startTemplate(a),T.startOnView||M.play(),()=>M?.close()}),[]);const T=r?.size?.width===c.PH;return i.default.createElement("div",{ref:m,style:{width:"100%",height:"100%",...R&&{display:"flex",backgroundColor:"#000000"}}},i.default.createElement(Gf,{ref:v,id:p,isHidden:!s,width:T?void 0:o,height:a}))})),ip=async(e,t)=>{const{configOverrideCallbackName:n}=e;or(c.Qy.AniviewAC)&&await nr();try{!function(e){const{configOverrideCallbackName:t,playerInitCallbackName:n,script:r}=e,i=function(e){return e.replace(/['"]{2}/g,'"')}(r),o=/(\w+)=["']([^"']+)["']/g,a=document.createElement("script");let s;for(;null!==(s=o.exec(i));)a.setAttribute(s[1],s[2]);a.setAttribute("data-config-api",t),a.setAttribute("data-player-api",n),document.body.appendChild(a)}(e),((e,t,n)=>{window[t]=t=>{e.config&&Object.assign(t,e.config),t&&t.adConfig&&(t.adConfig.ref1=(e=>{const{reportingModuleName:t}=e;try{const n=Xf(e);return St(!0,"AniviewAC custom params",n,"\nProduct:",t),n}catch(e){return At(!0,"Failed to build AniviewAC custom params",e,"\nProduct:",t),""}})(n))}})(e,n,t)}catch(e){throw new Error("Failed to load AniviewAC player")}},op=pl(c.Qy.AniviewAC)((e=>{let{spotId:t,adUnitId:n,tag:r,campaignId:o}=e;const[a,s]=_u(),{regenerateAdCallId:u}=(0,i.useContext)(hd),{trackEvent:d}=mr({engine_vendor_name:c.Qy.AniviewAC,engine_tag_id:r?.id,campaign_id:o,variant:r.variant}),{adsConfig:f,firstPartyData:p,reportingModuleName:v,slot:m,isGDPRCountry:_,isSlidingEnabled:g,isStickyEnabled:y,isTakeoverEnabled:E}=a.context;return Vu((async()=>{const e=ja(m);d(e);const i=(e=>{let{code:t,reportingModuleName:n}=e;try{const e=JSON.parse(t);return St(!0,"AniviewAC parsed settings",e,"\nProduct:",n),e}catch(e){const t=ho(e);At(!0,"AniviewAC parse settings error",t,"\nProduct:",n),((e,t)=>{let{product:n}=t;Jn({metric:l,error:Jt(e,l),tags:{[S]:Yo(),[A]:n}})})(t,{product:n})}})({code:r?.code,reportingModuleName:v});if(!i){s(Tc);return void d({engine_status:"engine-initialize-error"})}const o=rr(_),{config:{ref1:a}={}}=i,C={firstPartyData:p,reportingModuleName:v,slot:m,spotId:t,mcmNetworkId:f.spot.mcm_network_id,monetizationId:f.monetization_id,platform:f.platform,sellerId:f.spot.seller_id,isCookieConsentObservedByAniview:o,isSliding:g,isSticky:y,isTakeover:E,externalCustomParams:a},x=i;x.configOverrideCallbackName=`configOverrideCallback_${n}`,x.playerInitCallbackName=`playerInitCallback_${n}`,St(!0,"AniviewAC config",x,"\nProduct:",v);try{await ip(x,C)}catch(e){const t=ho(e);At(!0,"AnivewAC script fetching failed",t,"\nProduct:",v),(e=>{Jn({metric:h,error:Jt(e,h)})})(t)}window[x.playerInitCallbackName]=(e,t)=>{t.on("AdImpression",(()=>{(e=>{let{dataSource:t,product:n}=e;Kn({metric:"aniview-ac-impression",tags:{[b]:Ho(),[w]:t,[S]:Yo(),[A]:n}})})({dataSource:f.dataSource,product:v});d({engine_status:"engine-impression"})})),t.on("AdViewableImpression",(()=>{(e=>{let{product:t}=e;Kn({metric:"aniview-ac-impression-viewable",tags:{[b]:Ho(),[S]:Yo(),[A]:t}})})({product:v});d({engine_status:"impression-viewable"})})),t.on("AdClickThru",(()=>{d({engine_status:"ad-clickthrough-video"})})),t.on("AdError",(function(e){if(e&&"errorlimit"in e&&e.errorlimit){if("errorlimit"===e?.reason){St(!0,"AniviewAC no ad error limit",e,"\nProduct:",v),Kn({metric:"aniview-ac-no-ad-error-limit"});return d({engine_status:"engine-error"}),void s(Tc)}s(Dc);d({engine_status:"engine-done"})}})),t.on("Inventory",(function(){d({engine_status:"ad-inventory-video"})})),t.on("InventoryRequest",(function(){u(c.Qy.AniviewAC)}))}}),[]),i.default.createElement("div",null)}));const ap=(e,t)=>window.addEventListener(e,t),sp=(e,t)=>window.removeEventListener(e,t);const cp={browsiPlayer:{display:"flex",alignItems:"center"}};var up=pl(c.Qy.Browsi)((e=>{let{adWidth:t,adHeight:n,show:r,tag:o}=e;const[a,s]=_u(),u=(0,i.useRef)(null),{adsConfig:d,slot:l,campaign:f,spotId:p,reportingModuleName:h,isSlidingEnabled:v,isStickyEnabled:m,isTakeoverEnabled:_,firstPartyData:g}=a.context,{trackEvent:y}=(0,vr.rS)({engine_vendor_name:c.Qy.Browsi,engine_tag_id:o?.id,campaign_id:f?.id,variant:o.variant});return(e=>{let{trackEvent:t}=e;const[n,r]=_u(),{reportingModuleName:o}=n.context,{regenerateAdCallId:a}=(0,i.useContext)(hd),s=(0,i.useCallback)((()=>{St(!0,"Browsi player closed","\nProduct:",o),r(Rc),t({engine_status:"engine-closed"})}),[o,r,t]),u=(0,i.useCallback)((()=>{St(!0,"Browsi player no ad","\nProduct:",o),r(Tc),t({engine_status:"engine-error"})}),[o,r,t]),d=(0,i.useCallback)((()=>{St(!0,"Browsi player viewable impression","\nProduct:",o),t({engine_status:"impression-viewable"})}),[o,t]),l=(0,i.useCallback)((()=>{St(!0,"Browsi player ad clicked","\nProduct:",o),t({engine_status:"ad-clickthrough-video"})}),[o,t]),f=(0,i.useCallback)((()=>{St(!0,"Browsi player ad completed","\nProduct:",o),r(Dc),t({engine_status:"engine-done"})}),[o,r,t]),p=(0,i.useCallback)((()=>{St(!0,"Browsi player inventory request","\nProduct:",o),t({engine_status:"ad-inventory-video"}),a(c.Qy.Browsi)}),[a,o,t]),h=(0,i.useCallback)((()=>{r(Mc),St(!0,"Browsi player ad impression","\nProduct:",o),t({engine_status:"engine-impression"})}),[o,r,t]);(0,i.useEffect)((()=>(ap(c.tW.AdClick,l),ap(c.tW.AdCompleted,f),ap(c.tW.AdImpression,h),ap(c.tW.Inventory,p),ap(c.tW.NoAd,u),ap(c.tW.PlayerClosed,s),ap(c.tW.ViewableImpression,d),()=>{sp(c.tW.AdClick,l),sp(c.tW.AdCompleted,f),sp(c.tW.AdImpression,h),sp(c.tW.Inventory,p),sp(c.tW.NoAd,u),sp(c.tW.PlayerClosed,s),sp(c.tW.ViewableImpression,d)})),[f,h,p,u,s,l,d])})({trackEvent:y}),Vu((async()=>{y(ja(l));const e=(e=>{let{code:t,reportingModuleName:n}=e;try{const e=JSON.parse(t);return St(!0,"Browsi settings",e,"\nProduct:",n),e}catch(e){const t=ho(e);At(!0,"Browsi settings parsing failed",t,"\nProduct:",n)}})({code:o.code,reportingModuleName:h});if(!e)return s(Tc),void y({engine_status:"engine-initialize-error"});const t=(e=>{const{reportingModuleName:t}=e,n=Zf("Custom",e);return St(!0,"Browsi custom params",n,"\nProduct:",t),Kf(n)})({firstPartyData:g,reportingModuleName:h,slot:l,spotId:p,isSliding:v,isSticky:m,isTakeover:_,mcmNetworkId:d.spot.mcm_network_id,monetizationId:d.monetization_id,platform:d.platform,sellerId:d.spot.seller_id});let n;const r=u.current,i={customParams:t,...e};try{n=await jo((()=>(async e=>{let{tagId:t,customParams:n}=e;const r=(e=>{let{tagId:t,customParams:n}=e;return`https://cdn5.browsiprod.com/avm/js/video-loader.js?id=3e535150-3d67-4c18-923a-c0b480078c0f&tagId=${t}&${n}`})({tagId:t,customParams:n});try{return await Co(c.Qy.Browsi,{url:r,async:!0,attributes:{id:"browsiJS"}}),window.brw=window.brw||{que:[]}}catch(e){throw new Error("Failed to load Browsi player")}})(i)),3,2e3)}catch(e){const t=ho(e);At(!0,"Browsi script fetching failed",t,"\nProduct:",h)}if(!n||!r)return void At(!0,"Browsi player initialization failed","\nProduct:",h,"\nPlayer:",n,"\nContainer:",r);const a=n;a.que.push((()=>{a.init({positionDiv:r})}))}),[]),i.default.createElement(Gf,{ref:u,isHidden:!r,width:t,height:n,disableAnimation:!0,style:cp.browsiPlayer})})),dp=e=>{let{children:t}=e;const[n]=_u(),{isTakeoverEnabled:r,takeoverSize:o,isStickyDesktopRunning:a}=n.context;return i.default.createElement(i.default.Fragment,null,Fo(el,r,{isStickyDesktopRunning:a,takeoverSize:o??{width:0,height:0}})(t))},lp=e=>{let{tag:t,adWidth:n,adHeight:r}=e;const[o]=_u(),{adsConfig:a,adUnitId:s,spotId:u}=o.context,{id:d}=a.campaign,l=o.matches("video"),f=t.type.toLowerCase(),[p,h,v]=[c.Qy.Aniview,c.Qy.Browsi,c.Qy.AniviewAC].map(eo(f)),m=p&&!v,_=h&&!v;return i.default.createElement(i.default.Fragment,null,m&&i.default.createElement(rp,{tag:t,adWidth:n,adHeight:r,adUnitId:s,show:l,spotId:u,campaignId:d}),_&&i.default.createElement(up,{tag:t,adWidth:n,adHeight:r,show:l}),v&&i.default.createElement(op,{spotId:u,tag:t,adUnitId:s,campaignId:d}))};const fp=(e=>e?{outerContainer:{},outerContainerShown:{}}:{outerContainer:{display:"flex",flexDirection:"row",justifyContent:"center",minWidth:"300px"},outerContainerShown:{minWidth:"303px"}})(Ye),pp=xt(P,!1)&&xt(I,!1),hp={position:"absolute",top:0,height:0,opacity:0,overflow:"hidden"},vp=e=>{let{show:t,width:n,height:r}=e;return t?{height:r}:{...hp,width:n}};var mp=e=>{let{adWidth:t,adHeight:n}=e;const[r]=_u(),[o,a]=(0,i.useState)(null),[s,u]=(0,i.useState)(!1),{adsConfig:d,adUnitId:l,campaign:f,center:p,displayAdSize:h,isSlidingEnabled:v,isStickyDesktopRunning:m,isTakeoverEnabled:_,reportingModuleName:g,spotId:y,takeoverSize:b,userGroups:w}=r.context,S=jl(r,f),{id:A,passback:E,video:C}=d.campaign,x=C.type.toLowerCase(),k=$c(r,["dbv","loader","video"]),O=_&&!m?s:k,{width:I}=b??{},P=_&&I?`${I}px`:t;if((0,i.useEffect)((()=>{St(!0,"Video player",x),er(l,Be.Vq.ContainerWidth,(e=>{let{width:t}=e;return a(t?`${t}px`:null)}))}),[]),(0,i.useEffect)((()=>{if(!k){const e=setTimeout((()=>u(k)),c.xs);return()=>clearTimeout(e)}u(k)}),[k]),!o)return null;const N=r.matches("passback"),R=r.matches("video"),D=R||N,T=(e=>{let{adHeight:t,showVideo:n,reportingModuleName:r,displayAdSize:i,isSlidingEnabled:o}=e;const a="auto"===t,s=pp&&!n&&c.d_.includes(r),[,u]=i??[];return a?"auto":`${parseInt([{height:c.pd,cond:s},{height:t,cond:n},{height:u,cond:Boolean(u)}].find(eo(!0,"cond"))?.height??c.Iw)+(o?0:Tl())}px`})({adHeight:n,showVideo:R,reportingModuleName:g,displayAdSize:h,isSlidingEnabled:v});return i.default.createElement("div",{"ow-ad-unit-video":!0,style:{...fp.outerContainer,...R?fp.outerContainerShown:{},...vp({height:T,show:D,width:o})}},i.default.createElement(dl,{height:"100%",width:"100%",isCentered:p,overflow:_?"visible":"hidden"},O&&i.default.createElement(dp,null,i.default.createElement(lp,{tag:C,adWidth:t,adHeight:n}),!v&&i.default.createElement(Ml,{width:P})),N&&E&&i.default.createElement(wl,{adUnitId:l,adWidth:S,campaignId:A,mcmNetworkId:d.spot.mcm_network_id,spotId:y,tag:E,userGeo:d.geo,userGroups:w})))},_p=e=>{let{hostOnDimensionsChange:t,hostOnVideoDone:n,hostOnVideoPlaying:r}=e;const[o]=_u(),{adsConfig:a,adUnitId:s,reportingModuleName:u,skipVideo:d}=o.context;(0,ea.cO)((e=>{At(!0,"Ad unit video runtime error",e,"\nProduct:",u),((e,t)=>{let{product:n}=t;Jn({metric:g,error:Jt(e,g),tags:{[b]:Ho(),[A]:n}})})(e,{product:u})}));const l=uf(Be.KM.Balanced);if($c(o,["adUnitDisabled","allAdsDone"]))return tr(t,s,0,0),null;if(d&&!o.matches("passback"))return null;const{video:f}=a.campaign,{width:p,height:h}=f.size,v=p===c.PH;return l?i.default.createElement(mp,{adWidth:v?"100%":p,adHeight:v?"auto":h,hostOnVideoPlaying:r,hostOnVideoDone:n}):null},gp=e=>{let{adIndex:t,children:n,slot:r}=e;const[o]=_u(),{adCallIds:a}=(0,i.useContext)(hd),s=t?(t+1).toString():void 0,c=s?r?.column?.toString():void 0,{campaign:u,reportingModuleName:d}=o.context,{Track:l}=mr({ad_call_ids:a,campaign_id:u?.id,native:s,page_view_id:Xt(),post_id:kt(),segment:c,source:d,source_version:yt.version,spot_id:Ot(),test_field:dr().getAllExperiments(),type:"engine_status"},{dispatch:fr});return i.default.createElement(l,null,n)},yp=n(710);var bp=(e,t,n)=>{const r=wp(),o=(()=>{const[e,t]=(0,i.useState)(null);return(0,i.useEffect)((()=>{const e=window.navigator;if(e.connection){t(e.connection.effectiveType);const n=()=>{t(e.connection.effectiveType)};return e.connection.addEventListener("change",n),()=>{e.connection.removeEventListener("change",n)}}St(!0,"Connection speed is not supported")}),[]),e})(),a=(()=>{const[e,t]=(0,i.useState)(null);return(0,i.useEffect)((()=>{const e=window.navigator;e.deviceMemory?t(e.deviceMemory):St(!0,"Device memory is not supported")}),[]),e})(),[s,c]=(0,i.useState)(!1);let u=0;u=(e=>e.campaign?.lazy_load_type===yp.Z.Advanced)(t)?kp((e=>{const t=e.campaign?.lazy_load_margin_range;return"number"!=typeof t?.from||"number"!=typeof t?.to?{from:0,to:0}:t})(t),t.campaign?.lazy_load_trigger,r,o,a)||0:(e=>{const t=e.campaign?.lazy_load_margin;return t||0})(t);const d={threshold:[.01],rootMargin:`${u}px`,...n},l=(e=>{const t=Boolean(e.campaign?.lazy_load_enabled);var n;return n=e.campaign?.lazy_load_type,[yp.Z.Standard,yp.Z.Advanced].some((e=>e===n))||t})(t);return{isIntersecting:s,lazyLoadRef:(0,i.useCallback)((t=>{if(null!==t){if(!l||!Oa)return void c(!0);St(!0,"Lazy Load Enabled",{moduleName:e,rootMargin:u});const n=new IntersectionObserver((r=>{let[i]=r;i.isIntersecting&&t&&(c(i.isIntersecting),St(!0,"Lazy Load Triggered",{moduleName:e,target:t,rootMargin:u}),n?.unobserve(t))}),d);return t&&n.observe(t),()=>{t&&n?.unobserve(t)}}}),[])}},wp=()=>{const[e,t]=(0,i.useState)(0);let n=window.top?.scrollY||0,r=Date.now();const o=Ad((()=>{const e=window.top?.scrollY||0,i=Date.now(),o=i-r,a=Math.abs(e-n);t(a/o),n=e,r=i}),100);return(0,i.useEffect)((()=>(window.top?.addEventListener("scroll",o),()=>{window.top?.removeEventListener("scroll",o),o.cancel()})),[o]),e};let Sp=function(e){return e.ScrollingSpeed="scrolling_speed",e.InternetConnection="internet_connection",e.DeviceMemory="device_memory",e}({});const{max_scrolling_speed:Ap,max_device_memory:Ep,max_internet_connection_speed:Cp,internet_connection_speed_map:xp}=(()=>{const{max_scrolling_speed:e=$t.max_scrolling_speed,max_device_memory:t=$t.max_device_memory,max_internet_connection_speed:n=$t.max_internet_connection_speed,internet_connection_speed_map:r=$t.internet_connection_speed_map}=xt("tenant_config.ads.lazy_load",$t);return{max_scrolling_speed:e,max_device_memory:t,max_internet_connection_speed:n,internet_connection_speed_map:r}})();var kp=(e,t,n,r,i)=>{let o=0;if(!e||!t?.length)return 0;const{from:a,to:s}=e,c=s-a;return o=s,t.forEach((e=>{if(e===Sp.ScrollingSpeed&&(o-=n/Ap*c,St(!0,`Scroll speed is ${n}, lazy load margin: ${o}`)),e===Sp.InternetConnection){const e=xp[r||Cp]||0;o-=e/100*c,St(!0,`Connection speed is ${e}, lazy load margin: ${o}`)}e===Sp.DeviceMemory&&(o-=(i||0)/Ep*c,St(!0,`Device memory is ${i}, lazy load margin: ${o}`))})),o=Math.max(a,Math.min(s,o)),St(!0,`Final lazy load margin: ${o}`),o},Op=e=>{let{children:t}=e;const[n]=_u(),{adsConfig:r,compact:o,isStickyEnabled:a,moduleName:s,adUnitId:c,reportingModuleName:u}=n.context,{isIntersecting:d,lazyLoadRef:l}=bp(s,r);return i.default.createElement("div",{"data-mini-ad-unit":!0,"ow-ad-unit-root":!0,"ow-ad-unit-id":c,"ow-ad-unit-type":u,ref:l,style:{width:a&&!o?"100%":"auto"}},d?t:null)},Ip=e=>{let{children:t,context:n}=e;return i.default.createElement(hu,{machine:Gc.withContext(n)},t)},Pp=function(e){return e.Dark="spotim-dark",e.Light="spotim-light",e}(Pp||{});const Np=["data-theme"];var Rp=e=>{let{children:t}=e;const[n]=_u(),{target:r}=n.context,{"data-theme":o}=((e,t)=>{const[n,r]=(0,i.useState)({}),o=(0,i.useCallback)((n=>{n.forEach((n=>{if("attributes"===n.type){const i=n.attributeName;i&&t.includes(i)&&r((t=>({...t,[i]:e.getAttribute(i)})))}}))}),[t,e]),a=(0,i.useMemo)((()=>({attributes:!0,attributeOldValue:!0})),[]);return yd(e,o,a),n})(r,Np),a=xt(C.InpageSkin,c.b3.Light),s=(o??a)===c.b3.Dark?Pp.Dark:Pp.Light;return i.default.createElement("div",{className:s},t)};const Dp=(e=>({outerContainer:{minWidth:e?void 0:"300px"}}))(Ye);var Tp=e=>{let{tag:t,mainTagResponsive:n}=e;const[r]=_u(),{center:o,compact:a,userGroups:s,adUnitId:u,spotId:d,adsConfig:l,reportingModuleName:f}=r.context,p=t?.size?.height??c.Iw,h=n?"auto":a?c.pd:p;return(0,ea.cO)((e=>{At(!0,"Ad unit display runtime error",e,"\nProduct:",f),Qo(e,{product:f})})),r.matches("loader")?i.default.createElement(dl,{height:h,width:"auto",isCentered:o},i.default.createElement(bl,{adHeight:c.fY,adWidth:c.w_})):i.default.createElement("div",{style:{...Dp.outerContainer,height:h}},i.default.createElement(dl,{height:h,width:"auto",isCentered:o},i.default.createElement(_l,{tag:t,width:t?.size.width,height:t?.size.height,position:"relative"},t?.code&&i.default.createElement(vl,{tag:t,spotId:d,size:t.size,adType:c.t6.DisplayBeforeVideo,adUnitId:u,userGroups:s,mcmNetworkId:l.spot.mcm_network_id,campaignId:l.campaign?.id,userGeo:l.geo}))))},Mp=e=>{let{tag:t,selectedCampaign:n,isNativeAd:r=!1}=e;const o=((e,t)=>{if(e){const{height:e}=t.size;return{width:"100%",height:e}}return{width:t.size.width,height:t.size.height}})(r,t),a=((e,t,n)=>e?((e,t)=>e.includes(t)?e:t+e)(n,function(){return`\n    <style>\n      div div, div iframe { height: ${arguments.length>0&&void 0!==arguments[0]?arguments[0]:"200px"} !important; }\n    </style>\n    `.trim()}(t)):n)(r,t.size.height,t.code),[s]=_u(),{userGroups:u,adUnitId:d,center:l,spotId:f,adsConfig:p,reportingModuleName:h}=s.context;return(0,ea.cO)((e=>{At(!0,"Ad unit display runtime error",e,"\nProduct:",h),Qo(e,{product:h})})),i.default.createElement(i.Fragment,null,i.default.createElement(dl,{height:o.height,width:"auto",isCentered:l},i.default.createElement(_l,{tag:t,position:"relative",height:o.height,width:o.width,isNativeAd:r},i.default.createElement(vl,{campaign:n,tag:{...t,code:a},size:o,adType:c.t6.Default,adUnitId:d,spotId:f,userGroups:u,mcmNetworkId:p.spot.mcm_network_id,campaignId:p.campaign?.id,userGeo:p.geo}))))};const jp=Sa(Ye),Up=e=>{switch(e.type){case Be.mL.Video:return e.video.size.width===c.PH;case Be.mL.Display:return e.display.size.width===c.PH}},$p=e=>{if(e.type!==Be.mL.Display)return!1;const{width:t,height:n}=e.display.size;return t===c.PH&&null!=n},Bp=(e,t)=>{Xn(e,Be.Vq.ContainerWidth,{width:t})},Vp=e=>{let{onDimensionsChange:t,onNoAdAvailable:n,onVideoPlaying:r,onVideoDone:o,onTagUpdated:a,adIndex:s,slot:u}=e;const[d,l]=(0,i.useState)({[c.Qy.Dfp]:Eo(),[c.Qy.Aniview]:Eo(),[c.Qy.Browsi]:Eo(),[c.Qy.AniviewAC]:Eo()}),[f,p]=(0,i.useState)({}),h=(0,i.useRef)(null),[v,m]=_u(),{adUnitId:_,adsConfig:g,campaign:y,disableAdForProduct:C,isAdUnitsOverlapDetected:x,isOptedOut:k,isSlidingEnabled:O,isTakeoverEnabled:I,moduleName:P,reportingModuleName:N,spotId:R}=v.context,D=(0,i.useCallback)((e=>l((t=>({...t,[e]:Eo()})))),[]);(()=>{const[e,t]=_u(),{adUnitId:n}=e.context,r=(0,i.useCallback)((e=>{const{eventType:n}=e,r={[c.BE.AdUnitsOverlap]:()=>t(Pc)}[n];r&&r()}),[t]);(0,i.useEffect)((()=>{const e=((e,t)=>(0,Ge.subscribe)(c.Fl.AdUnitsManagerEvent,(n=>{n.adUnitId===e&&t(n)})))(n,r);return e}),[n,r])})(),((e,t)=>{const[n]=_u(),{adUnitId:r}=n.context,o=(0,i.useRef)(!1),a=(0,i.useCallback)((e=>o.current||e!==md.InView?o.current&&[md.OutOfViewBottom,md.OutOfViewTop].some(eo(e))?(Zn({adUnitId:r,adUnitElement:t,eventType:c.LY.AdUnitOutOfView}),void(o.current=!1)):void 0:(Zn({adUnitId:r,adUnitElement:t,eventType:c.LY.AdUnitInView}),void(o.current=!0))),[t,r]);_d({intersectionObserverOptions:{threshold:.01},isEnabled:e,target:t,callback:a})})(!x,h.current),(0,ea.cO)((e=>{At(!0,"Ad unit base runtime error",e,"\nProduct:",N),Qo(e,{product:N})}));const T=y?.id,M=g.spot.features[P],j=$c(v,["adUnitDisabled","allAdsDone"]),U=()=>{!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>{};Xn(arguments.length>1?arguments[1]:void 0,Be.Vq.OnNoAdAvailable),e()}(n,_),B(0,0)};(0,i.useEffect)((()=>{St(!0,"Ad unit campaign",y,"\nProduct:",N),Zn({adUnitId:_,eventType:c.LY.AdUnitReady}),(e=>{const t=window.__SPOTIM_DISABLE_ADS__;window.__SPOTIM_DISABLE_ADS__=n=>{e(),ma(n??!0);try{t(n)}catch(e){}}})((()=>{St(!0,"Ad unit disabled by global function","\nProduct:",N),m({type:Ic}),U(),yr({reportingModuleName:N,campaignId:T}),Kn({metric:"ad-unit-disabled-by-global-function",options:{isDisposable:!0}})}));const e=da(N,T),t=la({campaignId:T,reportingModuleName:N,isCampaignMissed:!y,isDisabledByFeaturesConfig:!M?.enabled,isDisabledByHtmlAttribute:C,isDisabledByIsOptedOutFlag:k});if(e||t||j)return j||m({type:Ic}),void U();(e=>{let{dataSource:t,product:n}=e;Kn({metric:"ad-unit-rendered",tags:{[b]:Ho(),[w]:t,[S]:Yo(),[A]:n,[E]:Go()}})})({dataSource:g.dataSource,product:N}),(e=>{let{dataSource:t}=e;Kn({metric:"monetized-page-view",options:{isDisposable:!0},tags:{[b]:Ho(),[w]:t,[E]:Go()}})})({dataSource:g.dataSource}),(e=>{let{monetizationId:t,reportingModuleName:n,campaignId:r,userGroups:i=[],slot:o}=e;const a=hr({...o,engine_status:"engine-monetization-load",target_id:t,user_segments:i},n,r);fr(a)})({reportingModuleName:N,slot:u,campaignId:T,monetizationId:g.monetization_id,userGroups:g.user_groups}),er(_,Be.Vq.OnStylingChange,p),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>{};Xn(arguments.length>1?arguments[1]:void 0,Be.Vq.OnTagUpdated),e()}(a,_),((e,t)=>!!(e=>Boolean(e.moat_enabled))(e)&&Wf(e,t))(M,c._p.Widget)&&((e,t)=>{const n=jf,r=Lo(),i=document.createElement("script");i.src=`https://z.moatads.com/spotimdisplay705463185058/moatad.js#moatClientLevel1=${e}&moatClientLevel2=${n}&moatClientLevel3=${r}&moatClientLevel4=Geo&moatClientSlicer1=${t}`,i.async=!0,document.body.appendChild(i)})(R,N)}),[]);const $=jl(v,y),B=Ad(((e,n)=>tr(t,_,e,n)),100),V=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];const o=(0,i.useRef)(null);return(0,i.useCallback)((r=>{if(null!==o.current&&(o.current.disconnect(),o.current=null),!e||null==r)return;const i=new ResizeObserver(t);i.observe(r,n),o.current=i}),r)}(!j,(e=>{const{width:t,height:n}=e[0].contentRect;B(t,n)})),L=(0,i.useCallback)((e=>{if(null===e)return;const t=e.getBoundingClientRect().width;t?Bp(_,t):((e,t)=>{const n=new ResizeObserver((e=>{n.disconnect(),t(e)}));n.observe(e)})(e,(e=>{Bp(_,e[0].contentRect.width)}))}),[]);if(j||!y)return null;const z=$c(v,["initial","dbv","fixedDisplayAd","loader"])&&y.video?.type.toLocaleLowerCase()!==c.Qy.AniviewAC,F=y.type===Be.mL.Video;return i.default.createElement(hd.Provider,{value:{adCallIds:d,regenerateAdCallId:D}},i.default.createElement(gp,{adIndex:s,slot:u},i.default.createElement(Rp,null,i.default.createElement(sl,null,i.default.createElement("div",{style:Ye?jp.outerWrapper:{},ref:L},i.default.createElement("div",{style:f,ref:V},i.default.createElement("div",{id:"spotim-specific"},i.default.createElement("div",{"ow-ad-unit-wrapper":!0,ref:h,style:{...jp.adWrapper,...I?jp.takeover:{}}},z&&i.default.createElement(i.default.Fragment,null,F?i.default.createElement(Tp,{tag:y.displayBeforeVideo,mainTagResponsive:Up(y)}):i.default.createElement(Mp,{tag:y.display,isNativeAd:$p(y),selectedCampaign:y}),!O&&i.default.createElement(Ml,{width:$})),F&&i.default.createElement(_p,{hostOnDimensionsChange:t,hostOnVideoPlaying:r,hostOnVideoDone:o})))))))))};var Lp=()=>i.default.createElement("div",{style:{height:"50px",width:"50px"}}),zp=e=>{let{adsConfig:t}=e;const{data:n,spot:r}=t;(()=>{const{handleAdUnitInView:e,handleAdUnitOutOfView:t}=Hl(),n=ia(),r=(0,i.useCallback)((r=>{const{eventType:i}=r,o={[c.LY.AdUnitInView]:e,[c.LY.AdUnitOutOfView]:t,[c.LY.AdUnitReady]:n}[i];o&&o(r)}),[e,t,n]);(0,i.useEffect)((()=>{var e;return e=r,(0,Ge.subscribe)(c.Fl.AdUnitEvent,e)}),[r])})();const a=(0,i.useCallback)((e=>{let{context:t,props:n,target:r,setReactRoot:a}=e;const s=o(r);a&&a(s),s.render(i.default.createElement(Ip,{context:t},i.default.createElement(Op,null,i.default.createElement(Vp,n))))}),[]),s=(0,i.useCallback)((e=>{let{target:t}=e;o(t).render(i.default.createElement(Lp,null))}),[]);return(e=>{let{adsConfigData:t,renderAdUnit:n,renderAdUnitPlaceholder:r}=e;const[o,a]=(0,i.useState)(!1),s=Gl({adsConfigData:t,renderAdUnit:n,renderAdUnitPlaceholder:r}),c=Yl({adsConfigData:t,renderAdUnit:n,renderAdUnitPlaceholder:r});(0,i.useEffect)((()=>{(e=>{window.__OPEN_WEB__=window.__OPEN_WEB__||{},window.__OPEN_WEB__.renderAdUnit=(t,n,r,i)=>{if(!Tt().is_enabled||n!==Be.NR.Conversation)return e({target:t,moduleName:n,slot:r,options:i})}})(s),(e=>{window.__OPEN_WEB__=window.__OPEN_WEB__||{},window.__OPEN_WEB__.renderMultipleAdSlots=e})(c),a(!0)}),[s,c]),(0,i.useEffect)((()=>{(0,Ge.dispatch)(Be.Lw.AdOpsConfigReady)}),[o])})({adsConfigData:n,renderAdUnit:a,renderAdUnitPlaceholder:s}),(e=>{let{adsConfigData:t,spotConfig:n}=e;const{hb_code:r,hb_code_enabled:o,hb_code_per_ad_unit_enabled:a,hb_code_provider:s}=n,c=t.flatMap((e=>Object.values(e).flatMap((e=>e.campaigns??[])))),u=o&&!a&&c.length>0&&r;(0,i.useEffect)((()=>{u&&((e,t)=>{const n=Tr(e,t);St(!0,`Render ${e} HB Code:`,n),Nr(n,document.head)})(s,r)}),[r,u,s])})({adsConfigData:n,spotConfig:r}),(e=>{let{adsConfigData:t,renderAdUnit:n,renderAdUnitPlaceholder:r}=e;const o=Gl({adsConfigData:t,renderAdUnit:n,renderAdUnitPlaceholder:r});(0,i.useEffect)((()=>{const e=Object.keys(nf);rf&&e.length?e.map((e=>ef(o,e))):ef(o)}),[o])})({adsConfigData:n,renderAdUnit:a,renderAdUnitPlaceholder:s}),of({adsConfigData:n,renderAdUnit:a,renderAdUnitPlaceholder:s}),(e=>{let{adsConfigData:t,spotConfig:n,renderAdUnit:r,renderAdUnitPlaceholder:o}=e;const a=(()=>{const{is_enabled:e=jt.is_enabled,frequency:t=jt.frequency,max_count:n=jt.max_count}=xt("tenant_config.ads.in_comment",jt);return{is_enabled:e,frequency:t,max_count:n}})(),s=n?.features?.[Be.NR.InComment],u=Gl({adsConfigData:t,renderAdUnit:r,renderAdUnitPlaceholder:o}),d=Boolean(a.is_enabled&&s?.enabled),l=a?.frequency??s?.ads_frequency??5,f=t.some((e=>e[Be.NR.InComment]?.campaigns?.length>0)),p=f&&d&&!customElements.get(c.aU.OWAdsConversationComment);(0,i.useEffect)((()=>{p&&Au(u,l,a.max_count)}),[u,p,l,a.max_count])})({adsConfigData:n,spotConfig:r,renderAdUnit:a,renderAdUnitPlaceholder:s}),(e=>{let{adsConfigData:t,spotConfig:n,renderAdUnit:r,renderAdUnitPlaceholder:o}=e;const a=(()=>{const{is_enabled:e=Ut.is_enabled}=xt("tenant_config.ads.in_comment_add_on",Ut);return{is_enabled:e}})(),s=n?.features?.[Be.NR.InCommentAddOn],u=Gl({adsConfigData:t,renderAdUnit:r,renderAdUnitPlaceholder:o}),d=(0,i.useMemo)((()=>{const e=t.find((e=>e[Be.NR.InCommentAddOn]?.campaigns?.length>0));return e?.[Be.NR.InCommentAddOn]?.campaigns??[]}),[t]),l=Boolean(a.is_enabled&&s?.enabled),f=d?.length>0&&l&&!customElements.get(c.aU.OWAdsConversationCommentList);(0,i.useEffect)((()=>{f&&Iu(u,d)}),[u,f,d])})({adsConfigData:n,spotConfig:r,renderAdUnit:a,renderAdUnitPlaceholder:s}),(e=>{let{adsConfigData:t,spotConfig:n,renderAdUnit:r,renderAdUnitPlaceholder:o}=e;const a=Tt(),s=n?.features?.[Be.NR.Conversation],u=Gl({adsConfigData:t,renderAdUnit:r,renderAdUnitPlaceholder:o}),d=Boolean(a.is_enabled&&s?.enabled),l=t.some((e=>e[Be.NR.Conversation]?.campaigns?.length>0)),f=l&&d&&!customElements.get(c.aU.OWAdsConversation);(0,i.useEffect)((()=>{f&&cf(u)}),[u,f])})({adsConfigData:n,spotConfig:r,renderAdUnit:a,renderAdUnitPlaceholder:s}),ql(),(()=>{const e=(0,i.useCallback)((e=>{(e=>{const{data:t}=e,n=t.type===c.YZ.DisplayAdError,r=t.error instanceof SyntaxError;n&&r&&t.isGoogleDfpScript&&qo(t.error)})(e)}),[]);(0,i.useEffect)((()=>(window.addEventListener("message",e),()=>{window.removeEventListener("message",e)})),[e])})(),i.default.createElement(i.default.Fragment,null)},Fp=e=>{let{singleGWConfig:t}=e;const n=kf(t),r=uf(Be.KM.LowImpact),o=(e=>{const[t,n]=(0,i.useState)(!1);return(0,i.useEffect)((()=>{if(!e)return;const{ats:t}=e.thirdPartyData;Mf(t),n(!0)}),[e]),t})(n),a=n&&r&&o;return(0,ea.cO)((e=>{At(!0,"Bootstrapper runtime error",e),Ko(e)})),a?i.default.createElement(zp,{adsConfig:n}):null},Wp=e=>{try{if(yt.nodeEnv.isTest)return;const{adsAssetType:t,version:n}=yt,r=t===c.F0.Ads;if(r){if(r&&s.flags.isAdsAssetRunning)return void St(!0,"Ads asset is already running");s.flags.isAdsAssetRunning=!0}const a=t===c.F0.AdsIndependent;if(a){if(a&&s.flags.isAdsIndependentAssetRunning)return void St(!0,"Ads-independent asset is already running");s.flags.isAdsIndependentAssetRunning=!0}St(!0,"Ads asset data",t,n),Kn({metric:"ads-script-started",tags:{"ab-test-irrelevant-variant":Wo(),browser:yt.browser.type,[S]:Yo(),platform:yt.platform,[E]:Go()}}),o(new DocumentFragment).render(i.default.createElement(i.default.StrictMode,null,i.default.createElement(Fp,{singleGWConfig:e})))}catch(e){const t=ho(e);At(!0,"Bootstrap runtime error",t),Ko(t)}}},414:function(e,t,n){"use strict";n.d(t,{d$:function(){return J},$b:function(){return R},LY:function(){return y},BE:function(){return g},F0:function(){return i},W3:function(){return b},tW:function(){return w},Tb:function(){return oe},aN:function(){return f},aU:function(){return S},IJ:function(){return x},yq:function(){return k},un:function(){return Q},w_:function(){return ee},_o:function(){return O},o2:function(){return v},t6:function(){return o},CQ:function(){return c},rc:function(){return K},CT:function(){return E},Ix:function(){return B},E2:function(){return M},B5:function(){return T},QU:function(){return X},N7:function(){return Z},YZ:function(){return m},$V:function(){return C},Fl:function(){return _},ru:function(){return q},fY:function(){return te},Zv:function(){return z},oG:function(){return V},jA:function(){return U},_p:function(){return u},K9:function(){return p},bd:function(){return D},lh:function(){return ie},YM:function(){return j},PH:function(){return I},Qx:function(){return a},ks:function(){return L},T6:function(){return F},ly:function(){return W},I8:function(){return H},OF:function(){return Y},nx:function(){return G},v2:function(){return P},d_:function(){return N},sg:function(){return h},BU:function(){return d},Qy:function(){return s},b3:function(){return A},Rc:function(){return l},pd:function(){return ne},Iw:function(){return re},xs:function(){return $}});var r=n(890),i={Ads:"ads",AdsIndependent:"ads-independent"},o={Default:"default",DisplayBeforeVideo:"displayBeforeVideo",Passback:"passback"},a={Dbv:"dbv",Passback:"passback"},s={Dfp:"dfp",Aniview:"aniview",Browsi:"browsi",AniviewAC:"aniview_ac"},c={Development:"development",Production:"production",Staging:"staging",Test:"test"},u={Widget:"widget",Player:"player"},d={AdsConfigCached:"OW_ADS_CONFIG_CACHED",AdsConfigCacheExpirationTimeout:"OW_ADS_CONFIG_CACHE_EXPIRATION_TIMEOUT",AdsConfigCacheVersion:"OW_ADS_CONFIG_CACHE_VERSION",AdUnitDebugApi:"OPENWEB_AD_UNIT_DEBUG_API",AdUnitVerboseLogging:"OPENWEB_AD_UNIT_VERBOSE_LOGGING",OverrideAdsConfig:"OW_OVERRIDE_ADS_CONFIG",SpotimDebugApi:"SPOTIM_DEBUG_API",PerformanceMeasurement:"OW_ADS_PERFORMANCE_MEASUREMENT"},l={BotBypassDisabled:"botBypassDisabled",OpenWebAdsDebug:"openWebAdsDebug",OpenWebAdsVerboseLogging:"openWebAdsVerboseLogging",OverrideAdsConfig:"overrideAdsConfig",PerformanceMeasurement:"ow-ads-performance-measurement",Platform:"platform",SessionId:"session_id"},f={ConversationDefaultArea:"[data-spot-im-module-default-area=conversation]",ConversationSpecificArea:'[data-spotim-module="conversation"]:not([data-spotim-not-for-self-bootstrapping])',DefaultAreas:"[data-spotim-default-areas]"},p={Normal:"normal",DisableUgc:"disableUgc",Compact:"compact"},h={SlideInDown:"stickyDesktopSlideInDown",SlideInvisiblyDown:"stickyDesktopSlideInvisiblyDown",SlideInUp:"stickyDesktopSlideInUp"},v={Cache:"Cache",Network:"Network"},m={DisplayAdError:"DisplayAdError"},_={AdUnitsManagerEvent:"AD_UNITS_MANAGER_EVENT",AdUnitEvent:"AD_UNIT_EVENT"},g={AdUnitsOverlap:"adUnitsOverlap"},y={AdUnitInView:"adUnitInView",AdUnitOutOfView:"adUnitOutOfView",AdUnitReady:"adUnitReady"},b={CSS:"text/css",JS:"text/javascript"};let w=function(e){return e.AdClick="brw_click",e.AdCompleted="brw_AdCompleted",e.AdImpression="brw_Impression",e.Inventory="brw_Inventory",e.NoAd="brw_noAd",e.PlayerClosed="brw_playerClosed",e.ViewableImpression="brw_Vimp",e}({}),S=function(e){return e.OWAdsConversation="ow-ads_conversation",e.OWAdsConversationComment="ow-ads_conversation_comment",e.OWAdsConversationCommentList="ow-ads_conversation_comment-list",e}({});var A={Light:"light",Dark:"dark"},E={Adtelligent:"adtelligent",Custom:"custom",Meow:"meow",Rise:"rise"},C={FixedAbove:"fixed_above",FixedBelow:"fixed_below",EmptyAbove:"empty_above",EmptyBelow:"empty_below"};const x={row:1,column:1},k="no_post",O={row:2,column:1},I="Responsive",P={version:"1.0",complete:"1",asi:"spotim.market",hp:"1"},N=[r.NR.Pitc],R=(r.NR.InComment,"ad content"),D={homepage:"pitc_hp",article:"pitc_ap",gallery:"pitc_gp",search:"pitc_sp",video:"pitc_vp"},T={homepage:"independent_ad_hp"},M="div[data-openweb-ad]",j="product-header-placeholder",U=700,$=400,B=24,V=60,L=60,z=1e3,F=[h.SlideInDown,h.SlideInvisiblyDown,h.SlideInUp],W=.2,H=.2,Y=(H+W).toFixed(2),G=.5,q="googletag.pubads",Q=500,J="https://prod-ow-ads-mocks.s3.amazonaws.com/owa-gw",K=["AT","BE","BG","HR","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SK","SI","ES","SE","GB"],Z={[C.FixedAbove]:{row:1,column:1},[C.FixedBelow]:{row:1,column:2},[C.EmptyAbove]:{row:1,column:3},[C.EmptyBelow]:{row:1,column:3}},X={"row1-column1":"Fixed Above Comments","row1-column2":"Fixed Below Comments","row1-column3":"Empty State Ad"},ee="300px",te="250px",ne="255px",re="280px",ie="55px",oe="30px"},710:function(e,t,n){"use strict";n.d(t,{Z:function(){return i},m:function(){return r}});var r={Video:"video",Display:"display"},i={Advanced:"advanced",Off:"off",Standard:"standard"}},890:function(e,t,n){"use strict";n.d(t,{ev:function(){return i},mL:function(){return r.m},Nm:function(){return o},bH:function(){return d},KM:function(){return u},Lw:function(){return c},Vq:function(){return s},t4:function(){return a},xs:function(){return l},NR:function(){return f},p9:function(){return p}});var r=n(710),i={Above:"above",Below:"below",Left:"left",Right:"right",Inside:"inside"},o={Above:"directionAbove",Below:"directionBelow",Left:"directionLeft",Right:"directionRight"},a={Mobile:"Mobile",Desktop:"Desktop",Tablet:"Tablet",Phone:"Phone"},s={ContainerWidth:"containerWidth",InnerAdContainer:"innerAdContainer",OnDimensionsChange:"onDimensionsChange",OnHeaderSet:"onHeaderSet",OnNoAdAvailable:"onNoAdAvailable",OnStylingChange:"onStylingChange",OnTagUpdated:"onTagUpdated",OuterAdContainer:"outerAdContainer"},c={AdsReady:"ads-ready",AdOpsConfigReady:"ad-ops-config-ready",ProductsToLoad:"products-to-load"},u={Aggressive:"aggressive",Balanced:"balanced",LowImpact:"low_impact"},d={Scroll:"scroll",Time:"time"},l={Pitc:"pitc",PitcDoubleDecker:"pitc-double-decker",Reactions:"reactions",Spotlight:"spotlight",TopicTracker:"topic-tracker"},f={Conversation:"conversation",InComment:"in_comment",InCommentAddOn:"in_comment_add_on",IndependentAd:"independent_ad",IndependentAdHP:"independent_ad_hp",Pitc:"recirculation",Reactions:"reactions",Spotlight:"conversation_header",TopicTracker:"topic_tracker"},p={Conversation:"conversation",ConversationHeader:"conversation_header",ConversationHeaderSiderail:"conversation_header_siderail",InComment:"in_comment",InCommentAddOn:"in_comment_add_on",IndependentAd:"independent_ad",IndependentAdHP:"independent_ad_hp",Pitc:"pitc",PitcDD:"pitc_dd",Reactions:"reactions",SideRail:"side_rail",TopicTracker:"topic_tracker",TopicTrackerSiderail:"topic_tracker_siderail"}},184:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)){if(n.length){var a=i.apply(null,n);a&&e.push(a)}}else if("object"===o){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var s in n)r.call(n,s)&&n[s]&&e.push(s)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},996:function(e){"use strict";var t=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===n}(e)}(e)},n="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function r(e,t){return!1!==t.clone&&t.isMergeableObject(e)?s((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function i(e,t,n){return e.concat(t).map((function(e){return r(e,n)}))}function o(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return Object.propertyIsEnumerable.call(e,t)})):[]}(e))}function a(e,t){try{return t in e}catch(e){return!1}}function s(e,n,c){(c=c||{}).arrayMerge=c.arrayMerge||i,c.isMergeableObject=c.isMergeableObject||t,c.cloneUnlessOtherwiseSpecified=r;var u=Array.isArray(n);return u===Array.isArray(e)?u?c.arrayMerge(e,n,c):function(e,t,n){var i={};return n.isMergeableObject(e)&&o(e).forEach((function(t){i[t]=r(e[t],n)})),o(t).forEach((function(o){(function(e,t){return a(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,o)||(a(e,o)&&n.isMergeableObject(t[o])?i[o]=function(e,t){if(!t.customMerge)return s;var n=t.customMerge(e);return"function"==typeof n?n:s}(o,n)(e[o],t[o],n):i[o]=r(t[o],n))})),i}(e,n,c):r(n,c)}s.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return s(e,n,t)}),{})};var c=s;e.exports=c},679:function(e,t,n){"use strict";var r=n(864),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function c(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var u=Object.defineProperty,d=Object.getOwnPropertyNames,l=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(h){var i=p(n);i&&i!==h&&e(t,i,r)}var a=d(n);l&&(a=a.concat(l(n)));for(var s=c(t),v=c(n),m=0;m<a.length;++m){var _=a[m];if(!(o[_]||r&&r[_]||v&&v[_]||s&&s[_])){var g=f(n,_);try{u(t,_,g)}catch(e){}}}}return t}},661:function(e,t,n){"use strict";n.r(t),n.d(t,{Children:function(){return h},Component:function(){return r.wA},Fragment:function(){return r.HY},PureComponent:function(){return c},StrictMode:function(){return ee},Suspense:function(){return y},SuspenseList:function(){return S},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:function(){return W},cloneElement:function(){return Q},createContext:function(){return r.kr},createElement:function(){return r.az},createFactory:function(){return Y},createPortal:function(){return x},createRef:function(){return r.Vf},default:function(){return se},findDOMNode:function(){return K},flushSync:function(){return X},forwardRef:function(){return f},hydrate:function(){return T},isElement:function(){return oe},isFragment:function(){return q},isValidElement:function(){return G},lazy:function(){return w},memo:function(){return u},render:function(){return D},startTransition:function(){return te},unmountComponentAtNode:function(){return J},unstable_batchedUpdates:function(){return Z},useCallback:function(){return i.I4},useContext:function(){return i.qp},useDebugValue:function(){return i.Qb},useDeferredValue:function(){return ne},useEffect:function(){return i.d4},useErrorBoundary:function(){return i.cO},useId:function(){return i.Me},useImperativeHandle:function(){return i.aP},useInsertionEffect:function(){return ie},useLayoutEffect:function(){return i.bt},useMemo:function(){return i.Ye},useReducer:function(){return i._Y},useRef:function(){return i.sO},useState:function(){return i.eJ},useSyncExternalStore:function(){return ae},useTransition:function(){return re},version:function(){return H}});var r=n(400),i=n(396);function o(e,t){for(var n in t)e[n]=t[n];return e}function a(e,t){for(var n in e)if("__source"!==n&&!(n in t))return!0;for(var r in t)if("__source"!==r&&e[r]!==t[r])return!0;return!1}function s(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t}function c(e){this.props=e}function u(e,t){function n(e){var n=this.props.ref,r=n==e.ref;return!r&&n&&(n.call?n(null):n.current=null),t?!t(this.props,e)||!r:a(this.props,e)}function i(t){return this.shouldComponentUpdate=n,(0,r.az)(e,t)}return i.displayName="Memo("+(e.displayName||e.name)+")",i.prototype.isReactComponent=!0,i.__f=!0,i}(c.prototype=new r.wA).isPureReactComponent=!0,c.prototype.shouldComponentUpdate=function(e,t){return a(this.props,e)||a(this.state,t)};var d=r.YM.__b;r.YM.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),d&&d(e)};var l="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function f(e){function t(t){var n=o({},t);return delete n.ref,e(n,t.ref||null)}return t.$$typeof=l,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t}var p=function(e,t){return null==e?null:(0,r.bR)((0,r.bR)(e).map(t))},h={map:p,forEach:p,count:function(e){return e?(0,r.bR)(e).length:0},only:function(e){var t=(0,r.bR)(e);if(1!==t.length)throw"Children.only";return t[0]},toArray:r.bR},v=r.YM.__e;r.YM.__e=function(e,t,n,r){if(e.then)for(var i,o=t;o=o.__;)if((i=o.__c)&&i.__c)return null==t.__e&&(t.__e=n.__e,t.__k=n.__k),i.__c(e,t);v(e,t,n,r)};var m=r.YM.unmount;function _(e,t,n){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach((function(e){"function"==typeof e.__c&&e.__c()})),e.__c.__H=null),null!=(e=o({},e)).__c&&(e.__c.__P===n&&(e.__c.__P=t),e.__c=null),e.__k=e.__k&&e.__k.map((function(e){return _(e,t,n)}))),e}function g(e,t,n){return e&&(e.__v=null,e.__k=e.__k&&e.__k.map((function(e){return g(e,t,n)})),e.__c&&e.__c.__P===t&&(e.__e&&n.insertBefore(e.__e,e.__d),e.__c.__e=!0,e.__c.__P=n)),e}function y(){this.__u=0,this.t=null,this.__b=null}function b(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function w(e){var t,n,i;function o(o){if(t||(t=e()).then((function(e){n=e.default||e}),(function(e){i=e})),i)throw i;if(!n)throw t;return(0,r.az)(n,o)}return o.displayName="Lazy",o.__f=!0,o}function S(){this.u=null,this.o=null}r.YM.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&!0===e.__h&&(e.type=null),m&&m(e)},(y.prototype=new r.wA).__c=function(e,t){var n=t.__c,r=this;null==r.t&&(r.t=[]),r.t.push(n);var i=b(r.__v),o=!1,a=function(){o||(o=!0,n.__R=null,i?i(s):s())};n.__R=a;var s=function(){if(! --r.__u){if(r.state.__a){var e=r.state.__a;r.__v.__k[0]=g(e,e.__c.__P,e.__c.__O)}var t;for(r.setState({__a:r.__b=null});t=r.t.pop();)t.forceUpdate()}},c=!0===t.__h;r.__u++||c||r.setState({__a:r.__b=r.__v.__k[0]}),e.then(a,a)},y.prototype.componentWillUnmount=function(){this.t=[]},y.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),i=this.__v.__k[0].__c;this.__v.__k[0]=_(this.__b,n,i.__O=i.__P)}this.__b=null}var o=t.__a&&(0,r.az)(r.HY,null,e.fallback);return o&&(o.__h=null),[(0,r.az)(r.HY,null,t.__a?null:e.children),o]};var A=function(e,t,n){if(++n[1]===n[0]&&e.o.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.o.size))for(n=e.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.u=n=n[2]}};function E(e){return this.getChildContext=function(){return e.context},e.children}function C(e){var t=this,n=e.i;t.componentWillUnmount=function(){(0,r.sY)(null,t.l),t.l=null,t.i=null},t.i&&t.i!==n&&t.componentWillUnmount(),t.l||(t.i=n,t.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(e){this.childNodes.push(e),t.i.appendChild(e)},insertBefore:function(e,n){this.childNodes.push(e),t.i.appendChild(e)},removeChild:function(e){this.childNodes.splice(this.childNodes.indexOf(e)>>>1,1),t.i.removeChild(e)}}),(0,r.sY)((0,r.az)(E,{context:t.context},e.__v),t.l)}function x(e,t){var n=(0,r.az)(C,{__v:e,i:t});return n.containerInfo=t,n}(S.prototype=new r.wA).__a=function(e){var t=this,n=b(t.__v),r=t.o.get(e);return r[0]++,function(i){var o=function(){t.props.revealOrder?(r.push(i),A(t,e,r)):i()};n?n(o):o()}},S.prototype.render=function(e){this.u=null,this.o=new Map;var t=(0,r.bR)(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var n=t.length;n--;)this.o.set(t[n],this.u=[1,0,this.u]);return e.children},S.prototype.componentDidUpdate=S.prototype.componentDidMount=function(){var e=this;this.o.forEach((function(t,n){A(e,n,t)}))};var k="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,O=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,I=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,P=/[A-Z0-9]/g,N="undefined"!=typeof document,R=function(e){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/:/fil|che|ra/).test(e)};function D(e,t,n){return null==t.__k&&(t.textContent=""),(0,r.sY)(e,t),"function"==typeof n&&n(),e?e.__c:null}function T(e,t,n){return(0,r.ZB)(e,t),"function"==typeof n&&n(),e?e.__c:null}r.wA.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach((function(e){Object.defineProperty(r.wA.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})}));var M=r.YM.event;function j(){}function U(){return this.cancelBubble}function $(){return this.defaultPrevented}r.YM.event=function(e){return M&&(e=M(e)),e.persist=j,e.isPropagationStopped=U,e.isDefaultPrevented=$,e.nativeEvent=e};var B,V={enumerable:!1,configurable:!0,get:function(){return this.class}},L=r.YM.vnode;r.YM.vnode=function(e){"string"==typeof e.type&&function(e){var t=e.props,n=e.type,i={};for(var o in t){var a=t[o];if(!("value"===o&&"defaultValue"in t&&null==a||N&&"children"===o&&"noscript"===n||"class"===o||"className"===o)){var s=o.toLowerCase();"defaultValue"===o&&"value"in t&&null==t.value?o="value":"download"===o&&!0===a?a="":"ondoubleclick"===s?o="ondblclick":"onchange"!==s||"input"!==n&&"textarea"!==n||R(t.type)?"onfocus"===s?o="onfocusin":"onblur"===s?o="onfocusout":I.test(o)?o=s:-1===n.indexOf("-")&&O.test(o)?o=o.replace(P,"-$&").toLowerCase():null===a&&(a=void 0):s=o="oninput","oninput"===s&&i[o=s]&&(o="oninputCapture"),i[o]=a}}"select"==n&&i.multiple&&Array.isArray(i.value)&&(i.value=(0,r.bR)(t.children).forEach((function(e){e.props.selected=-1!=i.value.indexOf(e.props.value)}))),"select"==n&&null!=i.defaultValue&&(i.value=(0,r.bR)(t.children).forEach((function(e){e.props.selected=i.multiple?-1!=i.defaultValue.indexOf(e.props.value):i.defaultValue==e.props.value}))),t.class&&!t.className?(i.class=t.class,Object.defineProperty(i,"className",V)):(t.className&&!t.class||t.class&&t.className)&&(i.class=i.className=t.className),e.props=i}(e),e.$$typeof=k,L&&L(e)};var z=r.YM.__r;r.YM.__r=function(e){z&&z(e),B=e.__c};var F=r.YM.diffed;r.YM.diffed=function(e){F&&F(e);var t=e.props,n=e.__e;null!=n&&"textarea"===e.type&&"value"in t&&t.value!==n.value&&(n.value=null==t.value?"":t.value),B=null};var W={ReactCurrentDispatcher:{current:{readContext:function(e){return B.__n[e.__c].props.value}}}},H="17.0.2";function Y(e){return r.az.bind(null,e)}function G(e){return!!e&&e.$$typeof===k}function q(e){return G(e)&&e.type===r.HY}function Q(e){return G(e)?r.Tm.apply(null,arguments):e}function J(e){return!!e.__k&&((0,r.sY)(null,e),!0)}function K(e){return e&&(e.base||1===e.nodeType&&e)||null}var Z=function(e,t){return e(t)},X=function(e,t){return e(t)},ee=r.HY;function te(e){e()}function ne(e){return e}function re(){return[!1,te]}var ie=i.bt,oe=G;function ae(e,t){var n=t(),r=(0,i.eJ)({h:{__:n,v:t}}),o=r[0].h,a=r[1];return(0,i.bt)((function(){o.__=n,o.v=t,s(o.__,t())||a({h:o})}),[e,n,t]),(0,i.d4)((function(){return s(o.__,o.v())||a({h:o}),e((function(){s(o.__,o.v())||a({h:o})}))}),[e]),n}var se={useState:i.eJ,useId:i.Me,useReducer:i._Y,useEffect:i.d4,useLayoutEffect:i.bt,useInsertionEffect:ie,useTransition:re,useDeferredValue:ne,useSyncExternalStore:ae,startTransition:te,useRef:i.sO,useImperativeHandle:i.aP,useMemo:i.Ye,useCallback:i.I4,useContext:i.qp,useDebugValue:i.Qb,version:"17.0.2",Children:h,render:D,hydrate:T,unmountComponentAtNode:J,createPortal:x,createElement:r.az,createContext:r.kr,createFactory:Y,cloneElement:Q,createRef:r.Vf,Fragment:r.HY,isValidElement:G,isElement:oe,isFragment:q,findDOMNode:K,Component:r.wA,PureComponent:c,memo:u,forwardRef:f,flushSync:X,unstable_batchedUpdates:Z,StrictMode:ee,Suspense:y,SuspenseList:S,lazy:w,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:W}},400:function(e,t,n){"use strict";n.d(t,{HY:function(){return b},Tm:function(){return F},Vf:function(){return y},YM:function(){return i},ZB:function(){return z},az:function(){return _},bR:function(){return O},kr:function(){return W},sY:function(){return L},wA:function(){return w}});var r,i,o,a,s,c,u,d,l={},f=[],p=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,h=Array.isArray;function v(e,t){for(var n in t)e[n]=t[n];return e}function m(e){var t=e.parentNode;t&&t.removeChild(e)}function _(e,t,n){var i,o,a,s={};for(a in t)"key"==a?i=t[a]:"ref"==a?o=t[a]:s[a]=t[a];if(arguments.length>2&&(s.children=arguments.length>3?r.call(arguments,2):n),"function"==typeof e&&null!=e.defaultProps)for(a in e.defaultProps)void 0===s[a]&&(s[a]=e.defaultProps[a]);return g(e,s,i,o,null)}function g(e,t,n,r,a){var s={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==a?++o:a};return null==a&&null!=i.vnode&&i.vnode(s),s}function y(){return{current:null}}function b(e){return e.children}function w(e,t){this.props=e,this.context=t}function S(e,t){if(null==t)return e.__?S(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?S(e):null}function A(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return A(e)}}function E(e){(!e.__d&&(e.__d=!0)&&a.push(e)&&!C.__r++||s!==i.debounceRendering)&&((s=i.debounceRendering)||c)(C)}function C(){var e,t,n,r,i,o,s,c,d;for(a.sort(u);e=a.shift();)e.__d&&(t=a.length,r=void 0,i=void 0,o=void 0,c=(s=(n=e).__v).__e,(d=n.__P)&&(r=[],i=[],(o=v({},s)).__v=s.__v+1,M(d,s,o,n.__n,void 0!==d.ownerSVGElement,null!=s.__h?[c]:null,r,null==c?S(s):c,s.__h,i),j(r,s,i),s.__e!=c&&A(s)),a.length>t&&a.sort(u));C.__r=0}function x(e,t,n,r,i,o,a,s,c,u,d){var p,v,m,_,y,w,A,E,C,x=0,O=r&&r.__k||f,N=O.length,R=N,D=t.length;for(n.__k=[],p=0;p<D;p++)null!=(_=n.__k[p]=null==(_=t[p])||"boolean"==typeof _||"function"==typeof _?null:"string"==typeof _||"number"==typeof _||"bigint"==typeof _?g(null,_,null,null,_):h(_)?g(b,{children:_},null,null,null):_.__b>0?g(_.type,_.props,_.key,_.ref?_.ref:null,_.__v):_)?(_.__=n,_.__b=n.__b+1,-1===(E=P(_,O,A=p+x,R))?m=l:(m=O[E]||l,O[E]=void 0,R--),M(e,_,m,i,o,a,s,c,u,d),y=_.__e,(v=_.ref)&&m.ref!=v&&(m.ref&&$(m.ref,null,_),d.push(v,_.__c||y,_)),null!=y&&(null==w&&(w=y),(C=m===l||null===m.__v)?-1==E&&x--:E!==A&&(E===A+1?x++:E>A?R>D-A?x+=E-A:x--:x=E<A&&E==A-1?E-A:0),A=p+x,"function"!=typeof _.type||E===A&&m.__k!==_.__k?"function"==typeof _.type||E===A&&!C?void 0!==_.__d?(c=_.__d,_.__d=void 0):c=y.nextSibling:c=I(e,y,c):c=k(_,c,e),"function"==typeof n.type&&(n.__d=c))):(m=O[p])&&null==m.key&&m.__e&&(m.__e==c&&(c=S(m)),B(m,m,!1),O[p]=null);for(n.__e=w,p=N;p--;)null!=O[p]&&("function"==typeof n.type&&null!=O[p].__e&&O[p].__e==n.__d&&(n.__d=O[p].__e.nextSibling),B(O[p],O[p]))}function k(e,t,n){for(var r,i=e.__k,o=0;i&&o<i.length;o++)(r=i[o])&&(r.__=e,t="function"==typeof r.type?k(r,t,n):I(n,r.__e,t));return t}function O(e,t){return t=t||[],null==e||"boolean"==typeof e||(h(e)?e.some((function(e){O(e,t)})):t.push(e)),t}function I(e,t,n){return null==n||n.parentNode!==e?e.insertBefore(t,null):t==n&&null!=t.parentNode||e.insertBefore(t,n),t.nextSibling}function P(e,t,n,r){var i=e.key,o=e.type,a=n-1,s=n+1,c=t[n];if(null===c||c&&i==c.key&&o===c.type)return n;if(r>(null!=c?1:0))for(;a>=0||s<t.length;){if(a>=0){if((c=t[a])&&i==c.key&&o===c.type)return a;a--}if(s<t.length){if((c=t[s])&&i==c.key&&o===c.type)return s;s++}}return-1}function N(e,t,n){"-"===t[0]?e.setProperty(t,null==n?"":n):e[t]=null==n?"":"number"!=typeof n||p.test(t)?n:n+"px"}function R(e,t,n,r,i){var o;e:if("style"===t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof r&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||N(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||N(e.style,t,n[t])}else if("o"===t[0]&&"n"===t[1])o=t!==(t=t.replace(/(PointerCapture)$|Capture$/,"$1")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+o]=n,n?r||e.addEventListener(t,o?T:D,o):e.removeEventListener(t,o?T:D,o);else if("dangerouslySetInnerHTML"!==t){if(i)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!==t&&"height"!==t&&"href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&"rowSpan"!==t&&"colSpan"!==t&&t in e)try{e[t]=null==n?"":n;break e}catch(e){}"function"==typeof n||(null==n||!1===n&&"-"!==t[4]?e.removeAttribute(t):e.setAttribute(t,n))}}function D(e){return this.l[e.type+!1](i.event?i.event(e):e)}function T(e){return this.l[e.type+!0](i.event?i.event(e):e)}function M(e,t,n,r,o,a,s,c,u,d){var l,f,p,m,_,g,y,S,A,E,C,k,O,I,P,N=t.type;if(void 0!==t.constructor)return null;null!=n.__h&&(u=n.__h,c=t.__e=n.__e,t.__h=null,a=[c]),(l=i.__b)&&l(t);e:if("function"==typeof N)try{if(S=t.props,A=(l=N.contextType)&&r[l.__c],E=l?A?A.props.value:l.__:r,n.__c?y=(f=t.__c=n.__c).__=f.__E:("prototype"in N&&N.prototype.render?t.__c=f=new N(S,E):(t.__c=f=new w(S,E),f.constructor=N,f.render=V),A&&A.sub(f),f.props=S,f.state||(f.state={}),f.context=E,f.__n=r,p=f.__d=!0,f.__h=[],f._sb=[]),null==f.__s&&(f.__s=f.state),null!=N.getDerivedStateFromProps&&(f.__s==f.state&&(f.__s=v({},f.__s)),v(f.__s,N.getDerivedStateFromProps(S,f.__s))),m=f.props,_=f.state,f.__v=t,p)null==N.getDerivedStateFromProps&&null!=f.componentWillMount&&f.componentWillMount(),null!=f.componentDidMount&&f.__h.push(f.componentDidMount);else{if(null==N.getDerivedStateFromProps&&S!==m&&null!=f.componentWillReceiveProps&&f.componentWillReceiveProps(S,E),!f.__e&&(null!=f.shouldComponentUpdate&&!1===f.shouldComponentUpdate(S,f.__s,E)||t.__v===n.__v)){for(t.__v!==n.__v&&(f.props=S,f.state=f.__s,f.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.forEach((function(e){e&&(e.__=t)})),C=0;C<f._sb.length;C++)f.__h.push(f._sb[C]);f._sb=[],f.__h.length&&s.push(f);break e}null!=f.componentWillUpdate&&f.componentWillUpdate(S,f.__s,E),null!=f.componentDidUpdate&&f.__h.push((function(){f.componentDidUpdate(m,_,g)}))}if(f.context=E,f.props=S,f.__P=e,f.__e=!1,k=i.__r,O=0,"prototype"in N&&N.prototype.render){for(f.state=f.__s,f.__d=!1,k&&k(t),l=f.render(f.props,f.state,f.context),I=0;I<f._sb.length;I++)f.__h.push(f._sb[I]);f._sb=[]}else do{f.__d=!1,k&&k(t),l=f.render(f.props,f.state,f.context),f.state=f.__s}while(f.__d&&++O<25);f.state=f.__s,null!=f.getChildContext&&(r=v(v({},r),f.getChildContext())),p||null==f.getSnapshotBeforeUpdate||(g=f.getSnapshotBeforeUpdate(m,_)),x(e,h(P=null!=l&&l.type===b&&null==l.key?l.props.children:l)?P:[P],t,n,r,o,a,s,c,u,d),f.base=t.__e,t.__h=null,f.__h.length&&s.push(f),y&&(f.__E=f.__=null)}catch(e){t.__v=null,(u||null!=a)&&(t.__e=c,t.__h=!!u,a[a.indexOf(c)]=null),i.__e(e,t,n)}else null==a&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=U(n.__e,t,n,r,o,a,s,u,d);(l=i.diffed)&&l(t)}function j(e,t,n){for(var r=0;r<n.length;r++)$(n[r],n[++r],n[++r]);i.__c&&i.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){i.__e(e,t.__v)}}))}function U(e,t,n,i,o,a,s,c,u){var d,f,p,v=n.props,_=t.props,g=t.type,y=0;if("svg"===g&&(o=!0),null!=a)for(;y<a.length;y++)if((d=a[y])&&"setAttribute"in d==!!g&&(g?d.localName===g:3===d.nodeType)){e=d,a[y]=null;break}if(null==e){if(null===g)return document.createTextNode(_);e=o?document.createElementNS("http://www.w3.org/2000/svg",g):document.createElement(g,_.is&&_),a=null,c=!1}if(null===g)v===_||c&&e.data===_||(e.data=_);else{if(a=a&&r.call(e.childNodes),f=(v=n.props||l).dangerouslySetInnerHTML,p=_.dangerouslySetInnerHTML,!c){if(null!=a)for(v={},y=0;y<e.attributes.length;y++)v[e.attributes[y].name]=e.attributes[y].value;(p||f)&&(p&&(f&&p.__html==f.__html||p.__html===e.innerHTML)||(e.innerHTML=p&&p.__html||""))}if(function(e,t,n,r,i){var o;for(o in n)"children"===o||"key"===o||o in t||R(e,o,null,n[o],r);for(o in t)i&&"function"!=typeof t[o]||"children"===o||"key"===o||"value"===o||"checked"===o||n[o]===t[o]||R(e,o,t[o],n[o],r)}(e,_,v,o,c),p)t.__k=[];else if(x(e,h(y=t.props.children)?y:[y],t,n,i,o&&"foreignObject"!==g,a,s,a?a[0]:n.__k&&S(n,0),c,u),null!=a)for(y=a.length;y--;)null!=a[y]&&m(a[y]);c||("value"in _&&void 0!==(y=_.value)&&(y!==e.value||"progress"===g&&!y||"option"===g&&y!==v.value)&&R(e,"value",y,v.value,!1),"checked"in _&&void 0!==(y=_.checked)&&y!==e.checked&&R(e,"checked",y,v.checked,!1))}return e}function $(e,t,n){try{"function"==typeof e?e(t):e.current=t}catch(e){i.__e(e,n)}}function B(e,t,n){var r,o;if(i.unmount&&i.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||$(r,null,t)),null!=(r=e.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(e){i.__e(e,t)}r.base=r.__P=null,e.__c=void 0}if(r=e.__k)for(o=0;o<r.length;o++)r[o]&&B(r[o],t,n||"function"!=typeof e.type);n||null==e.__e||m(e.__e),e.__=e.__e=e.__d=void 0}function V(e,t,n){return this.constructor(e,n)}function L(e,t,n){var o,a,s,c;i.__&&i.__(e,t),a=(o="function"==typeof n)?null:n&&n.__k||t.__k,s=[],c=[],M(t,e=(!o&&n||t).__k=_(b,null,[e]),a||l,l,void 0!==t.ownerSVGElement,!o&&n?[n]:a?null:t.firstChild?r.call(t.childNodes):null,s,!o&&n?n:a?a.__e:t.firstChild,o,c),j(s,e,c)}function z(e,t){L(e,t,z)}function F(e,t,n){var i,o,a,s,c=v({},e.props);for(a in e.type&&e.type.defaultProps&&(s=e.type.defaultProps),t)"key"==a?i=t[a]:"ref"==a?o=t[a]:c[a]=void 0===t[a]&&void 0!==s?s[a]:t[a];return arguments.length>2&&(c.children=arguments.length>3?r.call(arguments,2):n),g(e.type,c,i||e.key,o||e.ref,null)}function W(e,t){var n={__c:t="__cC"+d++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var n,r;return this.getChildContext||(n=[],(r={})[t]=this,this.getChildContext=function(){return r},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&n.some((function(e){e.__e=!0,E(e)}))},this.sub=function(e){n.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){n.splice(n.indexOf(e),1),t&&t.call(e)}}),e.children}};return n.Provider.__=n.Consumer.contextType=n}r=f.slice,i={__e:function(e,t,n,r){for(var i,o,a;t=t.__;)if((i=t.__c)&&!i.__)try{if((o=i.constructor)&&null!=o.getDerivedStateFromError&&(i.setState(o.getDerivedStateFromError(e)),a=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(e,r||{}),a=i.__d),a)return i.__E=i}catch(t){e=t}throw e}},o=0,w.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=v({},this.state),"function"==typeof e&&(e=e(v({},n),this.props)),e&&v(n,e),null!=e&&this.__v&&(t&&this._sb.push(t),E(this))},w.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),E(this))},w.prototype.render=b,a=[],c="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,u=function(e,t){return e.__v.__b-t.__v.__b},C.__r=0,d=0},396:function(e,t,n){"use strict";n.d(t,{I4:function(){return E},Me:function(){return O},Qb:function(){return x},Ye:function(){return A},_Y:function(){return g},aP:function(){return S},bt:function(){return b},cO:function(){return k},d4:function(){return y},eJ:function(){return _},qp:function(){return C},sO:function(){return w}});var r,i,o,a,s=n(400),c=0,u=[],d=[],l=s.YM.__b,f=s.YM.__r,p=s.YM.diffed,h=s.YM.__c,v=s.YM.unmount;function m(e,t){s.YM.__h&&s.YM.__h(i,e,c||t),c=0;var n=i.__H||(i.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({__V:d}),n.__[e]}function _(e){return c=1,g(M,e)}function g(e,t,n){var o=m(r++,2);if(o.t=e,!o.__c&&(o.__=[n?n(t):M(void 0,t),function(e){var t=o.__N?o.__N[0]:o.__[0],n=o.t(t,e);t!==n&&(o.__N=[n,o.__[1]],o.__c.setState({}))}],o.__c=i,!i.u)){var a=function(e,t,n){if(!o.__c.__H)return!0;var r=o.__c.__H.__.filter((function(e){return e.__c}));if(r.every((function(e){return!e.__N})))return!s||s.call(this,e,t,n);var i=!1;return r.forEach((function(e){if(e.__N){var t=e.__[0];e.__=e.__N,e.__N=void 0,t!==e.__[0]&&(i=!0)}})),!(!i&&o.__c.props===e)&&(!s||s.call(this,e,t,n))};i.u=!0;var s=i.shouldComponentUpdate,c=i.componentWillUpdate;i.componentWillUpdate=function(e,t,n){if(this.__e){var r=s;s=void 0,a(e,t,n),s=r}c&&c.call(this,e,t,n)},i.shouldComponentUpdate=a}return o.__N||o.__}function y(e,t){var n=m(r++,3);!s.YM.__s&&T(n.__H,t)&&(n.__=e,n.i=t,i.__H.__h.push(n))}function b(e,t){var n=m(r++,4);!s.YM.__s&&T(n.__H,t)&&(n.__=e,n.i=t,i.__h.push(n))}function w(e){return c=5,A((function(){return{current:e}}),[])}function S(e,t,n){c=6,b((function(){return"function"==typeof e?(e(t()),function(){return e(null)}):e?(e.current=t(),function(){return e.current=null}):void 0}),null==n?n:n.concat(e))}function A(e,t){var n=m(r++,7);return T(n.__H,t)?(n.__V=e(),n.i=t,n.__h=e,n.__V):n.__}function E(e,t){return c=8,A((function(){return e}),t)}function C(e){var t=i.context[e.__c],n=m(r++,9);return n.c=e,t?(null==n.__&&(n.__=!0,t.sub(i)),t.props.value):e.__}function x(e,t){s.YM.useDebugValue&&s.YM.useDebugValue(t?t(e):e)}function k(e){var t=m(r++,10),n=_();return t.__=e,i.componentDidCatch||(i.componentDidCatch=function(e,r){t.__&&t.__(e,r),n[1](e)}),[n[0],function(){n[1](void 0)}]}function O(){var e=m(r++,11);if(!e.__){for(var t=i.__v;null!==t&&!t.__m&&null!==t.__;)t=t.__;var n=t.__m||(t.__m=[0,0]);e.__="P"+n[0]+"-"+n[1]++}return e.__}function I(){for(var e;e=u.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(R),e.__H.__h.forEach(D),e.__H.__h=[]}catch(t){e.__H.__h=[],s.YM.__e(t,e.__v)}}s.YM.__b=function(e){i=null,l&&l(e)},s.YM.__r=function(e){f&&f(e),r=0;var t=(i=e.__c).__H;t&&(o===i?(t.__h=[],i.__h=[],t.__.forEach((function(e){e.__N&&(e.__=e.__N),e.__V=d,e.__N=e.i=void 0}))):(t.__h.forEach(R),t.__h.forEach(D),t.__h=[],r=0)),o=i},s.YM.diffed=function(e){p&&p(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(1!==u.push(t)&&a===s.YM.requestAnimationFrame||((a=s.YM.requestAnimationFrame)||N)(I)),t.__H.__.forEach((function(e){e.i&&(e.__H=e.i),e.__V!==d&&(e.__=e.__V),e.i=void 0,e.__V=d}))),o=i=null},s.YM.__c=function(e,t){t.some((function(e){try{e.__h.forEach(R),e.__h=e.__h.filter((function(e){return!e.__||D(e)}))}catch(n){t.some((function(e){e.__h&&(e.__h=[])})),t=[],s.YM.__e(n,e.__v)}})),h&&h(e,t)},s.YM.unmount=function(e){v&&v(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach((function(e){try{R(e)}catch(e){t=e}})),n.__H=void 0,t&&s.YM.__e(t,n.__v))};var P="function"==typeof requestAnimationFrame;function N(e){var t,n=function(){clearTimeout(r),P&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);P&&(t=requestAnimationFrame(n))}function R(e){var t=i,n=e.__c;"function"==typeof n&&(e.__c=void 0,n()),i=t}function D(e){var t=i;e.__c=e.__(),i=t}function T(e,t){return!e||e.length!==t.length||t.some((function(t,n){return t!==e[n]}))}function M(e,t){return"function"==typeof t?t(e):t}},703:function(e,t,n){"use strict";var r=n(268);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},697:function(e,t,n){e.exports=n(703)()},268:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},921:function(e,t){"use strict";var n="function"==typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,d=n?Symbol.for("react.async_mode"):60111,l=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,h=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,_=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,y=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case d:case l:case o:case s:case a:case p:return e;default:switch(e=e&&e.$$typeof){case u:case f:case m:case v:case c:return e;default:return t}}case i:return t}}}function S(e){return w(e)===l}t.AsyncMode=d,t.ConcurrentMode=l,t.ContextConsumer=u,t.ContextProvider=c,t.Element=r,t.ForwardRef=f,t.Fragment=o,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=s,t.StrictMode=a,t.Suspense=p,t.isAsyncMode=function(e){return S(e)||w(e)===d},t.isConcurrentMode=S,t.isContextConsumer=function(e){return w(e)===u},t.isContextProvider=function(e){return w(e)===c},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===f},t.isFragment=function(e){return w(e)===o},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===a},t.isSuspense=function(e){return w(e)===p},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===l||e===s||e===a||e===p||e===h||"object"==typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===c||e.$$typeof===u||e.$$typeof===f||e.$$typeof===g||e.$$typeof===y||e.$$typeof===b||e.$$typeof===_)},t.typeOf=w},864:function(e,t,n){"use strict";e.exports=n(921)},731:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=((r=n(661))&&r.__esModule?r:{default:r}).default.createContext({});t.default=i},260:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(697))&&r.__esModule?r:{default:r},o=i.default.shape({trackEvent:i.default.func,getTrackingData:i.default.func});t.default=o},204:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){"undefined"!=typeof window&&Object.keys(e).length>0&&(window.dataLayer=window.dataLayer||[]).push(e)}},293:function(e,t,n){"use strict";Object.defineProperty(t,"rS",{enumerable:!0,get:function(){return i.default}});var r=o(n(496)),i=(o(n(996)),o(n(372)),o(n(592)),o(n(260)),o(n(717)));function o(e){return e&&e.__esModule?e:{default:e}}r.default},805:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,n,r){var i=r.configurable,o=r.enumerable,a=r.value,s=r.get,c=r.initializer;if(a)return{configurable:i,enumerable:o,value:e(a)};if(s||c)return{configurable:i,enumerable:o,get:function(){if(this===t)return null;var r=c?Reflect.apply(c,this,[]):Reflect.apply(s,this,[]),a=e(r).bind(this);return Reflect.defineProperty(this,n,{configurable:i,enumerable:o,value:a}),a}};throw new Error("called makeClassMemberDecorator on unsupported descriptor")}}},592:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.default)((function(t){return function(){for(var n=this,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=function(){if(n.props&&n.props.tracking&&"function"==typeof n.props.tracking.trackEvent){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];var a="function"==typeof e?e(n.props,n.state,i,r):e;a&&n.props.tracking.trackEvent(a)}},s=Reflect.apply(t,this,i);return Promise&&Promise.resolve(s)===s?s.then(a.bind(this)).then((function(){return s})).catch((function(e){throw a({},e),e})):(a(),s)}}))};var r,i=(r=n(805))&&r.__esModule?r:{default:r}},496:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return function(){return 1===arguments.length?(0,r.default)(e,t).apply(void 0,arguments):(0,i.default)(e).apply(void 0,arguments)}};var r=o(n(372)),i=o(n(592));function o(e){return e&&e.__esModule?e:{default:e}}},717:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=(0,a.default)(e,t),r=(0,i.useCallback)((function(e){var t=e.children;return i.default.createElement(o.default.Provider,{value:n},t)}),[n]);return(0,i.useDebugValue)(n.tracking.getTrackingData,(function(e){return e()})),(0,i.useMemo)((function(){return{Track:r,getTrackingData:n.tracking.getTrackingData,trackEvent:n.tracking.dispatch}}),[n,r])};var i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}(n(661)),o=s(n(731)),a=s(n(437));function s(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}},437:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=(0,r.useContext)(o.default).tracking,s=(0,r.useRef)(e),c=(0,r.useRef)(t);(0,r.useEffect)((function(){s.current=e,c.current=t}));var u=(0,r.useMemo)((function(){return c.current||{}}),[]),d=u.dispatch,l=void 0===d?a.default:d,f=u.dispatchOnMount,p=void 0!==f&&f,h=u.process,v=(0,r.useCallback)((function(){return n&&n.process}),[n]),m=(0,r.useCallback)((function(){var e=s.current;return("function"==typeof e?e():e)||{}}),[]),_=(0,r.useCallback)((function(){var e=n&&n.getTrackingData||m;return function(){return e===m?m():(0,i.default)(e(),m(),(c.current||{}).mergeOptions)}}),[m,n]),g=(0,r.useCallback)((function(){var e=n&&n.dispatch||l;return function(t){return e((0,i.default)(m(),t||{},(c.current||{}).mergeOptions))}}),[m,n,l]),y=(0,r.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};g()(e)}),[g]);return(0,r.useEffect)((function(){var e=v(),t=_();if(e&&h&&console.error("[react-tracking] options.process should be defined once on a top-level component"),"function"==typeof e&&"function"==typeof p)y((0,i.default)(e(m())||{},p(t())||{},(c.current||{}).mergeOptions));else if("function"==typeof e){var n=e(m());(n||!0===p)&&y(n)}else"function"==typeof p?y(p(t())):!0===p&&y()}),[m,v,_,y,p,h]),(0,r.useMemo)((function(){return{tracking:{dispatch:g(),getTrackingData:_(),process:v()||h}}}),[g,_,v,h])};var r=n(661),i=s(n(996)),o=s(n(731)),a=s(n(204));function s(e){return e&&e.__esModule?e:{default:e}}},372:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.forwardRef,r=void 0!==n&&n,l=m(t,u);return function(t){var n=t.displayName||t.name||"Component";function u(n){var o=n.rtFwdRef,a=m(n,d),u=(0,i.useRef)(a);(0,i.useEffect)((function(){u.current=a}));var f=(0,i.useCallback)((function(){return"function"==typeof e?e(u.current):e}),[]),p=(0,c.default)(f,l),v=(0,i.useMemo)((function(){return{trackEvent:p.tracking.dispatch,getTrackingData:p.tracking.getTrackingData}}),[p]),_=(0,i.useMemo)((function(){return r?h(h({},a),{},{ref:o}):a}),[a,o]);return i.default.createElement(s.default.Provider,{value:p},i.default.createElement(t,h(h({},_),{},{tracking:v})))}if(r){var f=i.default.forwardRef((function(e,t){return i.default.createElement(u,h(h({},e),{},{rtFwdRef:t}))}));return f.displayName="WithTracking(".concat(n,")"),(0,o.default)(f,t),f}return u.displayName="WithTracking(".concat(n,")"),u.propTypes={rtFwdRef:a.default.oneOfType([a.default.func,a.default.shape({current:a.default.any})])},u.defaultProps={rtFwdRef:void 0},(0,o.default)(u,t),u}};var i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}(n(661)),o=l(n(679)),a=l(n(697)),s=l(n(731)),c=l(n(437)),u=["forwardRef"],d=["rtFwdRef"];function l(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}},250:function(e,t,n){"use strict";var r=n(661),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},o=r.useState,a=r.useEffect,s=r.useLayoutEffect,c=r.useDebugValue;function u(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(e){return!0}}var d="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=o({inst:{value:n,getSnapshot:t}}),i=r[0].inst,d=r[1];return s((function(){i.value=n,i.getSnapshot=t,u(i)&&d({inst:i})}),[e,n,t]),a((function(){return u(i)&&d({inst:i}),e((function(){u(i)&&d({inst:i})}))}),[e]),c(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:d},139:function(e,t,n){"use strict";var r=n(661),i=n(688),o="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=i.useSyncExternalStore,s=r.useRef,c=r.useEffect,u=r.useMemo,d=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var l=s(null);if(null===l.current){var f={hasValue:!1,value:null};l.current=f}else f=l.current;l=u((function(){function e(e){if(!c){if(c=!0,a=e,e=r(e),void 0!==i&&f.hasValue){var t=f.value;if(i(t,e))return s=t}return s=e}if(t=s,o(a,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(a=e,s=n)}var a,s,c=!1,u=void 0===n?null:n;return[function(){return e(t())},null===u?void 0:function(){return e(u())}]}),[t,n,r,i]);var p=a(e,l[0],l[1]);return c((function(){f.hasValue=!0,f.value=p}),[p]),d(p),p}},688:function(e,t,n){"use strict";e.exports=n(250)},798:function(e,t,n){"use strict";e.exports=n(139)},134:function(e){"use strict";e.exports=window.__SPOTIM__.libSlimLauncher.pubSub}},r={};function i(e){var t=r[e];if(void 0!==t)return t.exports;var o=r[e]={exports:{}};return n[e](o,o.exports,i),o.exports}i.m=n,i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,{a:t}),t},i.d=function(e,t){for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.f={},i.e=function(e){return Promise.all(Object.keys(i.f).reduce((function(t,n){return i.f[n](e,t),t}),[]))},i.u=function(e){return e+".js"},i.miniCssF=function(e){},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},e={},t="ads:",i.l=function(n,r,o,a){if(e[n])e[n].push(r);else{var s,c;if(void 0!==o)for(var u=document.getElementsByTagName("script"),d=0;d<u.length;d++){var l=u[d];if(l.getAttribute("src")==n||l.getAttribute("data-webpack")==t+o){s=l;break}}s||(c=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,i.nc&&s.setAttribute("nonce",i.nc),s.setAttribute("data-webpack",t+o),s.src=n),e[n]=[r];var f=function(t,r){s.onerror=s.onload=null,clearTimeout(p);var i=e[n];if(delete e[n],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(r)})),t)return t(r)},p=setTimeout(f.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=f.bind(null,s.onerror),s.onload=f.bind(null,s.onload),c&&document.head.appendChild(s)}},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.p="https://static-cdn.spot.im/production/ads/tags/v22.18.0/ads-independent/",function(){var e={"ads-independent":0};i.f.j=function(t,n){var r=i.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var o=new Promise((function(n,i){r=e[t]=[n,i]}));n.push(r[2]=o);var a=i.p+i.u(t),s=new Error;i.l(a,(function(n){if(i.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var o=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,r[1](s)}}),"chunk-"+t,t)}};var t=function(t,n){var r,o,a=n[0],s=n[1],c=n[2],u=0;if(a.some((function(t){return 0!==e[t]}))){for(r in s)i.o(s,r)&&(i.m[r]=s[r]);c&&c(i)}for(t&&t(n);u<a.length;u++)o=a[u],i.o(e,o)&&e[o]&&e[o][0](),e[o]=0},n=self.webpackChunkads=self.webpackChunkads||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}(),function(){"use strict";var e=i(134),t=i(414),n=function(e){return e.ABTestsConfigReady="ab-tests-config-ready",e.ConfigProviderReady="config-provider-ready",e.DeviceUUIDReady="device-uuid-ready",e.SingleGWConfigReady="single-gw-config-ready",e}(n||{});const r=e=>{(0,i(466).Z)(e)};(()=>{const t=Boolean(window.__OW_CONFIG__?.tenant_config?.shared?.enable_concurrent_ads_flow);switch(!0){case Boolean(window.__OW_CONFIG__?.tenant_config?.shared?.enable_single_gw):(0,e.subscribe)(n.SingleGWConfigReady,(async e=>{r(e)}));break;case t:(()=>{const t=[n.ConfigProviderReady,n.DeviceUUIDReady],i=[],o=Boolean(window.__OW_CONFIG__?.tenant_config?.ads?.observed_ab_test_experiment_id);let a=!1;const s=e=>{i.includes(e)||i.push(e),a||i.length!==t.length||(r(),a=!0)};o&&(t.push(n.ABTestsConfigReady),(0,e.subscribe)(n.ABTestsConfigReady,(()=>{s(n.ABTestsConfigReady)}))),(0,e.subscribe)(n.ConfigProviderReady,(()=>{s(n.ConfigProviderReady)})),(0,e.subscribe)(n.DeviceUUIDReady,(()=>{s(n.DeviceUUIDReady)}))})();break;default:r()}})(),(async()=>{if([Boolean(new URLSearchParams(window.location.search).get(t.Rc.PerformanceMeasurement)),Boolean(sessionStorage.getItem(t.BU.PerformanceMeasurement))].some(Boolean)){const{measurePerformance:e}=await i.e("performance").then(i.bind(i,351));e()}})()}()}();
//# sourceMappingURL=https://go-s3-downloader.dev-openweb.com/download/ads/tags/v22.18.0/sourcemaps/ads-independent/ads-independent.js.map